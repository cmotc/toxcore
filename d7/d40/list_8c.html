<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>libtoxcore: toxcore/list.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../tox.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">libtoxcore
   </div>
   <div id="projectbrief">The future of instant messaging</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_0b4cb6aa1b49ded7d7b217b80a3955c0.html">toxcore</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">list.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../da/d23/list_8h_source.html">list.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for list.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/dfe/list_8c__incl.png" border="0" usemap="#toxcore_2list_8c" alt=""/></div>
<map name="toxcore_2list_8c" id="toxcore_2list_8c">
<area shape="rect" id="node2" href="../../da/d23/list_8h.html" title="list.h" alt="" coords="101,80,152,107"/></map>
</div>
</div>
<p><a href="../../d7/d40/list_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa5fad23b2a5eed790e6661e896a506b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d40/list_8c.html#aa5fad23b2a5eed790e6661e896a506b7">INDEX</a>(<a class="el" href="../../d6/dc0/toxav__many__test_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)&#160;&#160;&#160;(~<a class="el" href="../../d6/dc0/toxav__many__test_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</td></tr>
<tr class="separator:aa5fad23b2a5eed790e6661e896a506b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae2aaa4149a770ed6e47a58af78fc6600"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d40/list_8c.html#ae2aaa4149a770ed6e47a58af78fc6600">find</a> (const <a class="el" href="../../d6/d48/struct_b_s___l_i_s_t.html">BS_LIST</a> *list, const uint8_t *data)</td></tr>
<tr class="separator:ae2aaa4149a770ed6e47a58af78fc6600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c246868ee5a3542509cdf90379c5bb2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d40/list_8c.html#a7c246868ee5a3542509cdf90379c5bb2">resize</a> (<a class="el" href="../../d6/d48/struct_b_s___l_i_s_t.html">BS_LIST</a> *list, uint32_t new_size)</td></tr>
<tr class="separator:a7c246868ee5a3542509cdf90379c5bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b07772cffb6af34e279f424dca08895"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d40/list_8c.html#a7b07772cffb6af34e279f424dca08895">bs_list_init</a> (<a class="el" href="../../d6/d48/struct_b_s___l_i_s_t.html">BS_LIST</a> *list, uint32_t element_size, uint32_t initial_capacity)</td></tr>
<tr class="separator:a7b07772cffb6af34e279f424dca08895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f4503183113923cd946fc04bf8f2b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d40/list_8c.html#a20f4503183113923cd946fc04bf8f2b4">bs_list_free</a> (<a class="el" href="../../d6/d48/struct_b_s___l_i_s_t.html">BS_LIST</a> *list)</td></tr>
<tr class="separator:a20f4503183113923cd946fc04bf8f2b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2ee2cbbc130c7c976f2c69bda129bd1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d40/list_8c.html#aa2ee2cbbc130c7c976f2c69bda129bd1">bs_list_find</a> (const <a class="el" href="../../d6/d48/struct_b_s___l_i_s_t.html">BS_LIST</a> *list, const uint8_t *data)</td></tr>
<tr class="separator:aa2ee2cbbc130c7c976f2c69bda129bd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace05755dd126bff18700a17d6f8edd28"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d40/list_8c.html#ace05755dd126bff18700a17d6f8edd28">bs_list_add</a> (<a class="el" href="../../d6/d48/struct_b_s___l_i_s_t.html">BS_LIST</a> *list, const uint8_t *data, int id)</td></tr>
<tr class="separator:ace05755dd126bff18700a17d6f8edd28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a365995457101cc16f8c6b25ead07fb6f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d40/list_8c.html#a365995457101cc16f8c6b25ead07fb6f">bs_list_remove</a> (<a class="el" href="../../d6/d48/struct_b_s___l_i_s_t.html">BS_LIST</a> *list, const uint8_t *data, int id)</td></tr>
<tr class="separator:a365995457101cc16f8c6b25ead07fb6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeda2a6221e746f07877dbdf854831dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d40/list_8c.html#afeda2a6221e746f07877dbdf854831dc">bs_list_trim</a> (<a class="el" href="../../d6/d48/struct_b_s___l_i_s_t.html">BS_LIST</a> *list)</td></tr>
<tr class="separator:afeda2a6221e746f07877dbdf854831dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aa5fad23b2a5eed790e6661e896a506b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INDEX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d6/dc0/toxav__many__test_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></td><td>)</td>
          <td>&#160;&#160;&#160;(~<a class="el" href="../../d6/dc0/toxav__many__test_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d40/list_8c_source.html#l00039">39</a> of file <a class="el" href="../../d7/d40/list_8c_source.html">list.c</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d40/list_8c_source.html#l00048">find()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ace05755dd126bff18700a17d6f8edd28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bs_list_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d48/struct_b_s___l_i_s_t.html">BS_LIST</a> *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d40/list_8c_source.html#l00177">177</a> of file <a class="el" href="../../d7/d40/list_8c_source.html">list.c</a>.</p>

<p>References <a class="el" href="../../da/d23/list_8h_source.html#l00035">BS_LIST::capacity</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00037">BS_LIST::data</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00036">BS_LIST::element_size</a>, <a class="el" href="../../d7/d40/list_8c_source.html#l00048">find()</a>, <a class="el" href="../../d6/dc0/toxav__many__test_8c_source.html#l00278">i</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00038">BS_LIST::ids</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00034">BS_LIST::n</a>, and <a class="el" href="../../d7/d40/list_8c_source.html#l00114">resize()</a>.</p>

<p>Referenced by <a class="el" href="../../d4/d40/_t_c_p__server_8c_source.html#l00113">add_accepted()</a>, <a class="el" href="../../d8/dc6/net__crypto_8c_source.html#l01469">crypto_connection_add_source()</a>, and <a class="el" href="../../d8/dc6/net__crypto_8c_source.html#l01680">set_direct_ip_port()</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">//find where the new element should be inserted</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">//see: return value of find()</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../d7/d40/list_8c.html#ae2aaa4149a770ed6e47a58af78fc6600">find</a>(list, <a class="code" href="../../df/db5/namespacemake-funny-savefile.html#aa7a0efb8690a34f61a95b00cc723ca27">data</a>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (i &gt;= 0) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="comment">//already in list</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    i = ~i;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">//increase the size of the arrays if needed</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span> (list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">n</a> == list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a391c992c66c3e5540265a85ec2b9216a">capacity</a>) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="comment">// 1.5 * n + 1</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keyword">const</span> uint32_t new_capacity = list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">n</a> + list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">n</a> / 2 + 1;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d40/list_8c.html#a7c246868ee5a3542509cdf90379c5bb2">resize</a>(list, new_capacity)) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a391c992c66c3e5540265a85ec2b9216a">capacity</a> = new_capacity;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">//insert data to element array</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    memmove(list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#abe222f6d3581e7920dcad5306cc906a8">data</a> + (i + 1) * list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">element_size</a>, list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#abe222f6d3581e7920dcad5306cc906a8">data</a> + i * list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">element_size</a>,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            (list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">n</a> - i) * list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">element_size</a>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    memcpy(list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#abe222f6d3581e7920dcad5306cc906a8">data</a> + i * list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">element_size</a>, <a class="code" href="../../df/db5/namespacemake-funny-savefile.html#aa7a0efb8690a34f61a95b00cc723ca27">data</a>, list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">element_size</a>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">//insert id to id array</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    memmove(&amp;list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">ids</a>[i + 1], &amp;list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">ids</a>[i], (list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">n</a> - i) * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">ids</a>[<a class="code" href="../../d6/dc0/toxav__many__test_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = id;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">//increase n</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">n</a>++;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a4ff545e181548785b8e257d2a8ac857a"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">BS_LIST::element_size</a></div><div class="ttdeci">uint32_t element_size</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00036">list.h:36</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a6081d5fc46a8899b4beb60b0df7dd190"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">BS_LIST::ids</a></div><div class="ttdeci">int * ids</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00038">list.h:38</a></div></div>
<div class="ttc" id="list_8c_html_a7c246868ee5a3542509cdf90379c5bb2"><div class="ttname"><a href="../../d7/d40/list_8c.html#a7c246868ee5a3542509cdf90379c5bb2">resize</a></div><div class="ttdeci">static int resize(BS_LIST *list, uint32_t new_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d40/list_8c_source.html#l00114">list.c:114</a></div></div>
<div class="ttc" id="namespacemake-funny-savefile_html_aa7a0efb8690a34f61a95b00cc723ca27"><div class="ttname"><a href="../../df/db5/namespacemake-funny-savefile.html#aa7a0efb8690a34f61a95b00cc723ca27">make-funny-savefile.data</a></div><div class="ttdeci">tuple data</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d01/make-funny-savefile_8py_source.html#l00098">make-funny-savefile.py:98</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a391c992c66c3e5540265a85ec2b9216a"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a391c992c66c3e5540265a85ec2b9216a">BS_LIST::capacity</a></div><div class="ttdeci">uint32_t capacity</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00035">list.h:35</a></div></div>
<div class="ttc" id="list_8c_html_ae2aaa4149a770ed6e47a58af78fc6600"><div class="ttname"><a href="../../d7/d40/list_8c.html#ae2aaa4149a770ed6e47a58af78fc6600">find</a></div><div class="ttdeci">static int find(const BS_LIST *list, const uint8_t *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d40/list_8c_source.html#l00048">list.c:48</a></div></div>
<div class="ttc" id="toxav__many__test_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d6/dc0/toxav__many__test_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc0/toxav__many__test_8c_source.html#l00278">toxav_many_test.c:278</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a3d8a9527a2ee4a7ebf59175650142e75"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">BS_LIST::n</a></div><div class="ttdeci">uint32_t n</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00034">list.h:34</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_abe222f6d3581e7920dcad5306cc906a8"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#abe222f6d3581e7920dcad5306cc906a8">BS_LIST::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00037">list.h:37</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d40/list_8c_ace05755dd126bff18700a17d6f8edd28_cgraph.png" border="0" usemap="#d7/d40/list_8c_ace05755dd126bff18700a17d6f8edd28_cgraph" alt=""/></div>
<map name="d7/d40/list_8c_ace05755dd126bff18700a17d6f8edd28_cgraph" id="d7/d40/list_8c_ace05755dd126bff18700a17d6f8edd28_cgraph">
<area shape="rect" id="node2" href="../../d7/d40/list_8c.html#ae2aaa4149a770ed6e47a58af78fc6600" title="find" alt="" coords="149,5,191,32"/><area shape="rect" id="node3" href="../../d7/d40/list_8c.html#a7c246868ee5a3542509cdf90379c5bb2" title="resize" alt="" coords="141,56,199,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d40/list_8c_ace05755dd126bff18700a17d6f8edd28_icgraph.png" border="0" usemap="#d7/d40/list_8c_ace05755dd126bff18700a17d6f8edd28_icgraph" alt=""/></div>
<map name="d7/d40/list_8c_ace05755dd126bff18700a17d6f8edd28_icgraph" id="d7/d40/list_8c_ace05755dd126bff18700a17d6f8edd28_icgraph">
<area shape="rect" id="node2" href="../../d4/d40/_t_c_p__server_8c.html#a1ae92403cba7d9cf7248d594f15b0d62" title="add_accepted" alt="" coords="153,145,255,172"/><area shape="rect" id="node19" href="../../d8/dc6/net__crypto_8c.html#a9e779393ece10111b0ac7fe2bbc3beeb" title="crypto_connection_add\l_source" alt="" coords="532,411,688,453"/><area shape="rect" id="node36" href="../../de/d42/net__crypto_8h.html#a8ced4e168a95db5708bf4b3095cb4df6" title="set_direct_ip_port" alt="" coords="141,233,267,260"/><area shape="rect" id="node3" href="../../d4/d40/_t_c_p__server_8c.html#a00813f259948ef060f6ab7ec40da2f2c" title="confirm_TCP_connection" alt="" coords="315,107,484,133"/><area shape="rect" id="node4" href="../../d4/d40/_t_c_p__server_8c.html#a8cdae1ef768b85b02dcc79ff2258606f" title="do_unconfirmed" alt="" coords="553,107,667,133"/><area shape="rect" id="node5" href="../../d4/d40/_t_c_p__server_8c.html#aed90b296bcb98bcb905565ae68548c9a" title="do_TCP_unconfirmed" alt="" coords="749,107,897,133"/><area shape="rect" id="node6" href="../../d6/d03/_t_c_p__server_8h.html#a40e8a0302a359dd4f712eb1e9c346fe5" title="do_TCP_server" alt="" coords="986,107,1099,133"/><area shape="rect" id="node7" href="../../d2/d8d/_t_c_p__test_8c.html#ad7475d1539db4bb3bcf8673dd7f7cf68" title="START_TEST" alt="" coords="1203,56,1309,83"/><area shape="rect" id="node8" href="../../d2/d8d/_t_c_p__test_8c.html#a8958ca530ce6534e81eaa06e582a26ad" title="new_TCP_con" alt="" coords="1202,5,1310,32"/><area shape="rect" id="node10" href="../../d1/d36/tox-bootstrapd_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1231,107,1281,133"/><area shape="rect" id="node11" href="../../d4/d30/_messenger_8h.html#ae0686caa878183a98920aeb7486afcb6" title="do_messenger" alt="" coords="1411,157,1517,184"/><area shape="rect" id="node9" href="../../d2/d8d/_t_c_p__test_8c.html#a0ee98d716eb7311dd4b6d217289734ff" title="START_TEST" alt="" coords="1411,5,1517,32"/><area shape="rect" id="node12" href="../../db/de9/_messenger__test_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1639,208,1689,235"/><area shape="rect" id="node13" href="../../da/d8f/tox_8h.html#a649c8740c523fb52272396cb0b70b8dc" title="tox_iterate" alt="" coords="1623,157,1705,184"/><area shape="rect" id="node14" href="../../d9/d35/tox__test_8c.html#a4c612d3a3f15c8fbf2e4bde8002bc33b" title="START_TEST" alt="" coords="1785,157,1892,184"/><area shape="rect" id="node15" href="../../d6/dc0/toxav__many__test_8c.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39" title="while" alt="" coords="1813,208,1865,235"/><area shape="rect" id="node16" href="../../db/d11/irc__syncbot_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1940,233,1991,260"/><area shape="rect" id="node17" href="../../d2/d65/n_tox_8c.html#a1e3c1630c0ca8b687a6a878aa27dd69c" title="line_eval" alt="" coords="1802,309,1875,336"/><area shape="rect" id="node18" href="../../d2/d65/n_tox_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1940,335,1991,361"/><area shape="rect" id="node20" href="../../d8/dc6/net__crypto_8c.html#ae8139c35468806f25d5aed185edcc5a1" title="handle_new_connection\l_handshake" alt="" coords="743,462,904,503"/><area shape="rect" id="node33" href="../../de/d42/net__crypto_8h.html#ab11f6e96035c3717a21b809d5373f96f" title="accept_crypto_connection" alt="" coords="736,411,911,437"/><area shape="rect" id="node21" href="../../d8/dc6/net__crypto_8c.html#a86a3ff661a8b9b10fd7c0daee3901091" title="tcp_oob_callback" alt="" coords="981,440,1104,467"/><area shape="rect" id="node32" href="../../d8/dc6/net__crypto_8c.html#a812ca8a7291e22ce343669c9835c7c12" title="udp_handle_packet" alt="" coords="975,491,1110,517"/><area shape="rect" id="node22" href="../../de/d42/net__crypto_8h.html#a5e46c6f42e93e2aa968f8f63de90a53c" title="new_net_crypto" alt="" coords="1199,445,1313,472"/><area shape="rect" id="node23" href="../../d7/dd9/onion__test_8c.html#a5945771cafdfe39074adf8ddd47ae81b" title="new_onions" alt="" coords="1419,456,1509,483"/><area shape="rect" id="node25" href="../../d4/d30/_messenger_8h.html#af015ea2e74c58196e0564719a6c6a112" title="new_messenger" alt="" coords="1405,405,1523,432"/><area shape="rect" id="node24" href="../../d7/dd9/onion__test_8c.html#a1bd0e98b361db6749c50308a7555a192" title="START_TEST" alt="" coords="1611,461,1717,488"/><area shape="rect" id="node26" href="../../d8/dda/messenger__test_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1639,360,1689,387"/><area shape="rect" id="node27" href="../../da/d8f/tox_8h.html#aa0e6afccd06a766b84a0633e259f9165" title="Creates and initialises a new Tox instance with the options passed. " alt="" coords="1629,411,1699,437"/><area shape="rect" id="node28" href="../../d0/de9/encryptsave__test_8c.html#abfc6ca1e662bc2b41efecb0b9e35cc9d" title="START_TEST" alt="" coords="1785,360,1892,387"/><area shape="rect" id="node29" href="../../db/d11/irc__syncbot_8c.html#a7a3ec256dab5cbac9fc01ff328980da7" title="init_tox" alt="" coords="1807,259,1871,285"/><area shape="rect" id="node30" href="../../d2/d65/n_tox_8c.html#ac47fc78dd12365ddfd46c70003627250" title="load_data" alt="" coords="1799,411,1878,437"/><area shape="rect" id="node31" href="../../d7/db1/tox__shell_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1813,461,1864,488"/><area shape="rect" id="node34" href="../../d2/db1/friend__connection_8c.html#ad12421e11a4e0a8ca7223e0d715d2b0c" title="handle_new_connections" alt="" coords="959,360,1127,387"/><area shape="rect" id="node35" href="../../d0/d08/friend__connection_8h.html#a319bec2419cf5fc5525af4fae03b86ef" title="new_friend_connections" alt="" coords="1175,385,1337,412"/><area shape="rect" id="node37" href="../../d2/db1/friend__connection_8c.html#a6aa37bc6ee3246c06d37000677b205e8" title="dht_ip_callback" alt="" coords="343,233,455,260"/><area shape="rect" id="node41" href="../../d0/d08/friend__connection_8h.html#aea88c3aa2deff558e9b13ed5229cbb6b" title="do_friend_connections" alt="" coords="1180,208,1332,235"/><area shape="rect" id="node38" href="../../d2/db1/friend__connection_8c.html#aa293768f213199a635ce0b4a94489cdf" title="change_dht_pk" alt="" coords="555,259,665,285"/><area shape="rect" id="node39" href="../../d2/db1/friend__connection_8c.html#a53d1bd9e6126683e05e0e14cc70d1a8a" title="dht_pk_callback" alt="" coords="765,259,881,285"/><area shape="rect" id="node40" href="../../d2/db1/friend__connection_8c.html#ac2af058fd8684e6abc7b136889f5f4e5" title="friend_new_connection" alt="" coords="965,208,1120,235"/><area shape="rect" id="node42" href="../../d0/d08/friend__connection_8h.html#a613a80a004fccd616de2a67d84a25d3c" title="new_friend_connection" alt="" coords="965,309,1120,336"/><area shape="rect" id="node50" href="../../d0/d08/friend__connection_8h.html#a04fb221a2ac726ec3ca86be7b1e63238" title="set_dht_temp_pk" alt="" coords="981,259,1104,285"/><area shape="rect" id="node43" href="../../df/de9/toxcore_2group_8c.html#ab08da4834d9772b1ef1f3b35ae5197c1" title="connect_to_closest" alt="" coords="1189,259,1323,285"/><area shape="rect" id="node45" href="../../d8/d8d/_messenger_8c.html#aa3be5ad998d2b0ced07aceab765eaa2f" title="init_new_friend" alt="" coords="1201,309,1311,336"/><area shape="rect" id="node44" href="../../dd/de4/toxcore_2group_8h.html#a9529a2149c68cbff38d43419d9ebeecc" title="do_groupchats" alt="" coords="1411,208,1517,235"/><area shape="rect" id="node46" href="../../d4/d30/_messenger_8h.html#ac77431b1ab0b12af003657e11057bd9c" title="m_addfriend" alt="" coords="1417,259,1511,285"/><area shape="rect" id="node49" href="../../d4/d30/_messenger_8h.html#a2f7aa06733a25e8c0edc8f31a22a78dc" title="m_addfriend_norequest" alt="" coords="1385,309,1543,336"/><area shape="rect" id="node47" href="../../d2/dee/friends__test_8c.html#a7266443b3a915168c8c968318182d3d5" title="parent_friend_request" alt="" coords="1591,259,1737,285"/><area shape="rect" id="node48" href="../../d8/d8d/_messenger_8c.html#ad971e0d0877b61a160884d59527d39d9" title="friends_list_load" alt="" coords="1606,309,1722,336"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa2ee2cbbc130c7c976f2c69bda129bd1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bs_list_find </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/d48/struct_b_s___l_i_s_t.html">BS_LIST</a> *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d40/list_8c_source.html#l00165">165</a> of file <a class="el" href="../../d7/d40/list_8c_source.html">list.c</a>.</p>

<p>References <a class="el" href="../../d7/d40/list_8c_source.html#l00048">find()</a>, and <a class="el" href="../../da/d23/list_8h_source.html#l00038">BS_LIST::ids</a>.</p>

<p>Referenced by <a class="el" href="../../d8/dc6/net__crypto_8c_source.html#l01980">crypto_id_ip_port()</a>, and <a class="el" href="../../d4/d40/_t_c_p__server_8c_source.html#l00100">get_TCP_connection_index()</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordtype">int</span> r = <a class="code" href="../../d7/d40/list_8c.html#ae2aaa4149a770ed6e47a58af78fc6600">find</a>(list, <a class="code" href="../../df/db5/namespacemake-funny-savefile.html#aa7a0efb8690a34f61a95b00cc723ca27">data</a>);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">//return only -1 and positive values</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (r &lt; 0) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">return</span> list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">ids</a>[r];</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a6081d5fc46a8899b4beb60b0df7dd190"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">BS_LIST::ids</a></div><div class="ttdeci">int * ids</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00038">list.h:38</a></div></div>
<div class="ttc" id="namespacemake-funny-savefile_html_aa7a0efb8690a34f61a95b00cc723ca27"><div class="ttname"><a href="../../df/db5/namespacemake-funny-savefile.html#aa7a0efb8690a34f61a95b00cc723ca27">make-funny-savefile.data</a></div><div class="ttdeci">tuple data</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d01/make-funny-savefile_8py_source.html#l00098">make-funny-savefile.py:98</a></div></div>
<div class="ttc" id="list_8c_html_ae2aaa4149a770ed6e47a58af78fc6600"><div class="ttname"><a href="../../d7/d40/list_8c.html#ae2aaa4149a770ed6e47a58af78fc6600">find</a></div><div class="ttdeci">static int find(const BS_LIST *list, const uint8_t *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d40/list_8c_source.html#l00048">list.c:48</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d40/list_8c_aa2ee2cbbc130c7c976f2c69bda129bd1_cgraph.png" border="0" usemap="#d7/d40/list_8c_aa2ee2cbbc130c7c976f2c69bda129bd1_cgraph" alt=""/></div>
<map name="d7/d40/list_8c_aa2ee2cbbc130c7c976f2c69bda129bd1_cgraph" id="d7/d40/list_8c_aa2ee2cbbc130c7c976f2c69bda129bd1_cgraph">
<area shape="rect" id="node2" href="../../d7/d40/list_8c.html#ae2aaa4149a770ed6e47a58af78fc6600" title="find" alt="" coords="141,5,184,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d40/list_8c_aa2ee2cbbc130c7c976f2c69bda129bd1_icgraph.png" border="0" usemap="#d7/d40/list_8c_aa2ee2cbbc130c7c976f2c69bda129bd1_icgraph" alt=""/></div>
<map name="d7/d40/list_8c_aa2ee2cbbc130c7c976f2c69bda129bd1_icgraph" id="d7/d40/list_8c_aa2ee2cbbc130c7c976f2c69bda129bd1_icgraph">
<area shape="rect" id="node2" href="../../d8/dc6/net__crypto_8c.html#ace680157da68eb91755350d0cb14cd8f" title="crypto_id_ip_port" alt="" coords="153,135,274,161"/><area shape="rect" id="node16" href="../../d4/d40/_t_c_p__server_8c.html#a11f81fcb9060389c52d55b079e1b8f3b" title="get_TCP_connection\l_index" alt="" coords="141,207,285,249"/><area shape="rect" id="node3" href="../../d8/dc6/net__crypto_8c.html#a812ca8a7291e22ce343669c9835c7c12" title="udp_handle_packet" alt="" coords="549,124,684,151"/><area shape="rect" id="node4" href="../../de/d42/net__crypto_8h.html#a5e46c6f42e93e2aa968f8f63de90a53c" title="new_net_crypto" alt="" coords="1151,124,1266,151"/><area shape="rect" id="node5" href="../../d7/dd9/onion__test_8c.html#a5945771cafdfe39074adf8ddd47ae81b" title="new_onions" alt="" coords="1344,137,1435,164"/><area shape="rect" id="node7" href="../../d4/d30/_messenger_8h.html#af015ea2e74c58196e0564719a6c6a112" title="new_messenger" alt="" coords="1331,87,1448,113"/><area shape="rect" id="node6" href="../../d7/dd9/onion__test_8c.html#a1bd0e98b361db6749c50308a7555a192" title="START_TEST" alt="" coords="1497,137,1603,164"/><area shape="rect" id="node8" href="../../d8/dda/messenger__test_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1525,87,1575,113"/><area shape="rect" id="node9" href="../../da/d8f/tox_8h.html#aa0e6afccd06a766b84a0633e259f9165" title="Creates and initialises a new Tox instance with the options passed. " alt="" coords="1515,36,1585,63"/><area shape="rect" id="node10" href="../../d0/de9/encryptsave__test_8c.html#abfc6ca1e662bc2b41efecb0b9e35cc9d" title="START_TEST" alt="" coords="1652,137,1759,164"/><area shape="rect" id="node11" href="../../db/d11/irc__syncbot_8c.html#a7a3ec256dab5cbac9fc01ff328980da7" title="init_tox" alt="" coords="1673,36,1737,63"/><area shape="rect" id="node13" href="../../d2/d65/n_tox_8c.html#ac47fc78dd12365ddfd46c70003627250" title="load_data" alt="" coords="1821,5,1899,32"/><area shape="rect" id="node15" href="../../d7/db1/tox__shell_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1680,87,1731,113"/><area shape="rect" id="node12" href="../../db/d11/irc__syncbot_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1835,75,1885,101"/><area shape="rect" id="node14" href="../../d2/d65/n_tox_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1961,109,2012,136"/><area shape="rect" id="node17" href="../../d4/d40/_t_c_p__server_8c.html#a1ae92403cba7d9cf7248d594f15b0d62" title="add_accepted" alt="" coords="565,276,668,303"/><area shape="rect" id="node32" href="../../d4/d40/_t_c_p__server_8c.html#af925f101a4e90d1fa2381536ef23a794" title="handle_TCP_routing_req" alt="" coords="333,225,499,252"/><area shape="rect" id="node36" href="../../d4/d40/_t_c_p__server_8c.html#a7631710481101de4b345f7e318fdb88a" title="handle_TCP_oob_send" alt="" coords="337,175,495,201"/><area shape="rect" id="node18" href="../../d4/d40/_t_c_p__server_8c.html#a00813f259948ef060f6ab7ec40da2f2c" title="confirm_TCP_connection" alt="" coords="735,276,904,303"/><area shape="rect" id="node19" href="../../d4/d40/_t_c_p__server_8c.html#a8cdae1ef768b85b02dcc79ff2258606f" title="do_unconfirmed" alt="" coords="962,276,1077,303"/><area shape="rect" id="node20" href="../../d4/d40/_t_c_p__server_8c.html#aed90b296bcb98bcb905565ae68548c9a" title="do_TCP_unconfirmed" alt="" coords="1135,276,1283,303"/><area shape="rect" id="node21" href="../../d6/d03/_t_c_p__server_8h.html#a40e8a0302a359dd4f712eb1e9c346fe5" title="do_TCP_server" alt="" coords="1333,251,1446,277"/><area shape="rect" id="node22" href="../../d2/d8d/_t_c_p__test_8c.html#ad7475d1539db4bb3bcf8673dd7f7cf68" title="START_TEST" alt="" coords="1497,340,1603,367"/><area shape="rect" id="node23" href="../../d2/d8d/_t_c_p__test_8c.html#a8958ca530ce6534e81eaa06e582a26ad" title="new_TCP_con" alt="" coords="1496,188,1604,215"/><area shape="rect" id="node25" href="../../d1/d36/tox-bootstrapd_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1525,239,1575,265"/><area shape="rect" id="node26" href="../../d4/d30/_messenger_8h.html#ae0686caa878183a98920aeb7486afcb6" title="do_messenger" alt="" coords="1497,289,1603,316"/><area shape="rect" id="node24" href="../../d2/d8d/_t_c_p__test_8c.html#a0ee98d716eb7311dd4b6d217289734ff" title="START_TEST" alt="" coords="1652,188,1759,215"/><area shape="rect" id="node27" href="../../db/de9/_messenger__test_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1680,289,1731,316"/><area shape="rect" id="node28" href="../../da/d8f/tox_8h.html#a649c8740c523fb52272396cb0b70b8dc" title="tox_iterate" alt="" coords="1664,239,1747,265"/><area shape="rect" id="node29" href="../../d9/d35/tox__test_8c.html#a4c612d3a3f15c8fbf2e4bde8002bc33b" title="START_TEST" alt="" coords="1807,264,1913,291"/><area shape="rect" id="node30" href="../../d6/dc0/toxav__many__test_8c.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39" title="while" alt="" coords="1834,163,1886,189"/><area shape="rect" id="node31" href="../../d2/d65/n_tox_8c.html#a1e3c1630c0ca8b687a6a878aa27dd69c" title="line_eval" alt="" coords="1823,213,1897,240"/><area shape="rect" id="node33" href="../../d4/d40/_t_c_p__server_8c.html#a904af6fcbd24cb3f75c4a04470be46de" title="handle_TCP_packet" alt="" coords="547,225,687,252"/><area shape="rect" id="node34" href="../../d4/d40/_t_c_p__server_8c.html#ab84742dd52ed6c8e83287ea5202e4326" title="do_confirmed_recv" alt="" coords="753,225,885,252"/><area shape="rect" id="node35" href="../../d4/d40/_t_c_p__server_8c.html#a001f38d27860442b6fe9fe7dd030a7a0" title="do_TCP_confirmed" alt="" coords="952,225,1087,252"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a20f4503183113923cd946fc04bf8f2b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bs_list_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d48/struct_b_s___l_i_s_t.html">BS_LIST</a> *&#160;</td>
          <td class="paramname"><em>list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d40/list_8c_source.html#l00158">158</a> of file <a class="el" href="../../d7/d40/list_8c_source.html">list.c</a>.</p>

<p>References <a class="el" href="../../da/d23/list_8h_source.html#l00037">BS_LIST::data</a>, and <a class="el" href="../../da/d23/list_8h_source.html#l00038">BS_LIST::ids</a>.</p>

<p>Referenced by <a class="el" href="../../d8/dc6/net__crypto_8c_source.html#l02505">kill_net_crypto()</a>, and <a class="el" href="../../d4/d40/_t_c_p__server_8c_source.html#l01321">kill_TCP_server()</a>.</p>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">//free both arrays</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    free(list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#abe222f6d3581e7920dcad5306cc906a8">data</a>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    free(list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">ids</a>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a6081d5fc46a8899b4beb60b0df7dd190"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">BS_LIST::ids</a></div><div class="ttdeci">int * ids</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00038">list.h:38</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_abe222f6d3581e7920dcad5306cc906a8"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#abe222f6d3581e7920dcad5306cc906a8">BS_LIST::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00037">list.h:37</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d40/list_8c_a20f4503183113923cd946fc04bf8f2b4_icgraph.png" border="0" usemap="#d7/d40/list_8c_a20f4503183113923cd946fc04bf8f2b4_icgraph" alt=""/></div>
<map name="d7/d40/list_8c_a20f4503183113923cd946fc04bf8f2b4_icgraph" id="d7/d40/list_8c_a20f4503183113923cd946fc04bf8f2b4_icgraph">
<area shape="rect" id="node2" href="../../de/d42/net__crypto_8h.html#abb3546495adde3f08c0474f31c5d3a37" title="kill_net_crypto" alt="" coords="147,56,253,83"/><area shape="rect" id="node16" href="../../d6/d03/_t_c_p__server_8h.html#af6df6382ad309456dcf5b7b350313714" title="kill_TCP_server" alt="" coords="143,107,257,133"/><area shape="rect" id="node3" href="../../d7/dd9/onion__test_8c.html#a11b4d3c94243b8abdd439dea94ee679e" title="kill_onions" alt="" coords="323,5,405,32"/><area shape="rect" id="node5" href="../../d4/d30/_messenger_8h.html#af015ea2e74c58196e0564719a6c6a112" title="new_messenger" alt="" coords="305,56,423,83"/><area shape="rect" id="node14" href="../../d4/d30/_messenger_8h.html#a771c65c3057d870b0653c2fdf0a12fb7" title="kill_messenger" alt="" coords="309,107,419,133"/><area shape="rect" id="node4" href="../../d7/dd9/onion__test_8c.html#a1bd0e98b361db6749c50308a7555a192" title="START_TEST" alt="" coords="471,5,577,32"/><area shape="rect" id="node6" href="../../d8/dda/messenger__test_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="499,56,549,83"/><area shape="rect" id="node7" href="../../da/d8f/tox_8h.html#aa0e6afccd06a766b84a0633e259f9165" title="Creates and initialises a new Tox instance with the options passed. " alt="" coords="489,107,559,133"/><area shape="rect" id="node8" href="../../d0/de9/encryptsave__test_8c.html#abfc6ca1e662bc2b41efecb0b9e35cc9d" title="START_TEST" alt="" coords="625,31,732,57"/><area shape="rect" id="node9" href="../../db/d11/irc__syncbot_8c.html#a7a3ec256dab5cbac9fc01ff328980da7" title="init_tox" alt="" coords="647,81,711,108"/><area shape="rect" id="node11" href="../../d2/d65/n_tox_8c.html#ac47fc78dd12365ddfd46c70003627250" title="load_data" alt="" coords="639,132,718,159"/><area shape="rect" id="node13" href="../../d7/db1/tox__shell_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="653,183,704,209"/><area shape="rect" id="node10" href="../../db/d11/irc__syncbot_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="780,81,831,108"/><area shape="rect" id="node12" href="../../d2/d65/n_tox_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="780,132,831,159"/><area shape="rect" id="node15" href="../../da/d8f/tox_8h.html#a52259e134bfb9396d9fef4fffe94e878" title="tox_kill" alt="" coords="493,157,555,184"/><area shape="rect" id="node17" href="../../d2/d8d/_t_c_p__test_8c.html#ad7475d1539db4bb3bcf8673dd7f7cf68" title="START_TEST" alt="" coords="311,157,417,184"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7b07772cffb6af34e279f424dca08895"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bs_list_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d48/struct_b_s___l_i_s_t.html">BS_LIST</a> *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>element_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>initial_capacity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d40/list_8c_source.html#l00138">138</a> of file <a class="el" href="../../d7/d40/list_8c_source.html">list.c</a>.</p>

<p>References <a class="el" href="../../da/d23/list_8h_source.html#l00035">BS_LIST::capacity</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00037">BS_LIST::data</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00036">BS_LIST::element_size</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00038">BS_LIST::ids</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00034">BS_LIST::n</a>, and <a class="el" href="../../d7/d40/list_8c_source.html#l00114">resize()</a>.</p>

<p>Referenced by <a class="el" href="../../d8/dc6/net__crypto_8c_source.html#l02414">new_net_crypto()</a>, and <a class="el" href="../../d4/d40/_t_c_p__server_8c_source.html#l00942">new_TCP_server()</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">//set initial values</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">n</a> = 0;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">element_size</a> = element_size;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a391c992c66c3e5540265a85ec2b9216a">capacity</a> = 0;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#abe222f6d3581e7920dcad5306cc906a8">data</a> = NULL;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">ids</a> = NULL;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span> (initial_capacity != 0) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d40/list_8c.html#a7c246868ee5a3542509cdf90379c5bb2">resize</a>(list, initial_capacity)) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a391c992c66c3e5540265a85ec2b9216a">capacity</a> = initial_capacity;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a4ff545e181548785b8e257d2a8ac857a"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">BS_LIST::element_size</a></div><div class="ttdeci">uint32_t element_size</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00036">list.h:36</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a6081d5fc46a8899b4beb60b0df7dd190"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">BS_LIST::ids</a></div><div class="ttdeci">int * ids</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00038">list.h:38</a></div></div>
<div class="ttc" id="list_8c_html_a7c246868ee5a3542509cdf90379c5bb2"><div class="ttname"><a href="../../d7/d40/list_8c.html#a7c246868ee5a3542509cdf90379c5bb2">resize</a></div><div class="ttdeci">static int resize(BS_LIST *list, uint32_t new_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d40/list_8c_source.html#l00114">list.c:114</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a391c992c66c3e5540265a85ec2b9216a"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a391c992c66c3e5540265a85ec2b9216a">BS_LIST::capacity</a></div><div class="ttdeci">uint32_t capacity</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00035">list.h:35</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a3d8a9527a2ee4a7ebf59175650142e75"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">BS_LIST::n</a></div><div class="ttdeci">uint32_t n</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00034">list.h:34</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_abe222f6d3581e7920dcad5306cc906a8"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#abe222f6d3581e7920dcad5306cc906a8">BS_LIST::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00037">list.h:37</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d40/list_8c_a7b07772cffb6af34e279f424dca08895_cgraph.png" border="0" usemap="#d7/d40/list_8c_a7b07772cffb6af34e279f424dca08895_cgraph" alt=""/></div>
<map name="d7/d40/list_8c_a7b07772cffb6af34e279f424dca08895_cgraph" id="d7/d40/list_8c_a7b07772cffb6af34e279f424dca08895_cgraph">
<area shape="rect" id="node2" href="../../d7/d40/list_8c.html#a7c246868ee5a3542509cdf90379c5bb2" title="resize" alt="" coords="137,5,195,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d40/list_8c_a7b07772cffb6af34e279f424dca08895_icgraph.png" border="0" usemap="#d7/d40/list_8c_a7b07772cffb6af34e279f424dca08895_icgraph" alt=""/></div>
<map name="d7/d40/list_8c_a7b07772cffb6af34e279f424dca08895_icgraph" id="d7/d40/list_8c_a7b07772cffb6af34e279f424dca08895_icgraph">
<area shape="rect" id="node2" href="../../de/d42/net__crypto_8h.html#a5e46c6f42e93e2aa968f8f63de90a53c" title="new_net_crypto" alt="" coords="141,56,256,83"/><area shape="rect" id="node14" href="../../d6/d03/_t_c_p__server_8h.html#a148e632f4c51645cbc1b414bc3584b60" title="new_TCP_server" alt="" coords="137,107,260,133"/><area shape="rect" id="node3" href="../../d7/dd9/onion__test_8c.html#a5945771cafdfe39074adf8ddd47ae81b" title="new_onions" alt="" coords="321,5,412,32"/><area shape="rect" id="node5" href="../../d4/d30/_messenger_8h.html#af015ea2e74c58196e0564719a6c6a112" title="new_messenger" alt="" coords="308,56,425,83"/><area shape="rect" id="node4" href="../../d7/dd9/onion__test_8c.html#a1bd0e98b361db6749c50308a7555a192" title="START_TEST" alt="" coords="473,5,580,32"/><area shape="rect" id="node6" href="../../d8/dda/messenger__test_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="501,56,552,83"/><area shape="rect" id="node7" href="../../da/d8f/tox_8h.html#aa0e6afccd06a766b84a0633e259f9165" title="Creates and initialises a new Tox instance with the options passed. " alt="" coords="491,107,562,133"/><area shape="rect" id="node8" href="../../d0/de9/encryptsave__test_8c.html#abfc6ca1e662bc2b41efecb0b9e35cc9d" title="START_TEST" alt="" coords="628,31,735,57"/><area shape="rect" id="node9" href="../../db/d11/irc__syncbot_8c.html#a7a3ec256dab5cbac9fc01ff328980da7" title="init_tox" alt="" coords="649,81,713,108"/><area shape="rect" id="node11" href="../../d2/d65/n_tox_8c.html#ac47fc78dd12365ddfd46c70003627250" title="load_data" alt="" coords="642,132,721,159"/><area shape="rect" id="node13" href="../../d7/db1/tox__shell_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="656,183,707,209"/><area shape="rect" id="node10" href="../../db/d11/irc__syncbot_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="783,81,833,108"/><area shape="rect" id="node12" href="../../d2/d65/n_tox_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="783,132,833,159"/><area shape="rect" id="node15" href="../../d2/d8d/_t_c_p__test_8c.html#ad7475d1539db4bb3bcf8673dd7f7cf68" title="START_TEST" alt="" coords="313,107,420,133"/><area shape="rect" id="node16" href="../../d1/d36/tox-bootstrapd_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="341,157,392,184"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a365995457101cc16f8c6b25ead07fb6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bs_list_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d48/struct_b_s___l_i_s_t.html">BS_LIST</a> *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d40/list_8c_source.html#l00217">217</a> of file <a class="el" href="../../d7/d40/list_8c_source.html">list.c</a>.</p>

<p>References <a class="el" href="../../da/d23/list_8h_source.html#l00035">BS_LIST::capacity</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00037">BS_LIST::data</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00036">BS_LIST::element_size</a>, <a class="el" href="../../d7/d40/list_8c_source.html#l00048">find()</a>, <a class="el" href="../../d6/dc0/toxav__many__test_8c_source.html#l00278">i</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00038">BS_LIST::ids</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00034">BS_LIST::n</a>, and <a class="el" href="../../d7/d40/list_8c_source.html#l00114">resize()</a>.</p>

<p>Referenced by <a class="el" href="../../d8/dc6/net__crypto_8c_source.html#l01469">crypto_connection_add_source()</a>, <a class="el" href="../../d8/dc6/net__crypto_8c_source.html#l02323">crypto_kill()</a>, <a class="el" href="../../d4/d40/_t_c_p__server_8c_source.html#l00161">del_accepted()</a>, and <a class="el" href="../../d8/dc6/net__crypto_8c_source.html#l01680">set_direct_ip_port()</a>.</p>
<div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;{</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../d7/d40/list_8c.html#ae2aaa4149a770ed6e47a58af78fc6600">find</a>(list, <a class="code" href="../../df/db5/namespacemake-funny-savefile.html#aa7a0efb8690a34f61a95b00cc723ca27">data</a>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span> (i &lt; 0) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span> (list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">ids</a>[i] != <span class="keywordtype">id</span>) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="comment">//this should never happen</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="comment">//decrease the size of the arrays if needed</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">if</span> (list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">n</a> &lt; list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a391c992c66c3e5540265a85ec2b9216a">capacity</a> / 2) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keyword">const</span> uint32_t new_capacity = list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a391c992c66c3e5540265a85ec2b9216a">capacity</a> / 2;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d40/list_8c.html#a7c246868ee5a3542509cdf90379c5bb2">resize</a>(list, new_capacity)) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a391c992c66c3e5540265a85ec2b9216a">capacity</a> = new_capacity;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">n</a>--;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    memmove(list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#abe222f6d3581e7920dcad5306cc906a8">data</a> + i * list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">element_size</a>, list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#abe222f6d3581e7920dcad5306cc906a8">data</a> + (i + 1) * list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">element_size</a>,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            (list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">n</a> - i) * list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">element_size</a>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    memmove(&amp;list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">ids</a>[i], &amp;list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">ids</a>[i + 1], (list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">n</a> - i) * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;}</div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a4ff545e181548785b8e257d2a8ac857a"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">BS_LIST::element_size</a></div><div class="ttdeci">uint32_t element_size</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00036">list.h:36</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a6081d5fc46a8899b4beb60b0df7dd190"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">BS_LIST::ids</a></div><div class="ttdeci">int * ids</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00038">list.h:38</a></div></div>
<div class="ttc" id="list_8c_html_a7c246868ee5a3542509cdf90379c5bb2"><div class="ttname"><a href="../../d7/d40/list_8c.html#a7c246868ee5a3542509cdf90379c5bb2">resize</a></div><div class="ttdeci">static int resize(BS_LIST *list, uint32_t new_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d40/list_8c_source.html#l00114">list.c:114</a></div></div>
<div class="ttc" id="namespacemake-funny-savefile_html_aa7a0efb8690a34f61a95b00cc723ca27"><div class="ttname"><a href="../../df/db5/namespacemake-funny-savefile.html#aa7a0efb8690a34f61a95b00cc723ca27">make-funny-savefile.data</a></div><div class="ttdeci">tuple data</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d01/make-funny-savefile_8py_source.html#l00098">make-funny-savefile.py:98</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a391c992c66c3e5540265a85ec2b9216a"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a391c992c66c3e5540265a85ec2b9216a">BS_LIST::capacity</a></div><div class="ttdeci">uint32_t capacity</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00035">list.h:35</a></div></div>
<div class="ttc" id="list_8c_html_ae2aaa4149a770ed6e47a58af78fc6600"><div class="ttname"><a href="../../d7/d40/list_8c.html#ae2aaa4149a770ed6e47a58af78fc6600">find</a></div><div class="ttdeci">static int find(const BS_LIST *list, const uint8_t *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d40/list_8c_source.html#l00048">list.c:48</a></div></div>
<div class="ttc" id="toxav__many__test_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d6/dc0/toxav__many__test_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc0/toxav__many__test_8c_source.html#l00278">toxav_many_test.c:278</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a3d8a9527a2ee4a7ebf59175650142e75"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">BS_LIST::n</a></div><div class="ttdeci">uint32_t n</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00034">list.h:34</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_abe222f6d3581e7920dcad5306cc906a8"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#abe222f6d3581e7920dcad5306cc906a8">BS_LIST::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00037">list.h:37</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d40/list_8c_a365995457101cc16f8c6b25ead07fb6f_cgraph.png" border="0" usemap="#d7/d40/list_8c_a365995457101cc16f8c6b25ead07fb6f_cgraph" alt=""/></div>
<map name="d7/d40/list_8c_a365995457101cc16f8c6b25ead07fb6f_cgraph" id="d7/d40/list_8c_a365995457101cc16f8c6b25ead07fb6f_cgraph">
<area shape="rect" id="node2" href="../../d7/d40/list_8c.html#ae2aaa4149a770ed6e47a58af78fc6600" title="find" alt="" coords="171,5,214,32"/><area shape="rect" id="node3" href="../../d7/d40/list_8c.html#a7c246868ee5a3542509cdf90379c5bb2" title="resize" alt="" coords="164,56,221,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d40/list_8c_a365995457101cc16f8c6b25ead07fb6f_icgraph.png" border="0" usemap="#d7/d40/list_8c_a365995457101cc16f8c6b25ead07fb6f_icgraph" alt=""/></div>
<map name="d7/d40/list_8c_a365995457101cc16f8c6b25ead07fb6f_icgraph" id="d7/d40/list_8c_a365995457101cc16f8c6b25ead07fb6f_icgraph">
<area shape="rect" id="node2" href="../../d8/dc6/net__crypto_8c.html#a9e779393ece10111b0ac7fe2bbc3beeb" title="crypto_connection_add\l_source" alt="" coords="311,64,467,105"/><area shape="rect" id="node11" href="../../de/d42/net__crypto_8h.html#a16c3a0008512675dad8eb00ff1822763" title="crypto_kill" alt="" coords="173,341,254,367"/><area shape="rect" id="node44" href="../../d4/d40/_t_c_p__server_8c.html#a8fbde82c141c5368acc8ea8e8ad58fd2" title="del_accepted" alt="" coords="164,670,263,697"/><area shape="rect" id="node50" href="../../de/d42/net__crypto_8h.html#a8ced4e168a95db5708bf4b3095cb4df6" title="set_direct_ip_port" alt="" coords="539,122,665,149"/><area shape="rect" id="node3" href="../../d8/dc6/net__crypto_8c.html#ae8139c35468806f25d5aed185edcc5a1" title="handle_new_connection\l_handshake" alt="" coords="521,5,683,47"/><area shape="rect" id="node8" href="../../de/d42/net__crypto_8h.html#ab11f6e96035c3717a21b809d5373f96f" title="accept_crypto_connection" alt="" coords="515,71,689,98"/><area shape="rect" id="node4" href="../../d8/dc6/net__crypto_8c.html#a86a3ff661a8b9b10fd7c0daee3901091" title="tcp_oob_callback" alt="" coords="761,13,883,39"/><area shape="rect" id="node7" href="../../d8/dc6/net__crypto_8c.html#a812ca8a7291e22ce343669c9835c7c12" title="udp_handle_packet" alt="" coords="755,63,889,90"/><area shape="rect" id="node5" href="../../de/d42/net__crypto_8h.html#a5e46c6f42e93e2aa968f8f63de90a53c" title="new_net_crypto" alt="" coords="961,63,1076,90"/><area shape="rect" id="node6" href="../../d4/d30/_messenger_8h.html#af015ea2e74c58196e0564719a6c6a112" title="new_messenger" alt="" coords="1557,633,1675,659"/><area shape="rect" id="node9" href="../../d2/db1/friend__connection_8c.html#ad12421e11a4e0a8ca7223e0d715d2b0c" title="handle_new_connections" alt="" coords="1131,341,1299,367"/><area shape="rect" id="node10" href="../../d0/d08/friend__connection_8h.html#a319bec2419cf5fc5525af4fae03b86ef" title="new_friend_connections" alt="" coords="1347,518,1509,545"/><area shape="rect" id="node12" href="../../d2/db1/friend__connection_8c.html#a53d1bd9e6126683e05e0e14cc70d1a8a" title="dht_pk_callback" alt="" coords="331,391,447,418"/><area shape="rect" id="node16" href="../../d0/d08/friend__connection_8h.html#aea88c3aa2deff558e9b13ed5229cbb6b" title="do_friend_connections" alt="" coords="746,290,898,317"/><area shape="rect" id="node23" href="../../d0/d08/friend__connection_8h.html#a5f311791c0ec4ecd8fdf5359cf7fb95a" title="kill_friend_connection" alt="" coords="529,670,675,697"/><area shape="rect" id="node39" href="../../d8/dc6/net__crypto_8c.html#ac679d5f08189ac10b3eca22c3f032dbc" title="connection_kill" alt="" coords="335,225,443,251"/><area shape="rect" id="node42" href="../../de/d42/net__crypto_8h.html#abb3546495adde3f08c0474f31c5d3a37" title="kill_net_crypto" alt="" coords="769,949,875,975"/><area shape="rect" id="node13" href="../../d2/db1/friend__connection_8c.html#ac2af058fd8684e6abc7b136889f5f4e5" title="friend_new_connection" alt="" coords="525,341,679,367"/><area shape="rect" id="node18" href="../../d0/d08/friend__connection_8h.html#a613a80a004fccd616de2a67d84a25d3c" title="new_friend_connection" alt="" coords="525,442,679,469"/><area shape="rect" id="node22" href="../../d0/d08/friend__connection_8h.html#a04fb221a2ac726ec3ca86be7b1e63238" title="set_dht_temp_pk" alt="" coords="541,493,663,519"/><area shape="rect" id="node14" href="../../d2/db1/friend__connection_8c.html#a6aa37bc6ee3246c06d37000677b205e8" title="dht_ip_callback" alt="" coords="766,341,878,367"/><area shape="rect" id="node15" href="../../d2/db1/friend__connection_8c.html#aa293768f213199a635ce0b4a94489cdf" title="change_dht_pk" alt="" coords="963,341,1074,367"/><area shape="rect" id="node17" href="../../d4/d30/_messenger_8h.html#ae0686caa878183a98920aeb7486afcb6" title="do_messenger" alt="" coords="965,290,1072,317"/><area shape="rect" id="node19" href="../../df/de9/toxcore_2group_8c.html#ab08da4834d9772b1ef1f3b35ae5197c1" title="connect_to_closest" alt="" coords="755,493,889,519"/><area shape="rect" id="node21" href="../../d8/d8d/_messenger_8c.html#aa3be5ad998d2b0ced07aceab765eaa2f" title="init_new_friend" alt="" coords="767,442,877,469"/><area shape="rect" id="node20" href="../../dd/de4/toxcore_2group_8h.html#a9529a2149c68cbff38d43419d9ebeecc" title="do_groupchats" alt="" coords="965,391,1072,418"/><area shape="rect" id="node24" href="../../dd/de4/toxcore_2group_8h.html#a526817b20616bdf13250e1020d2a1808" title="del_groupchat" alt="" coords="771,594,873,621"/><area shape="rect" id="node29" href="../../df/de9/toxcore_2group_8c.html#a5f0da219f2f87c142bd8c95f6d43e32c" title="handle_direct_packet" alt="" coords="749,695,895,722"/><area shape="rect" id="node31" href="../../df/de9/toxcore_2group_8c.html#aadd3b840d1ca411fc2345ec2c9f6bfe7" title="handle_packet_online" alt="" coords="749,746,895,773"/><area shape="rect" id="node32" href="../../d0/d08/friend__connection_8h.html#a2ef8cdbd93f21f11ff0333a9527c2c02" title="kill_friend_connections" alt="" coords="745,797,899,823"/><area shape="rect" id="node34" href="../../d4/d30/_messenger_8h.html#a7a7b52e12232948dfe96d8e7dea50610" title="m_delfriend" alt="" coords="777,847,867,874"/><area shape="rect" id="node38" href="../../df/de9/toxcore_2group_8c.html#a812cc4cdcdb4821a6624c886e71e2a6c" title="remove_close_conn" alt="" coords="753,645,891,671"/><area shape="rect" id="node25" href="../../d8/da5/toxav_2group_8h.html#a0cf061415a40de14b1dca48921a6f687" title="add_av_groupchat" alt="" coords="955,543,1083,570"/><area shape="rect" id="node26" href="../../d8/da5/toxav_2group_8h.html#a3bb53f02b23ac60cb1e76d3717a4e2e5" title="join_av_groupchat" alt="" coords="955,594,1082,621"/><area shape="rect" id="node27" href="../../dd/de4/toxcore_2group_8h.html#af203efe57203e3b774d8e4f5e29cca81" title="kill_groupchats" alt="" coords="964,645,1073,671"/><area shape="rect" id="node28" href="../../d3/d8f/tox__old__code_8h.html#a2a5c2f4bc3730d20bc784e512bc116b5" title="tox_del_groupchat" alt="" coords="955,493,1083,519"/><area shape="rect" id="node30" href="../../df/de9/toxcore_2group_8c.html#a0b63c2cb5a61d6418705d22a30a8d4ef" title="handle_packet" alt="" coords="965,695,1072,722"/><area shape="rect" id="node33" href="../../d4/d30/_messenger_8h.html#a771c65c3057d870b0653c2fdf0a12fb7" title="kill_messenger" alt="" coords="964,949,1073,975"/><area shape="rect" id="node35" href="../../d8/dda/messenger__test_8c.html#a0d7e5cba3f1de72c42741b80489f5df0" title="START_TEST" alt="" coords="965,847,1072,874"/><area shape="rect" id="node36" href="../../d8/dda/messenger__test_8c.html#a921391ba2a74ae4536cfcd2c789c78f9" title="messenger_suite" alt="" coords="958,898,1079,925"/><area shape="rect" id="node37" href="../../da/d8f/tox_8h.html#ae7909e1bb1cf6d8073d38aac41c2fb9c" title="tox_friend_delete" alt="" coords="958,797,1079,823"/><area shape="rect" id="node40" href="../../d8/dc6/net__crypto_8c.html#a38debbf6310a8190eeafd33e42423f1a" title="handle_data_packet\l_helper" alt="" coords="533,173,671,215"/><area shape="rect" id="node41" href="../../d8/dc6/net__crypto_8c.html#acb48e059ed89d52de983ac4c59fcde06" title="kill_timedout" alt="" coords="555,239,649,266"/><area shape="rect" id="node43" href="../../d7/dd9/onion__test_8c.html#a11b4d3c94243b8abdd439dea94ee679e" title="kill_onions" alt="" coords="977,999,1060,1026"/><area shape="rect" id="node45" href="../../d4/d40/_t_c_p__server_8c.html#a2f45b38fbf8f1646a682172973fd7a25" title="kill_accepted" alt="" coords="339,999,438,1026"/><area shape="rect" id="node46" href="../../d4/d40/_t_c_p__server_8c.html#a1ae92403cba7d9cf7248d594f15b0d62" title="add_accepted" alt="" coords="551,949,653,975"/><area shape="rect" id="node47" href="../../d4/d40/_t_c_p__server_8c.html#a00813f259948ef060f6ab7ec40da2f2c" title="confirm_TCP_connection" alt="" coords="737,999,907,1026"/><area shape="rect" id="node48" href="../../d4/d40/_t_c_p__server_8c.html#ab84742dd52ed6c8e83287ea5202e4326" title="do_confirmed_recv" alt="" coords="536,1050,668,1077"/><area shape="rect" id="node49" href="../../d4/d40/_t_c_p__server_8c.html#a001f38d27860442b6fe9fe7dd030a7a0" title="do_TCP_confirmed" alt="" coords="755,1075,889,1102"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afeda2a6221e746f07877dbdf854831dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bs_list_trim </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d48/struct_b_s___l_i_s_t.html">BS_LIST</a> *&#160;</td>
          <td class="paramname"><em>list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d40/list_8c_source.html#l00248">248</a> of file <a class="el" href="../../d7/d40/list_8c_source.html">list.c</a>.</p>

<p>References <a class="el" href="../../da/d23/list_8h_source.html#l00035">BS_LIST::capacity</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00034">BS_LIST::n</a>, and <a class="el" href="../../d7/d40/list_8c_source.html#l00114">resize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;{</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d40/list_8c.html#a7c246868ee5a3542509cdf90379c5bb2">resize</a>(list, list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">n</a>)) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a391c992c66c3e5540265a85ec2b9216a">capacity</a> = list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">n</a>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div>
<div class="ttc" id="list_8c_html_a7c246868ee5a3542509cdf90379c5bb2"><div class="ttname"><a href="../../d7/d40/list_8c.html#a7c246868ee5a3542509cdf90379c5bb2">resize</a></div><div class="ttdeci">static int resize(BS_LIST *list, uint32_t new_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d40/list_8c_source.html#l00114">list.c:114</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a391c992c66c3e5540265a85ec2b9216a"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a391c992c66c3e5540265a85ec2b9216a">BS_LIST::capacity</a></div><div class="ttdeci">uint32_t capacity</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00035">list.h:35</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a3d8a9527a2ee4a7ebf59175650142e75"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">BS_LIST::n</a></div><div class="ttdeci">uint32_t n</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00034">list.h:34</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d40/list_8c_afeda2a6221e746f07877dbdf854831dc_cgraph.png" border="0" usemap="#d7/d40/list_8c_afeda2a6221e746f07877dbdf854831dc_cgraph" alt=""/></div>
<map name="d7/d40/list_8c_afeda2a6221e746f07877dbdf854831dc_cgraph" id="d7/d40/list_8c_afeda2a6221e746f07877dbdf854831dc_cgraph">
<area shape="rect" id="node2" href="../../d7/d40/list_8c.html#a7c246868ee5a3542509cdf90379c5bb2" title="resize" alt="" coords="143,5,200,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae2aaa4149a770ed6e47a58af78fc6600"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int find </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/d48/struct_b_s___l_i_s_t.html">BS_LIST</a> *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d40/list_8c_source.html#l00048">48</a> of file <a class="el" href="../../d7/d40/list_8c_source.html">list.c</a>.</p>

<p>References <a class="el" href="../../da/d23/list_8h_source.html#l00037">BS_LIST::data</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00036">BS_LIST::element_size</a>, <a class="el" href="../../d6/dc0/toxav__many__test_8c_source.html#l00278">i</a>, <a class="el" href="../../d7/d40/list_8c_source.html#l00039">INDEX</a>, and <a class="el" href="../../da/d23/list_8h_source.html#l00034">BS_LIST::n</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d40/list_8c_source.html#l00177">bs_list_add()</a>, <a class="el" href="../../d7/d40/list_8c_source.html#l00165">bs_list_find()</a>, and <a class="el" href="../../d7/d40/list_8c_source.html#l00217">bs_list_remove()</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;{</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="comment">//should work well, but could be improved</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">if</span> (list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">n</a> == 0) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/d40/list_8c.html#aa5fad23b2a5eed790e6661e896a506b7">INDEX</a>(0);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    uint32_t <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">n</a> / 2; <span class="comment">//current position in the array</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    uint32_t delta = i / 2;   <span class="comment">//how much we move in the array</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">if</span> (!delta) {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        delta = 1;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordtype">int</span> d = -1; <span class="comment">//used to determine if closest match is found</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">//closest match is found if we move back to where we have already been</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordtype">int</span> r = memcmp(<a class="code" href="../../df/db5/namespacemake-funny-savefile.html#aa7a0efb8690a34f61a95b00cc723ca27">data</a>, list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#abe222f6d3581e7920dcad5306cc906a8">data</a> + list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">element_size</a> * i, list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">element_size</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keywordflow">if</span> (r == 0) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">if</span> (r &gt; 0) {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="comment">//data is greater</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <span class="comment">//move down</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            i += delta;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="keywordflow">if</span> (d == 0 || i == list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">n</a>) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <span class="comment">//reached bottom of list, or closest match</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d7/d40/list_8c.html#aa5fad23b2a5eed790e6661e896a506b7">INDEX</a>(i);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            delta = (delta) / 2;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keywordflow">if</span> (delta == 0) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                delta = 1;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                d = 1;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <span class="comment">//data is smaller</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordflow">if</span> (d == 1 || i == 0) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                <span class="comment">//reached top or list or closest match</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d7/d40/list_8c.html#aa5fad23b2a5eed790e6661e896a506b7">INDEX</a>(i);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="comment">//move up</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            i -= delta;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            delta = (delta) / 2;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="keywordflow">if</span> (delta == 0) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                delta = 1;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                d = 0;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a4ff545e181548785b8e257d2a8ac857a"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">BS_LIST::element_size</a></div><div class="ttdeci">uint32_t element_size</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00036">list.h:36</a></div></div>
<div class="ttc" id="list_8c_html_aa5fad23b2a5eed790e6661e896a506b7"><div class="ttname"><a href="../../d7/d40/list_8c.html#aa5fad23b2a5eed790e6661e896a506b7">INDEX</a></div><div class="ttdeci">#define INDEX(i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d40/list_8c_source.html#l00039">list.c:39</a></div></div>
<div class="ttc" id="namespacemake-funny-savefile_html_aa7a0efb8690a34f61a95b00cc723ca27"><div class="ttname"><a href="../../df/db5/namespacemake-funny-savefile.html#aa7a0efb8690a34f61a95b00cc723ca27">make-funny-savefile.data</a></div><div class="ttdeci">tuple data</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d01/make-funny-savefile_8py_source.html#l00098">make-funny-savefile.py:98</a></div></div>
<div class="ttc" id="toxav__many__test_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d6/dc0/toxav__many__test_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc0/toxav__many__test_8c_source.html#l00278">toxav_many_test.c:278</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a3d8a9527a2ee4a7ebf59175650142e75"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a3d8a9527a2ee4a7ebf59175650142e75">BS_LIST::n</a></div><div class="ttdeci">uint32_t n</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00034">list.h:34</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_abe222f6d3581e7920dcad5306cc906a8"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#abe222f6d3581e7920dcad5306cc906a8">BS_LIST::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00037">list.h:37</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d40/list_8c_ae2aaa4149a770ed6e47a58af78fc6600_icgraph.png" border="0" usemap="#d7/d40/list_8c_ae2aaa4149a770ed6e47a58af78fc6600_icgraph" alt=""/></div>
<map name="d7/d40/list_8c_ae2aaa4149a770ed6e47a58af78fc6600_icgraph" id="d7/d40/list_8c_ae2aaa4149a770ed6e47a58af78fc6600_icgraph">
<area shape="rect" id="node2" href="../../da/d23/list_8h.html#ace05755dd126bff18700a17d6f8edd28" title="bs_list_add" alt="" coords="107,353,195,380"/><area shape="rect" id="node26" href="../../da/d23/list_8h.html#aa2ee2cbbc130c7c976f2c69bda129bd1" title="bs_list_find" alt="" coords="107,133,195,160"/><area shape="rect" id="node34" href="../../da/d23/list_8h.html#a365995457101cc16f8c6b25ead07fb6f" title="bs_list_remove" alt="" coords="96,404,207,430"/><area shape="rect" id="node3" href="../../d8/dc6/net__crypto_8c.html#a9e779393ece10111b0ac7fe2bbc3beeb" title="crypto_connection_add\l_source" alt="" coords="255,371,411,412"/><area shape="rect" id="node12" href="../../de/d42/net__crypto_8h.html#a8ced4e168a95db5708bf4b3095cb4df6" title="set_direct_ip_port" alt="" coords="270,449,395,476"/><area shape="rect" id="node23" href="../../d4/d40/_t_c_p__server_8c.html#a1ae92403cba7d9cf7248d594f15b0d62" title="add_accepted" alt="" coords="708,134,811,161"/><area shape="rect" id="node4" href="../../d8/dc6/net__crypto_8c.html#ae8139c35468806f25d5aed185edcc5a1" title="handle_new_connection\l_handshake" alt="" coords="899,332,1060,374"/><area shape="rect" id="node9" href="../../de/d42/net__crypto_8h.html#ab11f6e96035c3717a21b809d5373f96f" title="accept_crypto_connection" alt="" coords="672,394,847,421"/><area shape="rect" id="node5" href="../../d8/dc6/net__crypto_8c.html#a86a3ff661a8b9b10fd7c0daee3901091" title="tcp_oob_callback" alt="" coords="1135,374,1257,401"/><area shape="rect" id="node8" href="../../d8/dc6/net__crypto_8c.html#a812ca8a7291e22ce343669c9835c7c12" title="udp_handle_packet" alt="" coords="1129,324,1263,350"/><area shape="rect" id="node6" href="../../de/d42/net__crypto_8h.html#a5e46c6f42e93e2aa968f8f63de90a53c" title="new_net_crypto" alt="" coords="1352,374,1467,401"/><area shape="rect" id="node7" href="../../d4/d30/_messenger_8h.html#af015ea2e74c58196e0564719a6c6a112" title="new_messenger" alt="" coords="1539,626,1656,653"/><area shape="rect" id="node10" href="../../d2/db1/friend__connection_8c.html#ad12421e11a4e0a8ca7223e0d715d2b0c" title="handle_new_connections" alt="" coords="1112,449,1280,476"/><area shape="rect" id="node11" href="../../d0/d08/friend__connection_8h.html#a319bec2419cf5fc5525af4fae03b86ef" title="new_friend_connections" alt="" coords="1328,474,1491,501"/><area shape="rect" id="node13" href="../../d2/db1/friend__connection_8c.html#a6aa37bc6ee3246c06d37000677b205e8" title="dht_ip_callback" alt="" coords="485,550,597,577"/><area shape="rect" id="node17" href="../../d0/d08/friend__connection_8h.html#aea88c3aa2deff558e9b13ed5229cbb6b" title="do_friend_connections" alt="" coords="1333,550,1485,577"/><area shape="rect" id="node14" href="../../d2/db1/friend__connection_8c.html#aa293768f213199a635ce0b4a94489cdf" title="change_dht_pk" alt="" coords="704,601,815,628"/><area shape="rect" id="node15" href="../../d2/db1/friend__connection_8c.html#a53d1bd9e6126683e05e0e14cc70d1a8a" title="dht_pk_callback" alt="" coords="921,652,1037,678"/><area shape="rect" id="node16" href="../../d2/db1/friend__connection_8c.html#ac2af058fd8684e6abc7b136889f5f4e5" title="friend_new_connection" alt="" coords="1119,550,1273,577"/><area shape="rect" id="node20" href="../../d0/d08/friend__connection_8h.html#a613a80a004fccd616de2a67d84a25d3c" title="new_friend_connection" alt="" coords="1119,601,1273,628"/><area shape="rect" id="node22" href="../../d0/d08/friend__connection_8h.html#a04fb221a2ac726ec3ca86be7b1e63238" title="set_dht_temp_pk" alt="" coords="1135,652,1257,678"/><area shape="rect" id="node18" href="../../d4/d30/_messenger_8h.html#ae0686caa878183a98920aeb7486afcb6" title="do_messenger" alt="" coords="1544,550,1651,577"/><area shape="rect" id="node19" href="../../db/de9/_messenger__test_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1704,550,1755,577"/><area shape="rect" id="node21" href="../../df/de9/toxcore_2group_8c.html#ab08da4834d9772b1ef1f3b35ae5197c1" title="connect_to_closest" alt="" coords="1342,601,1477,628"/><area shape="rect" id="node24" href="../../d4/d40/_t_c_p__server_8c.html#a00813f259948ef060f6ab7ec40da2f2c" title="confirm_TCP_connection" alt="" coords="895,134,1064,161"/><area shape="rect" id="node25" href="../../d4/d40/_t_c_p__server_8c.html#a8cdae1ef768b85b02dcc79ff2258606f" title="do_unconfirmed" alt="" coords="1139,134,1253,161"/><area shape="rect" id="node27" href="../../d8/dc6/net__crypto_8c.html#ace680157da68eb91755350d0cb14cd8f" title="crypto_id_ip_port" alt="" coords="272,53,393,80"/><area shape="rect" id="node28" href="../../d4/d40/_t_c_p__server_8c.html#a11f81fcb9060389c52d55b079e1b8f3b" title="get_TCP_connection\l_index" alt="" coords="261,126,405,167"/><area shape="rect" id="node29" href="../../d4/d40/_t_c_p__server_8c.html#af925f101a4e90d1fa2381536ef23a794" title="handle_TCP_routing_req" alt="" coords="459,133,624,160"/><area shape="rect" id="node33" href="../../d4/d40/_t_c_p__server_8c.html#a7631710481101de4b345f7e318fdb88a" title="handle_TCP_oob_send" alt="" coords="463,82,620,109"/><area shape="rect" id="node30" href="../../d4/d40/_t_c_p__server_8c.html#a904af6fcbd24cb3f75c4a04470be46de" title="handle_TCP_packet" alt="" coords="689,84,829,110"/><area shape="rect" id="node31" href="../../d4/d40/_t_c_p__server_8c.html#ab84742dd52ed6c8e83287ea5202e4326" title="do_confirmed_recv" alt="" coords="913,230,1045,257"/><area shape="rect" id="node32" href="../../d4/d40/_t_c_p__server_8c.html#a001f38d27860442b6fe9fe7dd030a7a0" title="do_TCP_confirmed" alt="" coords="1129,256,1263,282"/><area shape="rect" id="node35" href="../../de/d42/net__crypto_8h.html#a16c3a0008512675dad8eb00ff1822763" title="crypto_kill" alt="" coords="501,728,582,754"/><area shape="rect" id="node49" href="../../d4/d40/_t_c_p__server_8c.html#a8fbde82c141c5368acc8ea8e8ad58fd2" title="del_accepted" alt="" coords="283,297,382,324"/><area shape="rect" id="node36" href="../../d0/d08/friend__connection_8h.html#a5f311791c0ec4ecd8fdf5359cf7fb95a" title="kill_friend_connection" alt="" coords="1123,753,1269,780"/><area shape="rect" id="node44" href="../../d8/dc6/net__crypto_8c.html#ac679d5f08189ac10b3eca22c3f032dbc" title="connection_kill" alt="" coords="705,804,813,830"/><area shape="rect" id="node47" href="../../de/d42/net__crypto_8h.html#abb3546495adde3f08c0474f31c5d3a37" title="kill_net_crypto" alt="" coords="1356,956,1463,982"/><area shape="rect" id="node37" href="../../dd/de4/toxcore_2group_8h.html#a526817b20616bdf13250e1020d2a1808" title="del_groupchat" alt="" coords="1358,905,1461,932"/><area shape="rect" id="node38" href="../../df/de9/toxcore_2group_8c.html#a5f0da219f2f87c142bd8c95f6d43e32c" title="handle_direct_packet" alt="" coords="1337,702,1482,729"/><area shape="rect" id="node39" href="../../df/de9/toxcore_2group_8c.html#aadd3b840d1ca411fc2345ec2c9f6bfe7" title="handle_packet_online" alt="" coords="1336,753,1483,780"/><area shape="rect" id="node40" href="../../d0/d08/friend__connection_8h.html#a2ef8cdbd93f21f11ff0333a9527c2c02" title="kill_friend_connections" alt="" coords="1332,652,1487,678"/><area shape="rect" id="node42" href="../../d4/d30/_messenger_8h.html#a7a7b52e12232948dfe96d8e7dea50610" title="m_delfriend" alt="" coords="1365,804,1454,830"/><area shape="rect" id="node43" href="../../df/de9/toxcore_2group_8c.html#a812cc4cdcdb4821a6624c886e71e2a6c" title="remove_close_conn" alt="" coords="1340,854,1479,881"/><area shape="rect" id="node41" href="../../d4/d30/_messenger_8h.html#a771c65c3057d870b0653c2fdf0a12fb7" title="kill_messenger" alt="" coords="1543,778,1652,805"/><area shape="rect" id="node45" href="../../d8/dc6/net__crypto_8c.html#a38debbf6310a8190eeafd33e42423f1a" title="handle_data_packet\l_helper" alt="" coords="910,855,1049,896"/><area shape="rect" id="node46" href="../../d8/dc6/net__crypto_8c.html#acb48e059ed89d52de983ac4c59fcde06" title="kill_timedout" alt="" coords="932,804,1027,830"/><area shape="rect" id="node48" href="../../d7/dd9/onion__test_8c.html#a11b4d3c94243b8abdd439dea94ee679e" title="kill_onions" alt="" coords="1556,956,1639,982"/><area shape="rect" id="node50" href="../../d4/d40/_t_c_p__server_8c.html#a2f45b38fbf8f1646a682172973fd7a25" title="kill_accepted" alt="" coords="492,285,591,312"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7c246868ee5a3542509cdf90379c5bb2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int resize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d48/struct_b_s___l_i_s_t.html">BS_LIST</a> *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>new_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d40/list_8c_source.html#l00114">114</a> of file <a class="el" href="../../d7/d40/list_8c_source.html">list.c</a>.</p>

<p>References <a class="el" href="../../da/d23/list_8h_source.html#l00037">BS_LIST::data</a>, <a class="el" href="../../da/d23/list_8h_source.html#l00036">BS_LIST::element_size</a>, and <a class="el" href="../../da/d23/list_8h_source.html#l00038">BS_LIST::ids</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d40/list_8c_source.html#l00177">bs_list_add()</a>, <a class="el" href="../../d7/d40/list_8c_source.html#l00138">bs_list_init()</a>, <a class="el" href="../../d7/d40/list_8c_source.html#l00217">bs_list_remove()</a>, and <a class="el" href="../../d7/d40/list_8c_source.html#l00248">bs_list_trim()</a>.</p>
<div class="fragment"><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;{</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordtype">void</span> *p;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    p = realloc(list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#abe222f6d3581e7920dcad5306cc906a8">data</a>, list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">element_size</a> * new_size);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span> (!p) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#abe222f6d3581e7920dcad5306cc906a8">data</a> = p;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    p = realloc(list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">ids</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * new_size);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">if</span> (!p) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        list-&gt;<a class="code" href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">ids</a> = p;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a4ff545e181548785b8e257d2a8ac857a"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a4ff545e181548785b8e257d2a8ac857a">BS_LIST::element_size</a></div><div class="ttdeci">uint32_t element_size</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00036">list.h:36</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_a6081d5fc46a8899b4beb60b0df7dd190"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#a6081d5fc46a8899b4beb60b0df7dd190">BS_LIST::ids</a></div><div class="ttdeci">int * ids</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00038">list.h:38</a></div></div>
<div class="ttc" id="struct_b_s___l_i_s_t_html_abe222f6d3581e7920dcad5306cc906a8"><div class="ttname"><a href="../../d6/d48/struct_b_s___l_i_s_t.html#abe222f6d3581e7920dcad5306cc906a8">BS_LIST::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/list_8h_source.html#l00037">list.h:37</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d40/list_8c_a7c246868ee5a3542509cdf90379c5bb2_icgraph.png" border="0" usemap="#d7/d40/list_8c_a7c246868ee5a3542509cdf90379c5bb2_icgraph" alt=""/></div>
<map name="d7/d40/list_8c_a7c246868ee5a3542509cdf90379c5bb2_icgraph" id="d7/d40/list_8c_a7c246868ee5a3542509cdf90379c5bb2_icgraph">
<area shape="rect" id="node2" href="../../da/d23/list_8h.html#ace05755dd126bff18700a17d6f8edd28" title="bs_list_add" alt="" coords="122,309,210,336"/><area shape="rect" id="node29" href="../../da/d23/list_8h.html#a7b07772cffb6af34e279f424dca08895" title="bs_list_init" alt="" coords="1115,741,1199,768"/><area shape="rect" id="node33" href="../../da/d23/list_8h.html#a365995457101cc16f8c6b25ead07fb6f" title="bs_list_remove" alt="" coords="111,397,221,424"/><area shape="rect" id="node50" href="../../da/d23/list_8h.html#afeda2a6221e746f07877dbdf854831dc" title="bs_list_trim" alt="" coords="121,783,211,809"/><area shape="rect" id="node3" href="../../d8/dc6/net__crypto_8c.html#a9e779393ece10111b0ac7fe2bbc3beeb" title="crypto_connection_add\l_source" alt="" coords="269,331,425,373"/><area shape="rect" id="node16" href="../../de/d42/net__crypto_8h.html#a8ced4e168a95db5708bf4b3095cb4df6" title="set_direct_ip_port" alt="" coords="285,144,410,171"/><area shape="rect" id="node26" href="../../d4/d40/_t_c_p__server_8c.html#a1ae92403cba7d9cf7248d594f15b0d62" title="add_accepted" alt="" coords="669,296,772,323"/><area shape="rect" id="node4" href="../../d8/dc6/net__crypto_8c.html#ae8139c35468806f25d5aed185edcc5a1" title="handle_new_connection\l_handshake" alt="" coords="860,666,1021,707"/><area shape="rect" id="node13" href="../../de/d42/net__crypto_8h.html#ab11f6e96035c3717a21b809d5373f96f" title="accept_crypto_connection" alt="" coords="633,195,808,221"/><area shape="rect" id="node5" href="../../d8/dc6/net__crypto_8c.html#a86a3ff661a8b9b10fd7c0daee3901091" title="tcp_oob_callback" alt="" coords="1096,691,1219,717"/><area shape="rect" id="node12" href="../../d8/dc6/net__crypto_8c.html#a812ca8a7291e22ce343669c9835c7c12" title="udp_handle_packet" alt="" coords="1090,640,1225,667"/><area shape="rect" id="node6" href="../../de/d42/net__crypto_8h.html#a5e46c6f42e93e2aa968f8f63de90a53c" title="new_net_crypto" alt="" coords="1313,691,1428,717"/><area shape="rect" id="node7" href="../../d7/dd9/onion__test_8c.html#a5945771cafdfe39074adf8ddd47ae81b" title="new_onions" alt="" coords="1513,691,1604,717"/><area shape="rect" id="node9" href="../../d4/d30/_messenger_8h.html#af015ea2e74c58196e0564719a6c6a112" title="new_messenger" alt="" coords="1500,589,1617,616"/><area shape="rect" id="node8" href="../../d7/dd9/onion__test_8c.html#a1bd0e98b361db6749c50308a7555a192" title="START_TEST" alt="" coords="1665,665,1772,692"/><area shape="rect" id="node10" href="../../d8/dda/messenger__test_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1693,589,1744,616"/><area shape="rect" id="node11" href="../../da/d8f/tox_8h.html#aa0e6afccd06a766b84a0633e259f9165" title="Creates and initialises a new Tox instance with the options passed. " alt="" coords="1683,539,1754,565"/><area shape="rect" id="node14" href="../../d2/db1/friend__connection_8c.html#ad12421e11a4e0a8ca7223e0d715d2b0c" title="handle_new_connections" alt="" coords="1073,195,1241,221"/><area shape="rect" id="node15" href="../../d0/d08/friend__connection_8h.html#a319bec2419cf5fc5525af4fae03b86ef" title="new_friend_connections" alt="" coords="1289,209,1452,236"/><area shape="rect" id="node17" href="../../d2/db1/friend__connection_8c.html#a6aa37bc6ee3246c06d37000677b205e8" title="dht_ip_callback" alt="" coords="473,93,585,120"/><area shape="rect" id="node21" href="../../d0/d08/friend__connection_8h.html#aea88c3aa2deff558e9b13ed5229cbb6b" title="do_friend_connections" alt="" coords="1295,93,1447,120"/><area shape="rect" id="node18" href="../../d2/db1/friend__connection_8c.html#aa293768f213199a635ce0b4a94489cdf" title="change_dht_pk" alt="" coords="665,245,776,272"/><area shape="rect" id="node19" href="../../d2/db1/friend__connection_8c.html#a53d1bd9e6126683e05e0e14cc70d1a8a" title="dht_pk_callback" alt="" coords="883,296,999,323"/><area shape="rect" id="node20" href="../../d2/db1/friend__connection_8c.html#ac2af058fd8684e6abc7b136889f5f4e5" title="friend_new_connection" alt="" coords="1080,245,1235,272"/><area shape="rect" id="node23" href="../../d0/d08/friend__connection_8h.html#a613a80a004fccd616de2a67d84a25d3c" title="new_friend_connection" alt="" coords="1080,347,1235,373"/><area shape="rect" id="node25" href="../../d0/d08/friend__connection_8h.html#a04fb221a2ac726ec3ca86be7b1e63238" title="set_dht_temp_pk" alt="" coords="1096,296,1219,323"/><area shape="rect" id="node22" href="../../d4/d30/_messenger_8h.html#ae0686caa878183a98920aeb7486afcb6" title="do_messenger" alt="" coords="1505,93,1612,120"/><area shape="rect" id="node24" href="../../df/de9/toxcore_2group_8c.html#ab08da4834d9772b1ef1f3b35ae5197c1" title="connect_to_closest" alt="" coords="1303,285,1438,312"/><area shape="rect" id="node27" href="../../d4/d40/_t_c_p__server_8c.html#a00813f259948ef060f6ab7ec40da2f2c" title="confirm_TCP_connection" alt="" coords="856,397,1025,424"/><area shape="rect" id="node28" href="../../d4/d40/_t_c_p__server_8c.html#a8cdae1ef768b85b02dcc79ff2258606f" title="do_unconfirmed" alt="" coords="1100,397,1215,424"/><area shape="rect" id="node30" href="../../d6/d03/_t_c_p__server_8h.html#a148e632f4c51645cbc1b414bc3584b60" title="new_TCP_server" alt="" coords="1309,741,1432,768"/><area shape="rect" id="node31" href="../../d2/d8d/_t_c_p__test_8c.html#ad7475d1539db4bb3bcf8673dd7f7cf68" title="START_TEST" alt="" coords="1505,741,1612,768"/><area shape="rect" id="node32" href="../../d1/d36/tox-bootstrapd_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1533,792,1584,819"/><area shape="rect" id="node34" href="../../de/d42/net__crypto_8h.html#a16c3a0008512675dad8eb00ff1822763" title="crypto_kill" alt="" coords="489,448,570,475"/><area shape="rect" id="node48" href="../../d4/d40/_t_c_p__server_8c.html#a8fbde82c141c5368acc8ea8e8ad58fd2" title="del_accepted" alt="" coords="298,397,397,424"/><area shape="rect" id="node35" href="../../d0/d08/friend__connection_8h.html#a5f311791c0ec4ecd8fdf5359cf7fb95a" title="kill_friend_connection" alt="" coords="1084,448,1231,475"/><area shape="rect" id="node43" href="../../d8/dc6/net__crypto_8c.html#ac679d5f08189ac10b3eca22c3f032dbc" title="connection_kill" alt="" coords="667,579,775,605"/><area shape="rect" id="node46" href="../../de/d42/net__crypto_8h.html#abb3546495adde3f08c0474f31c5d3a37" title="kill_net_crypto" alt="" coords="1317,640,1424,667"/><area shape="rect" id="node36" href="../../dd/de4/toxcore_2group_8h.html#a526817b20616bdf13250e1020d2a1808" title="del_groupchat" alt="" coords="1319,336,1422,363"/><area shape="rect" id="node37" href="../../df/de9/toxcore_2group_8c.html#a5f0da219f2f87c142bd8c95f6d43e32c" title="handle_direct_packet" alt="" coords="1298,387,1443,413"/><area shape="rect" id="node38" href="../../df/de9/toxcore_2group_8c.html#aadd3b840d1ca411fc2345ec2c9f6bfe7" title="handle_packet_online" alt="" coords="1297,437,1444,464"/><area shape="rect" id="node39" href="../../d0/d08/friend__connection_8h.html#a2ef8cdbd93f21f11ff0333a9527c2c02" title="kill_friend_connections" alt="" coords="1293,539,1448,565"/><area shape="rect" id="node41" href="../../d4/d30/_messenger_8h.html#a7a7b52e12232948dfe96d8e7dea50610" title="m_delfriend" alt="" coords="1326,488,1415,515"/><area shape="rect" id="node42" href="../../df/de9/toxcore_2group_8c.html#a812cc4cdcdb4821a6624c886e71e2a6c" title="remove_close_conn" alt="" coords="1301,589,1440,616"/><area shape="rect" id="node40" href="../../d4/d30/_messenger_8h.html#a771c65c3057d870b0653c2fdf0a12fb7" title="kill_messenger" alt="" coords="1504,539,1613,565"/><area shape="rect" id="node44" href="../../d8/dc6/net__crypto_8c.html#a38debbf6310a8190eeafd33e42423f1a" title="handle_data_packet\l_helper" alt="" coords="871,601,1010,642"/><area shape="rect" id="node45" href="../../d8/dc6/net__crypto_8c.html#acb48e059ed89d52de983ac4c59fcde06" title="kill_timedout" alt="" coords="893,549,988,576"/><area shape="rect" id="node47" href="../../d7/dd9/onion__test_8c.html#a11b4d3c94243b8abdd439dea94ee679e" title="kill_onions" alt="" coords="1517,640,1600,667"/><area shape="rect" id="node49" href="../../d4/d40/_t_c_p__server_8c.html#a2f45b38fbf8f1646a682172973fd7a25" title="kill_accepted" alt="" coords="480,397,579,424"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 2 2015 23:41:23 for libtoxcore by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
