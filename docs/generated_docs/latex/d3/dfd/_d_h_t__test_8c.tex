\hypertarget{_d_h_t__test_8c}{\section{testing/\+D\+H\+T\+\_\+test.c File Reference}
\label{_d_h_t__test_8c}\index{testing/\+D\+H\+T\+\_\+test.\+c@{testing/\+D\+H\+T\+\_\+test.\+c}}
}
{\ttfamily \#include \char`\"{}../toxcore/\+D\+H\+T.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../toxcore/friend\+\_\+requests.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}misc\+\_\+tools.\+c\char`\"{}}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include $<$arpa/inet.\+h$>$}\\*
Include dependency graph for D\+H\+T\+\_\+test.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/dfc/_d_h_t__test_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{_d_h_t__test_8c_a5d21ea3d7da27fbd9f40c59aaa04da62}{c\+\_\+sleep}(\hyperlink{n_tox_8c_a6150e0515f7202e2fb518f7206ed97dc}{x})~usleep(1000$\ast$\hyperlink{n_tox_8c_a6150e0515f7202e2fb518f7206ed97dc}{x})
\item 
\#define \hyperlink{_d_h_t__test_8c_a614217d263be1fb1a5f76e2ff7be19a2}{P\+O\+R\+T}~33445
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_d_h_t__test_8c_a342b3b8d1a5ebc72899a474422199ecb}{print\+\_\+client\+\_\+id} (uint8\+\_\+t $\ast$public\+\_\+key)
\item 
void \hyperlink{_d_h_t__test_8c_a5c24207084f36ed6c59b1d5ad20e38bb}{print\+\_\+hardening} (\hyperlink{struct_hardening}{Hardening} $\ast$h)
\item 
void \hyperlink{_d_h_t__test_8c_aec1adc27c02d5b5f89578cf204a55499}{print\+\_\+assoc} (\hyperlink{struct_i_p_p_ts_png}{I\+P\+P\+Ts\+Png} $\ast$assoc, uint8\+\_\+t ours)
\item 
void \hyperlink{_d_h_t__test_8c_a463f6057bfaeb5eb8237803f36414103}{print\+\_\+clientlist} (\hyperlink{struct_d_h_t}{D\+H\+T} $\ast$dht)
\item 
void \hyperlink{_d_h_t__test_8c_ad94c4250d373760f1702fb8d55050ed7}{print\+\_\+friendlist} (\hyperlink{struct_d_h_t}{D\+H\+T} $\ast$dht)
\item 
void \hyperlink{_d_h_t__test_8c_a473c3fda2a3fd64092b4d8acd3eeb876}{printpacket} (uint8\+\_\+t $\ast$data, uint32\+\_\+t length, \hyperlink{struct_i_p___port}{I\+P\+\_\+\+Port} ip\+\_\+port)
\item 
int \hyperlink{_d_h_t__test_8c_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \hyperlink{_d_h_t__test_8c_a39d2fefe1a239135b98546c1f2371404}{zeroes\+\_\+cid} \mbox{[}crypto\+\_\+box\+\_\+\+P\+U\+B\+L\+I\+C\+K\+E\+Y\+B\+Y\+T\+E\+S\mbox{]}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{_d_h_t__test_8c_a5d21ea3d7da27fbd9f40c59aaa04da62}{\index{D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}!c\+\_\+sleep@{c\+\_\+sleep}}
\index{c\+\_\+sleep@{c\+\_\+sleep}!D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}}
\subsubsection[{c\+\_\+sleep}]{\setlength{\rightskip}{0pt plus 5cm}\#define c\+\_\+sleep(
\begin{DoxyParamCaption}
\item[{}]{{\bf x}}
\end{DoxyParamCaption}
)~usleep(1000$\ast${\bf x})}}\label{_d_h_t__test_8c_a5d21ea3d7da27fbd9f40c59aaa04da62}


Definition at line 49 of file D\+H\+T\+\_\+test.\+c.



Referenced by main().

\hypertarget{_d_h_t__test_8c_a614217d263be1fb1a5f76e2ff7be19a2}{\index{D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}!P\+O\+R\+T@{P\+O\+R\+T}}
\index{P\+O\+R\+T@{P\+O\+R\+T}!D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}}
\subsubsection[{P\+O\+R\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+O\+R\+T~33445}}\label{_d_h_t__test_8c_a614217d263be1fb1a5f76e2ff7be19a2}


Definition at line 53 of file D\+H\+T\+\_\+test.\+c.



Referenced by main().



\subsection{Function Documentation}
\hypertarget{_d_h_t__test_8c_a0ddf1224851353fc92bfbff6f499fa97}{\index{D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}!main@{main}}
\index{main@{main}!D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{_d_h_t__test_8c_a0ddf1224851353fc92bfbff6f499fa97}


Definition at line 170 of file D\+H\+T\+\_\+test.\+c.



References c\+\_\+sleep, cmdline\+\_\+parsefor\+\_\+ipv46(), D\+H\+T\+\_\+addfriend(), D\+H\+T\+\_\+bootstrap\+\_\+from\+\_\+address(), do\+\_\+\+D\+H\+T(), hex\+\_\+string\+\_\+to\+\_\+bin(), i, ip, ip\+\_\+init(), D\+H\+T\+::net, networking\+\_\+poll(), new\+\_\+\+D\+H\+T(), new\+\_\+networking(), port, P\+O\+R\+T, print\+\_\+clientlist(), print\+\_\+friendlist(), printf(), D\+H\+T\+::self\+\_\+public\+\_\+key, and T\+O\+X\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+I\+P\+V6\+\_\+\+D\+E\+F\+A\+U\+L\+T.


\begin{DoxyCode}
171 \{
172     \textcolor{keywordflow}{if} (argc < 4) \{
173         \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"Usage: %s [--ipv4|--ipv6] ip port public\_key\(\backslash\)n"}, argv[0]);
174         exit(0);
175     \}
176 
177     \textcolor{comment}{/* let user override default by cmdline */}
178     uint8\_t ipv6enabled = \hyperlink{network_8h_a5cba5a89816e720fa45984ad44859726}{TOX\_ENABLE\_IPV6\_DEFAULT}; \textcolor{comment}{/* x */}
179     \textcolor{keywordtype}{int} argvoffset = \hyperlink{misc__tools_8c_a71e9fc36ac2daca56b990437704bd35f}{cmdline\_parsefor\_ipv46}(argc, argv, &ipv6enabled);
180 
181     \textcolor{keywordflow}{if} (argvoffset < 0)
182         exit(1);
183 
184     \textcolor{comment}{//memcpy(self\_client\_id, "qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq", 32);}
185     \textcolor{comment}{/* initialize networking */}
186     \textcolor{comment}{/* bind to ip 0.0.0.0:PORT */}
187     \hyperlink{struct_i_p}{IP} \hyperlink{irc__syncbot_8c_ae81515e082f9bc33e8968181945586da}{ip};
188     \hyperlink{network_8c_a6aa0dce9c25e370af93bf4a14f79c709}{ip\_init}(&ip, ipv6enabled);
189 
190     \hyperlink{struct_d_h_t}{DHT} *dht = \hyperlink{_d_h_t_8c_adad04fa897751b06948a172044bf1c58}{new\_DHT}(\hyperlink{network_8c_a0c272a560dd4b2c18c6546a91656c1b5}{new\_networking}(ip, \hyperlink{_d_h_t__test_8c_a614217d263be1fb1a5f76e2ff7be19a2}{PORT}));
191     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"OUR ID: "});
192     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
193 
194     \textcolor{keywordflow}{for} (i = 0; i < 32; i++) \{
195         \textcolor{keywordflow}{if} (dht->\hyperlink{struct_d_h_t_ae726df8bdc26380e5a6c3187a00d6881}{self\_public\_key}[i] < 16)
196             \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"0"});
197 
198         \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"%hhX"}, dht->\hyperlink{struct_d_h_t_ae726df8bdc26380e5a6c3187a00d6881}{self\_public\_key}[i]);
199     \}
200 
201     \textcolor{keywordtype}{char} temp\_id[128];
202     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"\(\backslash\)nEnter the public\_key of the friend you wish to add (32 bytes HEX format):\(\backslash\)n"});
203 
204     \textcolor{keywordflow}{if} (!fgets(temp\_id, \textcolor{keyword}{sizeof}(temp\_id), stdin))
205         exit(0);
206 
207     \textcolor{keywordflow}{if} ((strlen(temp\_id) > 0) && (temp\_id[strlen(temp\_id) - 1] == \textcolor{charliteral}{'\(\backslash\)n'}))
208         temp\_id[strlen(temp\_id) - 1] = \textcolor{charliteral}{'\(\backslash\)0'};
209 
210     uint8\_t *bin\_id = \hyperlink{misc__tools_8c_aff7dee3cea854d8a56b5a29f77910f96}{hex\_string\_to\_bin}(temp\_id);
211     \hyperlink{_d_h_t_8c_a1dac5e05fd07964cb4914c17afeb9d50}{DHT\_addfriend}(dht, bin\_id, 0, 0, 0, 0);
212     free(bin\_id);
213 
214     perror(\textcolor{stringliteral}{"Initialization"});
215 
216     uint16\_t \hyperlink{irc__syncbot_8c_a8e0798404bf2cf5dabb84c5ba9a4f236}{port} = htons(atoi(argv[argvoffset + 2]));
217     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *binary\_string = \hyperlink{misc__tools_8c_aff7dee3cea854d8a56b5a29f77910f96}{hex\_string\_to\_bin}(argv[argvoffset + 3]);
218     \textcolor{keywordtype}{int} res = \hyperlink{_d_h_t_8c_af342c78837dbed569d4a75a0516455fc}{DHT\_bootstrap\_from\_address}(dht, argv[argvoffset + 1], ipv6enabled, 
      port, binary\_string);
219     free(binary\_string);
220 
221     \textcolor{keywordflow}{if} (!res) \{
222         \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"Failed to convert \(\backslash\)"%s\(\backslash\)" into an IP address. Exiting...\(\backslash\)n"}, argv[argvoffset + 1]);
223         \textcolor{keywordflow}{return} 1;
224     \}
225 
226     \textcolor{comment}{/*}
227 \textcolor{comment}{        IP\_Port ip\_port;}
228 \textcolor{comment}{        uint8\_t data[MAX\_UDP\_PACKET\_SIZE];}
229 \textcolor{comment}{        uint32\_t length;}
230 \textcolor{comment}{    */}
231 
232     \textcolor{keywordflow}{while} (1) \{
233 
234         \hyperlink{_d_h_t_8c_a5be9dfb66fbf1fa7c267b016f3357534}{do\_DHT}(dht);
235 
236         \textcolor{comment}{/* slvrTODO:}
237 \textcolor{comment}{                while(receivepacket(&ip\_port, data, &length) != -1) \{}
238 \textcolor{comment}{                    if(DHT\_handlepacket(data, length, ip\_port) && friendreq\_handlepacket(data, length,
       ip\_port)) \{}
239 \textcolor{comment}{                        //unhandled packet}
240 \textcolor{comment}{                        printpacket(data, length, ip\_port);}
241 \textcolor{comment}{                    \} else \{}
242 \textcolor{comment}{                        printf("Received handled packet with length: %u\(\backslash\)n", length);}
243 \textcolor{comment}{                    \}}
244 \textcolor{comment}{                \}}
245 \textcolor{comment}{        */}
246         \hyperlink{network_8c_ab6765fe4b08536210a20ac728f991e13}{networking\_poll}(dht->\hyperlink{struct_d_h_t_aa14ea2f67950f57fe4235d7375a2216c}{net});
247 
248         \hyperlink{_d_h_t__test_8c_a463f6057bfaeb5eb8237803f36414103}{print\_clientlist}(dht);
249         \hyperlink{_d_h_t__test_8c_ad94c4250d373760f1702fb8d55050ed7}{print\_friendlist}(dht);
250         \hyperlink{_d_h_t__test_8c_a5d21ea3d7da27fbd9f40c59aaa04da62}{c\_sleep}(300);
251     \}
252 
253     \textcolor{keywordflow}{return} 0;
254 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d3/dfd/_d_h_t__test_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph}
\end{center}
\end{figure}


\hypertarget{_d_h_t__test_8c_aec1adc27c02d5b5f89578cf204a55499}{\index{D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}!print\+\_\+assoc@{print\+\_\+assoc}}
\index{print\+\_\+assoc@{print\+\_\+assoc}!D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}}
\subsubsection[{print\+\_\+assoc}]{\setlength{\rightskip}{0pt plus 5cm}void print\+\_\+assoc (
\begin{DoxyParamCaption}
\item[{{\bf I\+P\+P\+Ts\+Png} $\ast$}]{assoc, }
\item[{uint8\+\_\+t}]{ours}
\end{DoxyParamCaption}
)}}\label{_d_h_t__test_8c_aec1adc27c02d5b5f89578cf204a55499}


Definition at line 84 of file D\+H\+T\+\_\+test.\+c.



References I\+P\+P\+Ts\+Png\+::hardening, I\+P\+\_\+\+Port\+::ip, ip\+\_\+ntoa(), I\+P\+P\+Ts\+Png\+::ip\+\_\+port, I\+P\+P\+Ts\+Png\+::last\+\_\+pinged, I\+P\+\_\+\+Port\+::port, print\+\_\+hardening(), printf(), I\+P\+P\+Ts\+Png\+::ret\+\_\+ip\+\_\+port, I\+P\+P\+Ts\+Png\+::ret\+\_\+timestamp, and I\+P\+P\+Ts\+Png\+::timestamp.



Referenced by print\+\_\+clientlist(), and print\+\_\+friendlist().


\begin{DoxyCode}
85 \{
86     \hyperlink{struct_i_p___port}{IP\_Port} *ipp = &assoc->\hyperlink{struct_i_p_p_ts_png_a86e2a5a56c0dd22df6e8b8a10e40f9e4}{ip\_port};
87     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"\(\backslash\)nIP: %s Port: %u"}, \hyperlink{network_8c_af71f49c78ce7b76ccf08785c6ec08706}{ip\_ntoa}(&ipp->\hyperlink{struct_i_p___port_a0c6193a337a223c63411b2fe722d79ec}{ip}), ntohs(ipp->
      \hyperlink{struct_i_p___port_a8e0798404bf2cf5dabb84c5ba9a4f236}{port}));
88     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"\(\backslash\)nTimestamp: %llu"}, (\textcolor{keywordtype}{long} \textcolor{keywordtype}{long} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) assoc->\hyperlink{struct_i_p_p_ts_png_a465bef81f6478756e5443025b1f2ddfa}{timestamp});
89     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"\(\backslash\)nLast pinged: %llu\(\backslash\)n"}, (\textcolor{keywordtype}{long} \textcolor{keywordtype}{long} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) assoc->
      \hyperlink{struct_i_p_p_ts_png_a4049204f6c392628d31be6c39f03e031}{last\_pinged});
90 
91     ipp = &assoc->\hyperlink{struct_i_p_p_ts_png_a28f2dcc657352ee4855d05ed42e4a4af}{ret\_ip\_port};
92 
93     \textcolor{keywordflow}{if} (ours)
94         \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"OUR IP: %s Port: %u\(\backslash\)n"}, \hyperlink{network_8c_af71f49c78ce7b76ccf08785c6ec08706}{ip\_ntoa}(&ipp->\hyperlink{struct_i_p___port_a0c6193a337a223c63411b2fe722d79ec}{ip}), ntohs(ipp->
      \hyperlink{struct_i_p___port_a8e0798404bf2cf5dabb84c5ba9a4f236}{port}));
95     \textcolor{keywordflow}{else}
96         \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"RET IP: %s Port: %u\(\backslash\)n"}, \hyperlink{network_8c_af71f49c78ce7b76ccf08785c6ec08706}{ip\_ntoa}(&ipp->\hyperlink{struct_i_p___port_a0c6193a337a223c63411b2fe722d79ec}{ip}), ntohs(ipp->
      \hyperlink{struct_i_p___port_a8e0798404bf2cf5dabb84c5ba9a4f236}{port}));
97 
98     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"Timestamp: %llu\(\backslash\)n"}, (\textcolor{keywordtype}{long} \textcolor{keywordtype}{long} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) assoc->
      \hyperlink{struct_i_p_p_ts_png_a5a40b83400feebb632862f593ad5e4a7}{ret\_timestamp});
99     \hyperlink{_d_h_t__test_8c_a5c24207084f36ed6c59b1d5ad20e38bb}{print\_hardening}(&assoc->\hyperlink{struct_i_p_p_ts_png_a247a5bc6669d45b7241b58223ce8fd1d}{hardening});
100 
101 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/dfd/_d_h_t__test_8c_aec1adc27c02d5b5f89578cf204a55499_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{d3/dfd/_d_h_t__test_8c_aec1adc27c02d5b5f89578cf204a55499_icgraph}
\end{center}
\end{figure}


\hypertarget{_d_h_t__test_8c_a342b3b8d1a5ebc72899a474422199ecb}{\index{D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}!print\+\_\+client\+\_\+id@{print\+\_\+client\+\_\+id}}
\index{print\+\_\+client\+\_\+id@{print\+\_\+client\+\_\+id}!D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}}
\subsubsection[{print\+\_\+client\+\_\+id}]{\setlength{\rightskip}{0pt plus 5cm}void print\+\_\+client\+\_\+id (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{public\+\_\+key}
\end{DoxyParamCaption}
)}}\label{_d_h_t__test_8c_a342b3b8d1a5ebc72899a474422199ecb}


Definition at line 57 of file D\+H\+T\+\_\+test.\+c.



References printf().



Referenced by print\+\_\+clientlist(), print\+\_\+friendlist(), and print\+\_\+hardening().


\begin{DoxyCode}
58 \{
59     uint32\_t j;
60 
61     \textcolor{keywordflow}{for} (j = 0; j < crypto\_box\_PUBLICKEYBYTES; j++) \{
62         \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"%02hhX"}, \hyperlink{namespacemake-funny-savefile_a6734667aeff5c30ad9e5624ccb556a87}{public\_key}[j]);
63     \}
64 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=231pt]{d3/dfd/_d_h_t__test_8c_a342b3b8d1a5ebc72899a474422199ecb_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/dfd/_d_h_t__test_8c_a342b3b8d1a5ebc72899a474422199ecb_icgraph}
\end{center}
\end{figure}


\hypertarget{_d_h_t__test_8c_a463f6057bfaeb5eb8237803f36414103}{\index{D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}!print\+\_\+clientlist@{print\+\_\+clientlist}}
\index{print\+\_\+clientlist@{print\+\_\+clientlist}!D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}}
\subsubsection[{print\+\_\+clientlist}]{\setlength{\rightskip}{0pt plus 5cm}void print\+\_\+clientlist (
\begin{DoxyParamCaption}
\item[{{\bf D\+H\+T} $\ast$}]{dht}
\end{DoxyParamCaption}
)}}\label{_d_h_t__test_8c_a463f6057bfaeb5eb8237803f36414103}


Definition at line 103 of file D\+H\+T\+\_\+test.\+c.



References Client\+\_\+data\+::assoc4, Client\+\_\+data\+::assoc6, D\+H\+T\+::close\+\_\+clientlist, i, L\+C\+L\+I\+E\+N\+T\+\_\+\+L\+I\+S\+T, print\+\_\+assoc(), print\+\_\+client\+\_\+id(), printf(), Client\+\_\+data\+::public\+\_\+key, and zeroes\+\_\+cid.



Referenced by main().


\begin{DoxyCode}
104 \{
105     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
106     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_CLOSE\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\(\backslash\)n"});
107 
108     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{_d_h_t_8h_a3058f857a8316099e20c95fb07adc7c1}{LCLIENT\_LIST}; i++) \{
109         \hyperlink{struct_client__data}{Client\_data} *client = &dht->\hyperlink{struct_d_h_t_a00ef35d5b0e7a791ef08a30b3bacbf9d}{close\_clientlist}[
      \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}];
110 
111         \textcolor{keywordflow}{if} (memcmp(client->\hyperlink{struct_client__data_aaa806bb1136fb3d4b5d8d8970b596ff7}{public\_key}, \hyperlink{_d_h_t__test_8c_a39d2fefe1a239135b98546c1f2371404}{zeroes\_cid}, crypto\_box\_PUBLICKEYBYTES) == 0)
112             \textcolor{keywordflow}{continue};
113 
114         \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"ClientID: "});
115         \hyperlink{_d_h_t__test_8c_a342b3b8d1a5ebc72899a474422199ecb}{print\_client\_id}(client->\hyperlink{struct_client__data_aaa806bb1136fb3d4b5d8d8970b596ff7}{public\_key});
116 
117         \hyperlink{_d_h_t__test_8c_aec1adc27c02d5b5f89578cf204a55499}{print\_assoc}(&client->\hyperlink{struct_client__data_ac9843379cbcd02bdfa5c180a1474a6c5}{assoc4}, 1);
118         \hyperlink{_d_h_t__test_8c_aec1adc27c02d5b5f89578cf204a55499}{print\_assoc}(&client->\hyperlink{struct_client__data_a87d394929a2604f6f785fec949fac618}{assoc6}, 1);
119     \}
120 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/dfd/_d_h_t__test_8c_a463f6057bfaeb5eb8237803f36414103_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=231pt]{d3/dfd/_d_h_t__test_8c_a463f6057bfaeb5eb8237803f36414103_icgraph}
\end{center}
\end{figure}


\hypertarget{_d_h_t__test_8c_ad94c4250d373760f1702fb8d55050ed7}{\index{D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}!print\+\_\+friendlist@{print\+\_\+friendlist}}
\index{print\+\_\+friendlist@{print\+\_\+friendlist}!D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}}
\subsubsection[{print\+\_\+friendlist}]{\setlength{\rightskip}{0pt plus 5cm}void print\+\_\+friendlist (
\begin{DoxyParamCaption}
\item[{{\bf D\+H\+T} $\ast$}]{dht}
\end{DoxyParamCaption}
)}}\label{_d_h_t__test_8c_ad94c4250d373760f1702fb8d55050ed7}


Definition at line 122 of file D\+H\+T\+\_\+test.\+c.



References Client\+\_\+data\+::assoc4, Client\+\_\+data\+::assoc6, D\+H\+T\+\_\+\+Friend\+::client\+\_\+list, D\+H\+T\+\_\+getfriendip(), D\+H\+T\+::friends\+\_\+list, i, I\+P\+\_\+\+Port\+::ip, ip\+\_\+ntoa(), M\+A\+X\+\_\+\+F\+R\+I\+E\+N\+D\+\_\+\+C\+L\+I\+E\+N\+T\+S, D\+H\+T\+::num\+\_\+friends, I\+P\+\_\+\+Port\+::port, print\+\_\+assoc(), print\+\_\+client\+\_\+id(), printf(), Client\+\_\+data\+::public\+\_\+key, D\+H\+T\+\_\+\+Friend\+::public\+\_\+key, and zeroes\+\_\+cid.



Referenced by main().


\begin{DoxyCode}
123 \{
124     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}, k;
125     \hyperlink{struct_i_p___port}{IP\_Port} p\_ip;
126     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_FRIENDS\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\(\backslash\)n"});
127 
128     \textcolor{keywordflow}{for} (k = 0; k < dht->\hyperlink{struct_d_h_t_a8ee1f2d7e543bce350c591a8eaac0cf8}{num\_friends}; k++) \{
129         \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"FRIEND %u\(\backslash\)n"}, k);
130         \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"ID: "});
131 
132         \hyperlink{_d_h_t__test_8c_a342b3b8d1a5ebc72899a474422199ecb}{print\_client\_id}(dht->\hyperlink{struct_d_h_t_ae97c6b057d770e7c4f3905cbe33b188b}{friends\_list}[k].
      \hyperlink{struct_d_h_t___friend_aaa806bb1136fb3d4b5d8d8970b596ff7}{public\_key});
133 
134         \textcolor{keywordtype}{int} friendok = \hyperlink{_d_h_t_8c_a963cf2afd9283277f69a94381e3fc5f0}{DHT\_getfriendip}(dht, dht->\hyperlink{struct_d_h_t_ae97c6b057d770e7c4f3905cbe33b188b}{friends\_list}[k].
      \hyperlink{struct_d_h_t___friend_aaa806bb1136fb3d4b5d8d8970b596ff7}{public\_key}, &p\_ip);
135         \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"\(\backslash\)nIP: %s:%u (%d)"}, \hyperlink{network_8c_af71f49c78ce7b76ccf08785c6ec08706}{ip\_ntoa}(&p\_ip.\hyperlink{struct_i_p___port_a0c6193a337a223c63411b2fe722d79ec}{ip}), ntohs(p\_ip.
      \hyperlink{struct_i_p___port_a8e0798404bf2cf5dabb84c5ba9a4f236}{port}), friendok);
136 
137         \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"\(\backslash\)nCLIENTS IN LIST:\(\backslash\)n\(\backslash\)n"});
138 
139         \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{_d_h_t_8h_ad50d158518277ca4d19cbe364f3e958c}{MAX\_FRIEND\_CLIENTS}; i++) \{
140             \hyperlink{struct_client__data}{Client\_data} *client = &dht->\hyperlink{struct_d_h_t_ae97c6b057d770e7c4f3905cbe33b188b}{friends\_list}[k].
      \hyperlink{struct_d_h_t___friend_a49ef2b640a834a77b6e123355a4fea47}{client\_list}[\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}];
141 
142             \textcolor{keywordflow}{if} (memcmp(client->\hyperlink{struct_client__data_aaa806bb1136fb3d4b5d8d8970b596ff7}{public\_key}, \hyperlink{_d_h_t__test_8c_a39d2fefe1a239135b98546c1f2371404}{zeroes\_cid}, crypto\_box\_PUBLICKEYBYTES) == 0)
143                 \textcolor{keywordflow}{continue};
144 
145             \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"ClientID: "});
146             \hyperlink{_d_h_t__test_8c_a342b3b8d1a5ebc72899a474422199ecb}{print\_client\_id}(client->\hyperlink{struct_client__data_aaa806bb1136fb3d4b5d8d8970b596ff7}{public\_key});
147 
148             \hyperlink{_d_h_t__test_8c_aec1adc27c02d5b5f89578cf204a55499}{print\_assoc}(&client->\hyperlink{struct_client__data_ac9843379cbcd02bdfa5c180a1474a6c5}{assoc4}, 0);
149             \hyperlink{_d_h_t__test_8c_aec1adc27c02d5b5f89578cf204a55499}{print\_assoc}(&client->\hyperlink{struct_client__data_a87d394929a2604f6f785fec949fac618}{assoc6}, 0);
150         \}
151     \}
152 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/dfd/_d_h_t__test_8c_ad94c4250d373760f1702fb8d55050ed7_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=231pt]{d3/dfd/_d_h_t__test_8c_ad94c4250d373760f1702fb8d55050ed7_icgraph}
\end{center}
\end{figure}


\hypertarget{_d_h_t__test_8c_a5c24207084f36ed6c59b1d5ad20e38bb}{\index{D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}!print\+\_\+hardening@{print\+\_\+hardening}}
\index{print\+\_\+hardening@{print\+\_\+hardening}!D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}}
\subsubsection[{print\+\_\+hardening}]{\setlength{\rightskip}{0pt plus 5cm}void print\+\_\+hardening (
\begin{DoxyParamCaption}
\item[{{\bf Hardening} $\ast$}]{h}
\end{DoxyParamCaption}
)}}\label{_d_h_t__test_8c_a5c24207084f36ed6c59b1d5ad20e38bb}


Definition at line 66 of file D\+H\+T\+\_\+test.\+c.



References print\+\_\+client\+\_\+id(), printf(), Hardening\+::routes\+\_\+requests\+\_\+ok, Hardening\+::routes\+\_\+requests\+\_\+pingedid, Hardening\+::routes\+\_\+requests\+\_\+timestamp, Hardening\+::send\+\_\+nodes\+\_\+ok, Hardening\+::send\+\_\+nodes\+\_\+pingedid, Hardening\+::send\+\_\+nodes\+\_\+timestamp, Hardening\+::testing\+\_\+pingedid, Hardening\+::testing\+\_\+requests, and Hardening\+::testing\+\_\+timestamp.



Referenced by print\+\_\+assoc().


\begin{DoxyCode}
67 \{
68     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"Hardening:\(\backslash\)n"});
69     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"routes\_requests\_ok: %hhu\(\backslash\)n"}, h->\hyperlink{struct_hardening_a3bc4c156861571ceca55275d95f6221b}{routes\_requests\_ok});
70     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"routes\_requests\_timestamp: %llu\(\backslash\)n"}, (\textcolor{keywordtype}{long} \textcolor{keywordtype}{long} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})h->
      \hyperlink{struct_hardening_a55d6293fa06a8c4aa24e70706409b060}{routes\_requests\_timestamp});
71     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"routes\_requests\_pingedid: "});
72     \hyperlink{_d_h_t__test_8c_a342b3b8d1a5ebc72899a474422199ecb}{print\_client\_id}(h->\hyperlink{struct_hardening_aee791c81812d61023e3ecc7ebc33f4c0}{routes\_requests\_pingedid});
73     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"\(\backslash\)nsend\_nodes\_ok: %hhu\(\backslash\)n"}, h->\hyperlink{struct_hardening_a11158e002f3685f4044a759680636c08}{send\_nodes\_ok});
74     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"send\_nodes\_timestamp: %llu\(\backslash\)n"}, (\textcolor{keywordtype}{long} \textcolor{keywordtype}{long} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})h->
      \hyperlink{struct_hardening_ab15e3d8f0b33943a6978fac3cde4d1a2}{send\_nodes\_timestamp});
75     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"send\_nodes\_pingedid: "});
76     \hyperlink{_d_h_t__test_8c_a342b3b8d1a5ebc72899a474422199ecb}{print\_client\_id}(h->\hyperlink{struct_hardening_a2c2bfa7e3ff42e353bc44a2183ebc4df}{send\_nodes\_pingedid});
77     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"\(\backslash\)ntesting\_requests: %hhu\(\backslash\)n"}, h->\hyperlink{struct_hardening_a48c7621d77e824da8df2c8a7caa79d25}{testing\_requests});
78     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"testing\_timestamp: %llu\(\backslash\)n"}, (\textcolor{keywordtype}{long} \textcolor{keywordtype}{long} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})h->
      \hyperlink{struct_hardening_a3de9f4ec78dd99c4ca1a142e1c65fcee}{testing\_timestamp});
79     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"testing\_pingedid: "});
80     \hyperlink{_d_h_t__test_8c_a342b3b8d1a5ebc72899a474422199ecb}{print\_client\_id}(h->\hyperlink{struct_hardening_a4756e4396c1fe15e6ba6bdac38a60eee}{testing\_pingedid});
81     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"\(\backslash\)n\(\backslash\)n"});
82 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/dfd/_d_h_t__test_8c_a5c24207084f36ed6c59b1d5ad20e38bb_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/dfd/_d_h_t__test_8c_a5c24207084f36ed6c59b1d5ad20e38bb_icgraph}
\end{center}
\end{figure}


\hypertarget{_d_h_t__test_8c_a473c3fda2a3fd64092b4d8acd3eeb876}{\index{D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}!printpacket@{printpacket}}
\index{printpacket@{printpacket}!D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}}
\subsubsection[{printpacket}]{\setlength{\rightskip}{0pt plus 5cm}void printpacket (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{data, }
\item[{uint32\+\_\+t}]{length, }
\item[{{\bf I\+P\+\_\+\+Port}}]{ip\+\_\+port}
\end{DoxyParamCaption}
)}}\label{_d_h_t__test_8c_a473c3fda2a3fd64092b4d8acd3eeb876}


Definition at line 154 of file D\+H\+T\+\_\+test.\+c.



References i, and printf().


\begin{DoxyCode}
155 \{
156     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
157     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"UNHANDLED PACKET RECEIVED\(\backslash\)nLENGTH:%u\(\backslash\)nCONTENTS:\(\backslash\)n"}, length);
158     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"--------------------BEGIN-----------------------------\(\backslash\)n"});
159 
160     \textcolor{keywordflow}{for} (i = 0; i < length; i++) \{
161         \textcolor{keywordflow}{if} (\hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}[i] < 16)
162             \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"0"});
163 
164         \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"%hhX"}, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}[i]);
165     \}
166 
167     \hyperlink{toxav__many__test_8c_a1b88a4421cf9eef5af4895904ce2d905}{printf}(\textcolor{stringliteral}{"\(\backslash\)n--------------------END-----------------------------\(\backslash\)n\(\backslash\)n\(\backslash\)n"});
168 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=219pt]{d3/dfd/_d_h_t__test_8c_a473c3fda2a3fd64092b4d8acd3eeb876_cgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\hypertarget{_d_h_t__test_8c_a39d2fefe1a239135b98546c1f2371404}{\index{D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}!zeroes\+\_\+cid@{zeroes\+\_\+cid}}
\index{zeroes\+\_\+cid@{zeroes\+\_\+cid}!D\+H\+T\+\_\+test.\+c@{D\+H\+T\+\_\+test.\+c}}
\subsubsection[{zeroes\+\_\+cid}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t zeroes\+\_\+cid\mbox{[}crypto\+\_\+box\+\_\+\+P\+U\+B\+L\+I\+C\+K\+E\+Y\+B\+Y\+T\+E\+S\mbox{]}}}\label{_d_h_t__test_8c_a39d2fefe1a239135b98546c1f2371404}


Definition at line 55 of file D\+H\+T\+\_\+test.\+c.



Referenced by print\+\_\+clientlist(), and print\+\_\+friendlist().

