\hypertarget{bootstrap__node__packets_8c}{\section{other/bootstrap\+\_\+node\+\_\+packets.c File Reference}
\label{bootstrap__node__packets_8c}\index{other/bootstrap\+\_\+node\+\_\+packets.\+c@{other/bootstrap\+\_\+node\+\_\+packets.\+c}}
}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=202pt]{d8/dc4/bootstrap__node__packets_8c__dep__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{bootstrap__node__packets_8c_aa75b75f88f6c7c32c4c23631de425982}{M\+A\+X\+\_\+\+M\+O\+T\+D\+\_\+\+L\+E\+N\+G\+T\+H}~256 /$\ast$ I recommend you use a maximum of 96 bytes. The hard maximum is this though. $\ast$/
\item 
\#define \hyperlink{bootstrap__node__packets_8c_ad24a39b8ee277088fbede2bfdd67002a}{I\+N\+F\+O\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N\+G\+T\+H}~78
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static int \hyperlink{bootstrap__node__packets_8c_a0556af728df68fb3a9c4b7cc4b7d9049}{handle\+\_\+info\+\_\+request} (void $\ast$object, \hyperlink{struct_i_p___port}{I\+P\+\_\+\+Port} source, const uint8\+\_\+t $\ast$packet, uint16\+\_\+t length)
\item 
int \hyperlink{bootstrap__node__packets_8c_af45f0ce6a723f57dc9f667f2fcd4772c}{bootstrap\+\_\+set\+\_\+callbacks} (\hyperlink{struct_networking___core}{Networking\+\_\+\+Core} $\ast$net, uint32\+\_\+t version, uint8\+\_\+t $\ast$motd, uint16\+\_\+t motd\+\_\+length)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static uint32\+\_\+t \hyperlink{bootstrap__node__packets_8c_a36b9f965f9f405182aed520fb822adb3}{bootstrap\+\_\+version}
\item 
static uint8\+\_\+t \hyperlink{bootstrap__node__packets_8c_af60b86b4f91758beb61776c0cb6c11cf}{bootstrap\+\_\+motd} \mbox{[}\hyperlink{bootstrap__node__packets_8c_aa75b75f88f6c7c32c4c23631de425982}{M\+A\+X\+\_\+\+M\+O\+T\+D\+\_\+\+L\+E\+N\+G\+T\+H}\mbox{]}
\item 
static uint16\+\_\+t \hyperlink{bootstrap__node__packets_8c_a29600cdb7fcde9c9866b3ff5781b37df}{bootstrap\+\_\+motd\+\_\+length}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{bootstrap__node__packets_8c_ad24a39b8ee277088fbede2bfdd67002a}{\index{bootstrap\+\_\+node\+\_\+packets.\+c@{bootstrap\+\_\+node\+\_\+packets.\+c}!I\+N\+F\+O\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N\+G\+T\+H@{I\+N\+F\+O\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N\+G\+T\+H}}
\index{I\+N\+F\+O\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N\+G\+T\+H@{I\+N\+F\+O\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N\+G\+T\+H}!bootstrap\+\_\+node\+\_\+packets.\+c@{bootstrap\+\_\+node\+\_\+packets.\+c}}
\subsubsection[{I\+N\+F\+O\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N\+G\+T\+H}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+N\+F\+O\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N\+G\+T\+H~78}}\label{bootstrap__node__packets_8c_ad24a39b8ee277088fbede2bfdd67002a}


Definition at line 28 of file bootstrap\+\_\+node\+\_\+packets.\+c.



Referenced by handle\+\_\+info\+\_\+request().

\hypertarget{bootstrap__node__packets_8c_aa75b75f88f6c7c32c4c23631de425982}{\index{bootstrap\+\_\+node\+\_\+packets.\+c@{bootstrap\+\_\+node\+\_\+packets.\+c}!M\+A\+X\+\_\+\+M\+O\+T\+D\+\_\+\+L\+E\+N\+G\+T\+H@{M\+A\+X\+\_\+\+M\+O\+T\+D\+\_\+\+L\+E\+N\+G\+T\+H}}
\index{M\+A\+X\+\_\+\+M\+O\+T\+D\+\_\+\+L\+E\+N\+G\+T\+H@{M\+A\+X\+\_\+\+M\+O\+T\+D\+\_\+\+L\+E\+N\+G\+T\+H}!bootstrap\+\_\+node\+\_\+packets.\+c@{bootstrap\+\_\+node\+\_\+packets.\+c}}
\subsubsection[{M\+A\+X\+\_\+\+M\+O\+T\+D\+\_\+\+L\+E\+N\+G\+T\+H}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+\_\+\+M\+O\+T\+D\+\_\+\+L\+E\+N\+G\+T\+H~256 /$\ast$ I recommend you use a maximum of 96 bytes. The hard maximum is this though. $\ast$/}}\label{bootstrap__node__packets_8c_aa75b75f88f6c7c32c4c23631de425982}


Definition at line 26 of file bootstrap\+\_\+node\+\_\+packets.\+c.



Referenced by bootstrap\+\_\+set\+\_\+callbacks(), get\+\_\+general\+\_\+config(), and handle\+\_\+info\+\_\+request().



\subsection{Function Documentation}
\hypertarget{bootstrap__node__packets_8c_af45f0ce6a723f57dc9f667f2fcd4772c}{\index{bootstrap\+\_\+node\+\_\+packets.\+c@{bootstrap\+\_\+node\+\_\+packets.\+c}!bootstrap\+\_\+set\+\_\+callbacks@{bootstrap\+\_\+set\+\_\+callbacks}}
\index{bootstrap\+\_\+set\+\_\+callbacks@{bootstrap\+\_\+set\+\_\+callbacks}!bootstrap\+\_\+node\+\_\+packets.\+c@{bootstrap\+\_\+node\+\_\+packets.\+c}}
\subsubsection[{bootstrap\+\_\+set\+\_\+callbacks}]{\setlength{\rightskip}{0pt plus 5cm}int bootstrap\+\_\+set\+\_\+callbacks (
\begin{DoxyParamCaption}
\item[{{\bf Networking\+\_\+\+Core} $\ast$}]{net, }
\item[{uint32\+\_\+t}]{version, }
\item[{uint8\+\_\+t $\ast$}]{motd, }
\item[{uint16\+\_\+t}]{motd\+\_\+length}
\end{DoxyParamCaption}
)}}\label{bootstrap__node__packets_8c_af45f0ce6a723f57dc9f667f2fcd4772c}


Definition at line 54 of file bootstrap\+\_\+node\+\_\+packets.\+c.



References B\+O\+O\+T\+S\+T\+R\+A\+P\+\_\+\+I\+N\+F\+O\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+I\+D, bootstrap\+\_\+motd, bootstrap\+\_\+motd\+\_\+length, bootstrap\+\_\+version, handle\+\_\+info\+\_\+request(), M\+A\+X\+\_\+\+M\+O\+T\+D\+\_\+\+L\+E\+N\+G\+T\+H, and networking\+\_\+registerhandler().



Referenced by main().


\begin{DoxyCode}
55 \{
56     \textcolor{keywordflow}{if} (motd\_length > \hyperlink{bootstrap__node__packets_8c_aa75b75f88f6c7c32c4c23631de425982}{MAX\_MOTD\_LENGTH})
57         \textcolor{keywordflow}{return} -1;
58 
59     \hyperlink{bootstrap__node__packets_8c_a36b9f965f9f405182aed520fb822adb3}{bootstrap\_version} = htonl(\hyperlink{namespacebootstrap__node__info_a76aa01cd80eeb03b381ebe36f17c16b2}{version});
60     memcpy(\hyperlink{bootstrap__node__packets_8c_af60b86b4f91758beb61776c0cb6c11cf}{bootstrap\_motd}, \hyperlink{namespacebootstrap__node__info_aa2d2b1afbc1ef82443acef646943f3fe}{motd}, motd\_length);
61     \hyperlink{bootstrap__node__packets_8c_a29600cdb7fcde9c9866b3ff5781b37df}{bootstrap\_motd\_length} = motd\_length;
62 
63     \hyperlink{network_8c_a230a192ca9463ec4985d4f86de439733}{networking\_registerhandler}(net, 
      \hyperlink{network_8h_ad8263fdc6b6f17e282f3d711bf51763c}{BOOTSTRAP\_INFO\_PACKET\_ID}, &\hyperlink{bootstrap__node__packets_8c_a0556af728df68fb3a9c4b7cc4b7d9049}{handle\_info\_request}, net);
64     \textcolor{keywordflow}{return} 0;
65 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d7d/bootstrap__node__packets_8c_af45f0ce6a723f57dc9f667f2fcd4772c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=276pt]{de/d7d/bootstrap__node__packets_8c_af45f0ce6a723f57dc9f667f2fcd4772c_icgraph}
\end{center}
\end{figure}


\hypertarget{bootstrap__node__packets_8c_a0556af728df68fb3a9c4b7cc4b7d9049}{\index{bootstrap\+\_\+node\+\_\+packets.\+c@{bootstrap\+\_\+node\+\_\+packets.\+c}!handle\+\_\+info\+\_\+request@{handle\+\_\+info\+\_\+request}}
\index{handle\+\_\+info\+\_\+request@{handle\+\_\+info\+\_\+request}!bootstrap\+\_\+node\+\_\+packets.\+c@{bootstrap\+\_\+node\+\_\+packets.\+c}}
\subsubsection[{handle\+\_\+info\+\_\+request}]{\setlength{\rightskip}{0pt plus 5cm}static int handle\+\_\+info\+\_\+request (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{object, }
\item[{{\bf I\+P\+\_\+\+Port}}]{source, }
\item[{const uint8\+\_\+t $\ast$}]{packet, }
\item[{uint16\+\_\+t}]{length}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{bootstrap__node__packets_8c_a0556af728df68fb3a9c4b7cc4b7d9049}


Definition at line 37 of file bootstrap\+\_\+node\+\_\+packets.\+c.



References B\+O\+O\+T\+S\+T\+R\+A\+P\+\_\+\+I\+N\+F\+O\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+I\+D, bootstrap\+\_\+motd, bootstrap\+\_\+motd\+\_\+length, bootstrap\+\_\+version, make-\/funny-\/savefile\+::data, I\+N\+F\+O\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N\+G\+T\+H, M\+A\+X\+\_\+\+M\+O\+T\+D\+\_\+\+L\+E\+N\+G\+T\+H, and sendpacket().



Referenced by bootstrap\+\_\+set\+\_\+callbacks().


\begin{DoxyCode}
38 \{
39     \textcolor{keywordflow}{if} (length != \hyperlink{bootstrap__node__packets_8c_ad24a39b8ee277088fbede2bfdd67002a}{INFO\_REQUEST\_PACKET\_LENGTH})
40         \textcolor{keywordflow}{return} 1;
41 
42     uint8\_t \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}[1 + \textcolor{keyword}{sizeof}(\hyperlink{bootstrap__node__packets_8c_a36b9f965f9f405182aed520fb822adb3}{bootstrap\_version}) + 
      \hyperlink{bootstrap__node__packets_8c_aa75b75f88f6c7c32c4c23631de425982}{MAX\_MOTD\_LENGTH}];
43     \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}[0] = \hyperlink{network_8h_ad8263fdc6b6f17e282f3d711bf51763c}{BOOTSTRAP\_INFO\_PACKET\_ID};
44     memcpy(data + 1, &\hyperlink{bootstrap__node__packets_8c_a36b9f965f9f405182aed520fb822adb3}{bootstrap\_version}, \textcolor{keyword}{sizeof}(
      \hyperlink{bootstrap__node__packets_8c_a36b9f965f9f405182aed520fb822adb3}{bootstrap\_version}));
45     uint16\_t len = 1 + \textcolor{keyword}{sizeof}(\hyperlink{bootstrap__node__packets_8c_a36b9f965f9f405182aed520fb822adb3}{bootstrap\_version}) + 
      \hyperlink{bootstrap__node__packets_8c_a29600cdb7fcde9c9866b3ff5781b37df}{bootstrap\_motd\_length};
46     memcpy(data + 1 + \textcolor{keyword}{sizeof}(\hyperlink{bootstrap__node__packets_8c_a36b9f965f9f405182aed520fb822adb3}{bootstrap\_version}), \hyperlink{bootstrap__node__packets_8c_af60b86b4f91758beb61776c0cb6c11cf}{bootstrap\_motd}, 
      \hyperlink{bootstrap__node__packets_8c_a29600cdb7fcde9c9866b3ff5781b37df}{bootstrap\_motd\_length});
47 
48     \textcolor{keywordflow}{if} (\hyperlink{network_8c_a7b90f87f3ba60cc5c66dd6dd77cd5cb1}{sendpacket}(\textcolor{keywordtype}{object}, source, data, len) == len)
49         \textcolor{keywordflow}{return} 0;
50 
51     \textcolor{keywordflow}{return} 1;
52 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=287pt]{de/d7d/bootstrap__node__packets_8c_a0556af728df68fb3a9c4b7cc4b7d9049_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d7d/bootstrap__node__packets_8c_a0556af728df68fb3a9c4b7cc4b7d9049_icgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\hypertarget{bootstrap__node__packets_8c_af60b86b4f91758beb61776c0cb6c11cf}{\index{bootstrap\+\_\+node\+\_\+packets.\+c@{bootstrap\+\_\+node\+\_\+packets.\+c}!bootstrap\+\_\+motd@{bootstrap\+\_\+motd}}
\index{bootstrap\+\_\+motd@{bootstrap\+\_\+motd}!bootstrap\+\_\+node\+\_\+packets.\+c@{bootstrap\+\_\+node\+\_\+packets.\+c}}
\subsubsection[{bootstrap\+\_\+motd}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t bootstrap\+\_\+motd\mbox{[}{\bf M\+A\+X\+\_\+\+M\+O\+T\+D\+\_\+\+L\+E\+N\+G\+T\+H}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{bootstrap__node__packets_8c_af60b86b4f91758beb61776c0cb6c11cf}


Definition at line 31 of file bootstrap\+\_\+node\+\_\+packets.\+c.



Referenced by bootstrap\+\_\+set\+\_\+callbacks(), and handle\+\_\+info\+\_\+request().

\hypertarget{bootstrap__node__packets_8c_a29600cdb7fcde9c9866b3ff5781b37df}{\index{bootstrap\+\_\+node\+\_\+packets.\+c@{bootstrap\+\_\+node\+\_\+packets.\+c}!bootstrap\+\_\+motd\+\_\+length@{bootstrap\+\_\+motd\+\_\+length}}
\index{bootstrap\+\_\+motd\+\_\+length@{bootstrap\+\_\+motd\+\_\+length}!bootstrap\+\_\+node\+\_\+packets.\+c@{bootstrap\+\_\+node\+\_\+packets.\+c}}
\subsubsection[{bootstrap\+\_\+motd\+\_\+length}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t bootstrap\+\_\+motd\+\_\+length\hspace{0.3cm}{\ttfamily [static]}}}\label{bootstrap__node__packets_8c_a29600cdb7fcde9c9866b3ff5781b37df}


Definition at line 32 of file bootstrap\+\_\+node\+\_\+packets.\+c.



Referenced by bootstrap\+\_\+set\+\_\+callbacks(), and handle\+\_\+info\+\_\+request().

\hypertarget{bootstrap__node__packets_8c_a36b9f965f9f405182aed520fb822adb3}{\index{bootstrap\+\_\+node\+\_\+packets.\+c@{bootstrap\+\_\+node\+\_\+packets.\+c}!bootstrap\+\_\+version@{bootstrap\+\_\+version}}
\index{bootstrap\+\_\+version@{bootstrap\+\_\+version}!bootstrap\+\_\+node\+\_\+packets.\+c@{bootstrap\+\_\+node\+\_\+packets.\+c}}
\subsubsection[{bootstrap\+\_\+version}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t bootstrap\+\_\+version\hspace{0.3cm}{\ttfamily [static]}}}\label{bootstrap__node__packets_8c_a36b9f965f9f405182aed520fb822adb3}


Definition at line 30 of file bootstrap\+\_\+node\+\_\+packets.\+c.



Referenced by bootstrap\+\_\+set\+\_\+callbacks(), and handle\+\_\+info\+\_\+request().

