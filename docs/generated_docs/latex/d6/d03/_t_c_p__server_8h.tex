\hypertarget{_t_c_p__server_8h}{\section{toxcore/\+T\+C\+P\+\_\+server.h File Reference}
\label{_t_c_p__server_8h}\index{toxcore/\+T\+C\+P\+\_\+server.\+h@{toxcore/\+T\+C\+P\+\_\+server.\+h}}
}
{\ttfamily \#include \char`\"{}crypto\+\_\+core.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}onion.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}list.\+h\char`\"{}}\\*
Include dependency graph for T\+C\+P\+\_\+server.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d33/_t_c_p__server_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d2c/_t_c_p__server_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_t_c_p___priority___list}{T\+C\+P\+\_\+\+Priority\+\_\+\+List}
\item 
struct \hyperlink{struct_t_c_p___secure___connection}{T\+C\+P\+\_\+\+Secure\+\_\+\+Connection}
\item 
struct \hyperlink{struct_t_c_p___server}{T\+C\+P\+\_\+\+Server}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{_t_c_p__server_8h_a2c62883bf7895f3582975a14ec316bef}{M\+A\+X\+\_\+\+I\+N\+C\+O\+M\+M\+I\+N\+G\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S}~256
\item 
\#define \hyperlink{_t_c_p__server_8h_ae2850071db896a7e93afd4acc1bfd69b}{T\+C\+P\+\_\+\+M\+A\+X\+\_\+\+B\+A\+C\+K\+L\+O\+G}~\hyperlink{_t_c_p__server_8h_a2c62883bf7895f3582975a14ec316bef}{M\+A\+X\+\_\+\+I\+N\+C\+O\+M\+M\+I\+N\+G\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S}
\item 
\#define \hyperlink{_t_c_p__server_8h_a879456c3b8e2853f7044d764e9c180d4}{M\+A\+X\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E}~2048
\item 
\#define \hyperlink{_t_c_p__server_8h_a9b820bd1123c0fbdfd8391cce314b35b}{T\+C\+P\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+P\+L\+A\+I\+N\+\_\+\+S\+I\+Z\+E}~(crypto\+\_\+box\+\_\+\+P\+U\+B\+L\+I\+C\+K\+E\+Y\+B\+Y\+T\+E\+S + crypto\+\_\+box\+\_\+\+N\+O\+N\+C\+E\+B\+Y\+T\+E\+S)
\item 
\#define \hyperlink{_t_c_p__server_8h_a88a61b02e465cd8c05fbae1def1066f2}{T\+C\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+S\+I\+Z\+E}~(crypto\+\_\+box\+\_\+\+N\+O\+N\+C\+E\+B\+Y\+T\+E\+S + \hyperlink{_t_c_p__server_8h_a9b820bd1123c0fbdfd8391cce314b35b}{T\+C\+P\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+P\+L\+A\+I\+N\+\_\+\+S\+I\+Z\+E} + crypto\+\_\+box\+\_\+\+M\+A\+C\+B\+Y\+T\+E\+S)
\item 
\#define \hyperlink{_t_c_p__server_8h_aa5f4778a5c176dbd24018f61cc7524f7}{T\+C\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+S\+I\+Z\+E}~(crypto\+\_\+box\+\_\+\+P\+U\+B\+L\+I\+C\+K\+E\+Y\+B\+Y\+T\+E\+S + \hyperlink{_t_c_p__server_8h_a88a61b02e465cd8c05fbae1def1066f2}{T\+C\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+S\+I\+Z\+E})
\item 
\#define \hyperlink{_t_c_p__server_8h_a9f050748925b02db21564fa5f6c78e4e}{T\+C\+P\+\_\+\+M\+A\+X\+\_\+\+O\+O\+B\+\_\+\+D\+A\+T\+A\+\_\+\+L\+E\+N\+G\+T\+H}~1024
\item 
\#define \hyperlink{_t_c_p__server_8h_a41d07eb7b13b1998b771080dfaef6b7b}{N\+U\+M\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D\+\_\+\+P\+O\+R\+T\+S}~16
\item 
\#define \hyperlink{_t_c_p__server_8h_aad3362495a10d80b0edac21c8f896ae1}{N\+U\+M\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S}~(256 -\/ \hyperlink{_t_c_p__server_8h_a41d07eb7b13b1998b771080dfaef6b7b}{N\+U\+M\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D\+\_\+\+P\+O\+R\+T\+S})
\item 
\#define \hyperlink{_t_c_p__server_8h_a808af5b9484311a39abb96dac1ecd426}{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+R\+O\+U\+T\+I\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T}~0
\item 
\#define \hyperlink{_t_c_p__server_8h_ad288b46b857552d69e64135b3a329d83}{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+R\+O\+U\+T\+I\+N\+G\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E}~1
\item 
\#define \hyperlink{_t_c_p__server_8h_ae03ebbe7438d78a242e6970f35eb6dfa}{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+O\+N}~2
\item 
\#define \hyperlink{_t_c_p__server_8h_a65b6df680eaecb9563dfcc8c5fcfba3d}{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+O\+N}~3
\item 
\#define \hyperlink{_t_c_p__server_8h_aa1328be3bbb33d8e47490408376c3553}{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+P\+I\+N\+G}~4
\item 
\#define \hyperlink{_t_c_p__server_8h_a783819134f7296fb82cfc3149f6fbb62}{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+P\+O\+N\+G}~5
\item 
\#define \hyperlink{_t_c_p__server_8h_a5961d2c3587485c79194c5479a8b0973}{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+O\+B\+\_\+\+S\+E\+N\+D}~6
\item 
\#define \hyperlink{_t_c_p__server_8h_a6d824009f914ddf664d60adf6695189c}{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+O\+B\+\_\+\+R\+E\+C\+V}~7
\item 
\#define \hyperlink{_t_c_p__server_8h_a879315f1b7234dad07a45d63a6d0aed5}{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+N\+I\+O\+N\+\_\+\+R\+E\+Q\+U\+E\+S\+T}~8
\item 
\#define \hyperlink{_t_c_p__server_8h_acbe72759c701ff843abf6a80dafee7e8}{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+N\+I\+O\+N\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E}~9
\item 
\#define \hyperlink{_t_c_p__server_8h_a4ba8b32c7131d7bddb07be65aec9d4db}{A\+R\+R\+A\+Y\+\_\+\+E\+N\+T\+R\+Y\+\_\+\+S\+I\+Z\+E}~6
\item 
\#define \hyperlink{_t_c_p__server_8h_a779366bdff0863c4e36c9313b25fcb29}{T\+C\+P\+\_\+\+P\+I\+N\+G\+\_\+\+F\+R\+E\+Q\+U\+E\+N\+C\+Y}~30
\item 
\#define \hyperlink{_t_c_p__server_8h_a09b714899296b82866bab0a4d294c917}{T\+C\+P\+\_\+\+P\+I\+N\+G\+\_\+\+T\+I\+M\+E\+O\+U\+T}~10
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{struct_t_c_p___priority___list}{T\+C\+P\+\_\+\+Priority\+\_\+\+List} \hyperlink{_t_c_p__server_8h_a5750799a61dd1a6dc6930e5aa25ce653}{T\+C\+P\+\_\+\+Priority\+\_\+\+List}
\item 
typedef struct \\*
\hyperlink{struct_t_c_p___secure___connection}{T\+C\+P\+\_\+\+Secure\+\_\+\+Connection} \hyperlink{_t_c_p__server_8h_aa22e20d6aa67ad907ef4ae8334e5091b}{T\+C\+P\+\_\+\+Secure\+\_\+\+Connection}
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \{ \hyperlink{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181fa20692881561141ef7621446ae15f78bc}{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+N\+O\+\_\+\+S\+T\+A\+T\+U\+S}, 
\hyperlink{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181fab5e948cd81931f0c7e6a827e90c24616}{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+E\+D}, 
\hyperlink{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181fa17e64dcb5cb3bb08704b328ff40c8138}{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+C\+O\+N\+F\+I\+R\+M\+E\+D}, 
\hyperlink{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181fa42e6e74e5c62734eb1386045e159a601}{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+F\+I\+R\+M\+E\+D}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{struct_t_c_p___server}{T\+C\+P\+\_\+\+Server} $\ast$ \hyperlink{_t_c_p__server_8h_a148e632f4c51645cbc1b414bc3584b60}{new\+\_\+\+T\+C\+P\+\_\+server} (uint8\+\_\+t ipv6\+\_\+enabled, uint16\+\_\+t num\+\_\+sockets, const uint16\+\_\+t $\ast$\hyperlink{_t_c_p__test_8c_a04e5444bf6a826487066ba973577f674}{ports}, const uint8\+\_\+t $\ast$secret\+\_\+key, \hyperlink{struct_onion}{Onion} $\ast$onion)
\item 
void \hyperlink{_t_c_p__server_8h_a40e8a0302a359dd4f712eb1e9c346fe5}{do\+\_\+\+T\+C\+P\+\_\+server} (\hyperlink{struct_t_c_p___server}{T\+C\+P\+\_\+\+Server} $\ast$T\+C\+P\+\_\+server)
\item 
void \hyperlink{_t_c_p__server_8h_af6df6382ad309456dcf5b7b350313714}{kill\+\_\+\+T\+C\+P\+\_\+server} (\hyperlink{struct_t_c_p___server}{T\+C\+P\+\_\+\+Server} $\ast$T\+C\+P\+\_\+server)
\item 
unsigned int \hyperlink{_t_c_p__server_8h_ae80fe7119d00d2a7788c0839a90e0782}{T\+C\+P\+\_\+socket\+\_\+data\+\_\+recv\+\_\+buffer} (\hyperlink{network_8h_ae5faf8a8d23da59c3e3025a62039d8c1}{sock\+\_\+t} \hyperlink{irc__syncbot_8c_a5903d0b282fc5eae503de618f896b5e1}{sock})
\item 
uint16\+\_\+t \hyperlink{_t_c_p__server_8h_a984a0b6fc27b03e09170579ec9494093}{read\+\_\+\+T\+C\+P\+\_\+length} (\hyperlink{network_8h_ae5faf8a8d23da59c3e3025a62039d8c1}{sock\+\_\+t} \hyperlink{irc__syncbot_8c_a5903d0b282fc5eae503de618f896b5e1}{sock})
\item 
int \hyperlink{_t_c_p__server_8h_a88eda37b476d8dcfdba94899e740dd9e}{read\+\_\+\+T\+C\+P\+\_\+packet} (\hyperlink{network_8h_ae5faf8a8d23da59c3e3025a62039d8c1}{sock\+\_\+t} \hyperlink{irc__syncbot_8c_a5903d0b282fc5eae503de618f896b5e1}{sock}, uint8\+\_\+t $\ast$data, uint16\+\_\+t length)
\item 
int \hyperlink{_t_c_p__server_8h_a2acbecbd76fe539293b5d92d0e0b6c5e}{read\+\_\+packet\+\_\+\+T\+C\+P\+\_\+secure\+\_\+connection} (\hyperlink{network_8h_ae5faf8a8d23da59c3e3025a62039d8c1}{sock\+\_\+t} \hyperlink{irc__syncbot_8c_a5903d0b282fc5eae503de618f896b5e1}{sock}, uint16\+\_\+t $\ast$next\+\_\+packet\+\_\+length, const uint8\+\_\+t $\ast$shared\+\_\+key, uint8\+\_\+t $\ast$recv\+\_\+nonce, uint8\+\_\+t $\ast$data, uint16\+\_\+t max\+\_\+len)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{_t_c_p__server_8h_a4ba8b32c7131d7bddb07be65aec9d4db}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!A\+R\+R\+A\+Y\+\_\+\+E\+N\+T\+R\+Y\+\_\+\+S\+I\+Z\+E@{A\+R\+R\+A\+Y\+\_\+\+E\+N\+T\+R\+Y\+\_\+\+S\+I\+Z\+E}}
\index{A\+R\+R\+A\+Y\+\_\+\+E\+N\+T\+R\+Y\+\_\+\+S\+I\+Z\+E@{A\+R\+R\+A\+Y\+\_\+\+E\+N\+T\+R\+Y\+\_\+\+S\+I\+Z\+E}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{A\+R\+R\+A\+Y\+\_\+\+E\+N\+T\+R\+Y\+\_\+\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+R\+R\+A\+Y\+\_\+\+E\+N\+T\+R\+Y\+\_\+\+S\+I\+Z\+E~6}}\label{_t_c_p__server_8h_a4ba8b32c7131d7bddb07be65aec9d4db}


Definition at line 63 of file T\+C\+P\+\_\+server.\+h.

\hypertarget{_t_c_p__server_8h_a2c62883bf7895f3582975a14ec316bef}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!M\+A\+X\+\_\+\+I\+N\+C\+O\+M\+M\+I\+N\+G\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S@{M\+A\+X\+\_\+\+I\+N\+C\+O\+M\+M\+I\+N\+G\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S}}
\index{M\+A\+X\+\_\+\+I\+N\+C\+O\+M\+M\+I\+N\+G\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S@{M\+A\+X\+\_\+\+I\+N\+C\+O\+M\+M\+I\+N\+G\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{M\+A\+X\+\_\+\+I\+N\+C\+O\+M\+M\+I\+N\+G\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+\_\+\+I\+N\+C\+O\+M\+M\+I\+N\+G\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S~256}}\label{_t_c_p__server_8h_a2c62883bf7895f3582975a14ec316bef}


Definition at line 38 of file T\+C\+P\+\_\+server.\+h.



Referenced by accept\+\_\+connection(), do\+\_\+incoming(), do\+\_\+\+T\+C\+P\+\_\+incomming(), and do\+\_\+\+T\+C\+P\+\_\+unconfirmed().

\hypertarget{_t_c_p__server_8h_a879456c3b8e2853f7044d764e9c180d4}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!M\+A\+X\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E@{M\+A\+X\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E}}
\index{M\+A\+X\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E@{M\+A\+X\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{M\+A\+X\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E~2048}}\label{_t_c_p__server_8h_a879456c3b8e2853f7044d764e9c180d4}


Definition at line 42 of file T\+C\+P\+\_\+server.\+h.



Referenced by do\+\_\+confirmed\+\_\+recv(), do\+\_\+confirmed\+\_\+\+T\+C\+P(), do\+\_\+unconfirmed(), proxy\+\_\+http\+\_\+generate\+\_\+connection\+\_\+request(), read\+\_\+\+T\+C\+P\+\_\+length(), and write\+\_\+packet\+\_\+\+T\+C\+P\+\_\+secure\+\_\+connection().

\hypertarget{_t_c_p__server_8h_aad3362495a10d80b0edac21c8f896ae1}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!N\+U\+M\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S@{N\+U\+M\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S}}
\index{N\+U\+M\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S@{N\+U\+M\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{N\+U\+M\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+U\+M\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S~(256 -\/ {\bf N\+U\+M\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D\+\_\+\+P\+O\+R\+T\+S})}}\label{_t_c_p__server_8h_aad3362495a10d80b0edac21c8f896ae1}


Definition at line 50 of file T\+C\+P\+\_\+server.\+h.



Referenced by handle\+\_\+\+T\+C\+P\+\_\+packet(), handle\+\_\+\+T\+C\+P\+\_\+routing\+\_\+req(), kill\+\_\+accepted(), rm\+\_\+connection\+\_\+index(), send\+\_\+data(), send\+\_\+disconnect\+\_\+request(), and set\+\_\+tcp\+\_\+connection\+\_\+number().

\hypertarget{_t_c_p__server_8h_a41d07eb7b13b1998b771080dfaef6b7b}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!N\+U\+M\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D\+\_\+\+P\+O\+R\+T\+S@{N\+U\+M\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D\+\_\+\+P\+O\+R\+T\+S}}
\index{N\+U\+M\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D\+\_\+\+P\+O\+R\+T\+S@{N\+U\+M\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D\+\_\+\+P\+O\+R\+T\+S}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{N\+U\+M\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D\+\_\+\+P\+O\+R\+T\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+U\+M\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D\+\_\+\+P\+O\+R\+T\+S~16}}\label{_t_c_p__server_8h_a41d07eb7b13b1998b771080dfaef6b7b}


Definition at line 49 of file T\+C\+P\+\_\+server.\+h.



Referenced by handle\+\_\+\+T\+C\+P\+\_\+packet(), handle\+\_\+\+T\+C\+P\+\_\+routing\+\_\+req(), send\+\_\+connect\+\_\+notification(), send\+\_\+data(), send\+\_\+disconnect\+\_\+notification(), and send\+\_\+disconnect\+\_\+request().

\hypertarget{_t_c_p__server_8h_aa5f4778a5c176dbd24018f61cc7524f7}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+S\+I\+Z\+E@{T\+C\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+S\+I\+Z\+E}}
\index{T\+C\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+S\+I\+Z\+E@{T\+C\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+S\+I\+Z\+E}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+S\+I\+Z\+E~(crypto\+\_\+box\+\_\+\+P\+U\+B\+L\+I\+C\+K\+E\+Y\+B\+Y\+T\+E\+S + {\bf T\+C\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+S\+I\+Z\+E})}}\label{_t_c_p__server_8h_aa5f4778a5c176dbd24018f61cc7524f7}


Definition at line 46 of file T\+C\+P\+\_\+server.\+h.



Referenced by handle\+\_\+\+T\+C\+P\+\_\+handshake(), new\+\_\+\+T\+C\+P\+\_\+con(), read\+\_\+connection\+\_\+handshake(), and S\+T\+A\+R\+T\+\_\+\+T\+E\+S\+T().

\hypertarget{_t_c_p__server_8h_a9b820bd1123c0fbdfd8391cce314b35b}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+P\+L\+A\+I\+N\+\_\+\+S\+I\+Z\+E@{T\+C\+P\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+P\+L\+A\+I\+N\+\_\+\+S\+I\+Z\+E}}
\index{T\+C\+P\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+P\+L\+A\+I\+N\+\_\+\+S\+I\+Z\+E@{T\+C\+P\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+P\+L\+A\+I\+N\+\_\+\+S\+I\+Z\+E}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+P\+L\+A\+I\+N\+\_\+\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+P\+L\+A\+I\+N\+\_\+\+S\+I\+Z\+E~(crypto\+\_\+box\+\_\+\+P\+U\+B\+L\+I\+C\+K\+E\+Y\+B\+Y\+T\+E\+S + crypto\+\_\+box\+\_\+\+N\+O\+N\+C\+E\+B\+Y\+T\+E\+S)}}\label{_t_c_p__server_8h_a9b820bd1123c0fbdfd8391cce314b35b}


Definition at line 44 of file T\+C\+P\+\_\+server.\+h.



Referenced by handle\+\_\+\+T\+C\+P\+\_\+handshake(), new\+\_\+\+T\+C\+P\+\_\+con(), and S\+T\+A\+R\+T\+\_\+\+T\+E\+S\+T().

\hypertarget{_t_c_p__server_8h_ae2850071db896a7e93afd4acc1bfd69b}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+M\+A\+X\+\_\+\+B\+A\+C\+K\+L\+O\+G@{T\+C\+P\+\_\+\+M\+A\+X\+\_\+\+B\+A\+C\+K\+L\+O\+G}}
\index{T\+C\+P\+\_\+\+M\+A\+X\+\_\+\+B\+A\+C\+K\+L\+O\+G@{T\+C\+P\+\_\+\+M\+A\+X\+\_\+\+B\+A\+C\+K\+L\+O\+G}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+M\+A\+X\+\_\+\+B\+A\+C\+K\+L\+O\+G}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+M\+A\+X\+\_\+\+B\+A\+C\+K\+L\+O\+G~{\bf M\+A\+X\+\_\+\+I\+N\+C\+O\+M\+M\+I\+N\+G\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S}}}\label{_t_c_p__server_8h_ae2850071db896a7e93afd4acc1bfd69b}


Definition at line 40 of file T\+C\+P\+\_\+server.\+h.



Referenced by new\+\_\+listening\+\_\+\+T\+C\+P\+\_\+socket().

\hypertarget{_t_c_p__server_8h_a9f050748925b02db21564fa5f6c78e4e}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+M\+A\+X\+\_\+\+O\+O\+B\+\_\+\+D\+A\+T\+A\+\_\+\+L\+E\+N\+G\+T\+H@{T\+C\+P\+\_\+\+M\+A\+X\+\_\+\+O\+O\+B\+\_\+\+D\+A\+T\+A\+\_\+\+L\+E\+N\+G\+T\+H}}
\index{T\+C\+P\+\_\+\+M\+A\+X\+\_\+\+O\+O\+B\+\_\+\+D\+A\+T\+A\+\_\+\+L\+E\+N\+G\+T\+H@{T\+C\+P\+\_\+\+M\+A\+X\+\_\+\+O\+O\+B\+\_\+\+D\+A\+T\+A\+\_\+\+L\+E\+N\+G\+T\+H}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+M\+A\+X\+\_\+\+O\+O\+B\+\_\+\+D\+A\+T\+A\+\_\+\+L\+E\+N\+G\+T\+H}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+M\+A\+X\+\_\+\+O\+O\+B\+\_\+\+D\+A\+T\+A\+\_\+\+L\+E\+N\+G\+T\+H~1024}}\label{_t_c_p__server_8h_a9f050748925b02db21564fa5f6c78e4e}


Definition at line 47 of file T\+C\+P\+\_\+server.\+h.



Referenced by handle\+\_\+\+T\+C\+P\+\_\+oob\+\_\+send(), and send\+\_\+oob\+\_\+packet().

\hypertarget{_t_c_p__server_8h_ae03ebbe7438d78a242e6970f35eb6dfa}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+O\+N@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+O\+N}}
\index{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+O\+N@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+O\+N}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+O\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+O\+N~2}}\label{_t_c_p__server_8h_ae03ebbe7438d78a242e6970f35eb6dfa}


Definition at line 54 of file T\+C\+P\+\_\+server.\+h.



Referenced by handle\+\_\+\+T\+C\+P\+\_\+packet(), and send\+\_\+connect\+\_\+notification().

\hypertarget{_t_c_p__server_8h_a65b6df680eaecb9563dfcc8c5fcfba3d}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+O\+N@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+O\+N}}
\index{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+O\+N@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+O\+N}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+O\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+\_\+\+N\+O\+T\+I\+F\+I\+C\+A\+T\+I\+O\+N~3}}\label{_t_c_p__server_8h_a65b6df680eaecb9563dfcc8c5fcfba3d}


Definition at line 55 of file T\+C\+P\+\_\+server.\+h.



Referenced by handle\+\_\+\+T\+C\+P\+\_\+packet(), and send\+\_\+disconnect\+\_\+notification().

\hypertarget{_t_c_p__server_8h_a879315f1b7234dad07a45d63a6d0aed5}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+N\+I\+O\+N\+\_\+\+R\+E\+Q\+U\+E\+S\+T@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+N\+I\+O\+N\+\_\+\+R\+E\+Q\+U\+E\+S\+T}}
\index{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+N\+I\+O\+N\+\_\+\+R\+E\+Q\+U\+E\+S\+T@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+N\+I\+O\+N\+\_\+\+R\+E\+Q\+U\+E\+S\+T}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+N\+I\+O\+N\+\_\+\+R\+E\+Q\+U\+E\+S\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+N\+I\+O\+N\+\_\+\+R\+E\+Q\+U\+E\+S\+T~8}}\label{_t_c_p__server_8h_a879315f1b7234dad07a45d63a6d0aed5}


Definition at line 60 of file T\+C\+P\+\_\+server.\+h.



Referenced by handle\+\_\+\+T\+C\+P\+\_\+packet(), and send\+\_\+onion\+\_\+request().

\hypertarget{_t_c_p__server_8h_acbe72759c701ff843abf6a80dafee7e8}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+N\+I\+O\+N\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+N\+I\+O\+N\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E}}
\index{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+N\+I\+O\+N\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+N\+I\+O\+N\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+N\+I\+O\+N\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+N\+I\+O\+N\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E~9}}\label{_t_c_p__server_8h_acbe72759c701ff843abf6a80dafee7e8}


Definition at line 61 of file T\+C\+P\+\_\+server.\+h.



Referenced by handle\+\_\+onion\+\_\+recv\+\_\+1(), and handle\+\_\+\+T\+C\+P\+\_\+packet().

\hypertarget{_t_c_p__server_8h_a6d824009f914ddf664d60adf6695189c}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+O\+B\+\_\+\+R\+E\+C\+V@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+O\+B\+\_\+\+R\+E\+C\+V}}
\index{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+O\+B\+\_\+\+R\+E\+C\+V@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+O\+B\+\_\+\+R\+E\+C\+V}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+O\+B\+\_\+\+R\+E\+C\+V}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+O\+B\+\_\+\+R\+E\+C\+V~7}}\label{_t_c_p__server_8h_a6d824009f914ddf664d60adf6695189c}


Definition at line 59 of file T\+C\+P\+\_\+server.\+h.



Referenced by handle\+\_\+\+T\+C\+P\+\_\+oob\+\_\+send(), and handle\+\_\+\+T\+C\+P\+\_\+packet().

\hypertarget{_t_c_p__server_8h_a5961d2c3587485c79194c5479a8b0973}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+O\+B\+\_\+\+S\+E\+N\+D@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+O\+B\+\_\+\+S\+E\+N\+D}}
\index{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+O\+B\+\_\+\+S\+E\+N\+D@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+O\+B\+\_\+\+S\+E\+N\+D}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+O\+B\+\_\+\+S\+E\+N\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+O\+O\+B\+\_\+\+S\+E\+N\+D~6}}\label{_t_c_p__server_8h_a5961d2c3587485c79194c5479a8b0973}


Definition at line 58 of file T\+C\+P\+\_\+server.\+h.



Referenced by handle\+\_\+\+T\+C\+P\+\_\+packet(), and send\+\_\+oob\+\_\+packet().

\hypertarget{_t_c_p__server_8h_aa1328be3bbb33d8e47490408376c3553}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+P\+I\+N\+G@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+P\+I\+N\+G}}
\index{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+P\+I\+N\+G@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+P\+I\+N\+G}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+P\+I\+N\+G}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+P\+I\+N\+G~4}}\label{_t_c_p__server_8h_aa1328be3bbb33d8e47490408376c3553}


Definition at line 56 of file T\+C\+P\+\_\+server.\+h.



Referenced by do\+\_\+\+T\+C\+P\+\_\+confirmed(), handle\+\_\+\+T\+C\+P\+\_\+packet(), and send\+\_\+ping\+\_\+request().

\hypertarget{_t_c_p__server_8h_a783819134f7296fb82cfc3149f6fbb62}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+P\+O\+N\+G@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+P\+O\+N\+G}}
\index{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+P\+O\+N\+G@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+P\+O\+N\+G}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+P\+O\+N\+G}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+P\+O\+N\+G~5}}\label{_t_c_p__server_8h_a783819134f7296fb82cfc3149f6fbb62}


Definition at line 57 of file T\+C\+P\+\_\+server.\+h.



Referenced by handle\+\_\+\+T\+C\+P\+\_\+packet(), and send\+\_\+ping\+\_\+response().

\hypertarget{_t_c_p__server_8h_a808af5b9484311a39abb96dac1ecd426}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+R\+O\+U\+T\+I\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+R\+O\+U\+T\+I\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T}}
\index{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+R\+O\+U\+T\+I\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+R\+O\+U\+T\+I\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+R\+O\+U\+T\+I\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+R\+O\+U\+T\+I\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T~0}}\label{_t_c_p__server_8h_a808af5b9484311a39abb96dac1ecd426}


Definition at line 52 of file T\+C\+P\+\_\+server.\+h.



Referenced by handle\+\_\+\+T\+C\+P\+\_\+packet(), and send\+\_\+routing\+\_\+request().

\hypertarget{_t_c_p__server_8h_ad288b46b857552d69e64135b3a329d83}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+R\+O\+U\+T\+I\+N\+G\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+R\+O\+U\+T\+I\+N\+G\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E}}
\index{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+R\+O\+U\+T\+I\+N\+G\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E@{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+R\+O\+U\+T\+I\+N\+G\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+R\+O\+U\+T\+I\+N\+G\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+R\+O\+U\+T\+I\+N\+G\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E~1}}\label{_t_c_p__server_8h_ad288b46b857552d69e64135b3a329d83}


Definition at line 53 of file T\+C\+P\+\_\+server.\+h.



Referenced by handle\+\_\+\+T\+C\+P\+\_\+packet(), and send\+\_\+routing\+\_\+response().

\hypertarget{_t_c_p__server_8h_a779366bdff0863c4e36c9313b25fcb29}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+P\+I\+N\+G\+\_\+\+F\+R\+E\+Q\+U\+E\+N\+C\+Y@{T\+C\+P\+\_\+\+P\+I\+N\+G\+\_\+\+F\+R\+E\+Q\+U\+E\+N\+C\+Y}}
\index{T\+C\+P\+\_\+\+P\+I\+N\+G\+\_\+\+F\+R\+E\+Q\+U\+E\+N\+C\+Y@{T\+C\+P\+\_\+\+P\+I\+N\+G\+\_\+\+F\+R\+E\+Q\+U\+E\+N\+C\+Y}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+P\+I\+N\+G\+\_\+\+F\+R\+E\+Q\+U\+E\+N\+C\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+P\+I\+N\+G\+\_\+\+F\+R\+E\+Q\+U\+E\+N\+C\+Y~30}}\label{_t_c_p__server_8h_a779366bdff0863c4e36c9313b25fcb29}


Definition at line 66 of file T\+C\+P\+\_\+server.\+h.



Referenced by do\+\_\+confirmed\+\_\+\+T\+C\+P(), and do\+\_\+\+T\+C\+P\+\_\+confirmed().

\hypertarget{_t_c_p__server_8h_a09b714899296b82866bab0a4d294c917}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+P\+I\+N\+G\+\_\+\+T\+I\+M\+E\+O\+U\+T@{T\+C\+P\+\_\+\+P\+I\+N\+G\+\_\+\+T\+I\+M\+E\+O\+U\+T}}
\index{T\+C\+P\+\_\+\+P\+I\+N\+G\+\_\+\+T\+I\+M\+E\+O\+U\+T@{T\+C\+P\+\_\+\+P\+I\+N\+G\+\_\+\+T\+I\+M\+E\+O\+U\+T}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+P\+I\+N\+G\+\_\+\+T\+I\+M\+E\+O\+U\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+P\+I\+N\+G\+\_\+\+T\+I\+M\+E\+O\+U\+T~10}}\label{_t_c_p__server_8h_a09b714899296b82866bab0a4d294c917}


Definition at line 67 of file T\+C\+P\+\_\+server.\+h.



Referenced by do\+\_\+confirmed\+\_\+\+T\+C\+P(), and do\+\_\+\+T\+C\+P\+\_\+confirmed().

\hypertarget{_t_c_p__server_8h_a88a61b02e465cd8c05fbae1def1066f2}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+S\+I\+Z\+E@{T\+C\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+S\+I\+Z\+E}}
\index{T\+C\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+S\+I\+Z\+E@{T\+C\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+S\+I\+Z\+E}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+P\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+S\+I\+Z\+E~(crypto\+\_\+box\+\_\+\+N\+O\+N\+C\+E\+B\+Y\+T\+E\+S + {\bf T\+C\+P\+\_\+\+H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+P\+L\+A\+I\+N\+\_\+\+S\+I\+Z\+E} + crypto\+\_\+box\+\_\+\+M\+A\+C\+B\+Y\+T\+E\+S)}}\label{_t_c_p__server_8h_a88a61b02e465cd8c05fbae1def1066f2}


Definition at line 45 of file T\+C\+P\+\_\+server.\+h.



Referenced by do\+\_\+\+T\+C\+P\+\_\+connection(), handle\+\_\+handshake(), handle\+\_\+\+T\+C\+P\+\_\+handshake(), new\+\_\+\+T\+C\+P\+\_\+con(), and S\+T\+A\+R\+T\+\_\+\+T\+E\+S\+T().



\subsection{Typedef Documentation}
\hypertarget{_t_c_p__server_8h_a5750799a61dd1a6dc6930e5aa25ce653}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+Priority\+\_\+\+List@{T\+C\+P\+\_\+\+Priority\+\_\+\+List}}
\index{T\+C\+P\+\_\+\+Priority\+\_\+\+List@{T\+C\+P\+\_\+\+Priority\+\_\+\+List}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+Priority\+\_\+\+List}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf T\+C\+P\+\_\+\+Priority\+\_\+\+List} {\bf T\+C\+P\+\_\+\+Priority\+\_\+\+List}}}\label{_t_c_p__server_8h_a5750799a61dd1a6dc6930e5aa25ce653}


Definition at line 83 of file T\+C\+P\+\_\+server.\+h.

\hypertarget{_t_c_p__server_8h_aa22e20d6aa67ad907ef4ae8334e5091b}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+Secure\+\_\+\+Connection@{T\+C\+P\+\_\+\+Secure\+\_\+\+Connection}}
\index{T\+C\+P\+\_\+\+Secure\+\_\+\+Connection@{T\+C\+P\+\_\+\+Secure\+\_\+\+Connection}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+\+Secure\+\_\+\+Connection}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf T\+C\+P\+\_\+\+Secure\+\_\+\+Connection}  {\bf T\+C\+P\+\_\+\+Secure\+\_\+\+Connection}}}\label{_t_c_p__server_8h_aa22e20d6aa67ad907ef4ae8334e5091b}


\subsection{Enumeration Type Documentation}
\hypertarget{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181f}{\subsubsection[{anonymous enum}]{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}}\label{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181f}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+N\+O\+\_\+\+S\+T\+A\+T\+U\+S@{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+N\+O\+\_\+\+S\+T\+A\+T\+U\+S}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+N\+O\+\_\+\+S\+T\+A\+T\+U\+S@{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+N\+O\+\_\+\+S\+T\+A\+T\+U\+S}}\item[{\em 
\hypertarget{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181fa20692881561141ef7621446ae15f78bc}{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+N\+O\+\_\+\+S\+T\+A\+T\+U\+S}\label{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181fa20692881561141ef7621446ae15f78bc}
}]\index{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+E\+D@{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+E\+D}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+E\+D@{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+E\+D}}\item[{\em 
\hypertarget{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181fab5e948cd81931f0c7e6a827e90c24616}{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+E\+D}\label{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181fab5e948cd81931f0c7e6a827e90c24616}
}]\index{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+C\+O\+N\+F\+I\+R\+M\+E\+D@{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+C\+O\+N\+F\+I\+R\+M\+E\+D}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+C\+O\+N\+F\+I\+R\+M\+E\+D@{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+C\+O\+N\+F\+I\+R\+M\+E\+D}}\item[{\em 
\hypertarget{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181fa17e64dcb5cb3bb08704b328ff40c8138}{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+C\+O\+N\+F\+I\+R\+M\+E\+D}\label{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181fa17e64dcb5cb3bb08704b328ff40c8138}
}]\index{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+F\+I\+R\+M\+E\+D@{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+F\+I\+R\+M\+E\+D}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+F\+I\+R\+M\+E\+D@{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+F\+I\+R\+M\+E\+D}}\item[{\em 
\hypertarget{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181fa42e6e74e5c62734eb1386045e159a601}{T\+C\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+F\+I\+R\+M\+E\+D}\label{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181fa42e6e74e5c62734eb1386045e159a601}
}]\end{description}
\end{Desc}


Definition at line 76 of file T\+C\+P\+\_\+server.\+h.


\begin{DoxyCode}
76      \{
77     \hyperlink{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181fa20692881561141ef7621446ae15f78bc}{TCP\_STATUS\_NO\_STATUS},
78     \hyperlink{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181fab5e948cd81931f0c7e6a827e90c24616}{TCP\_STATUS\_CONNECTED},
79     \hyperlink{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181fa17e64dcb5cb3bb08704b328ff40c8138}{TCP\_STATUS\_UNCONFIRMED},
80     \hyperlink{_t_c_p__server_8h_a5d76b81b0ad4c19007a781d4edb8181fa42e6e74e5c62734eb1386045e159a601}{TCP\_STATUS\_CONFIRMED},
81 \};
\end{DoxyCode}


\subsection{Function Documentation}
\hypertarget{_t_c_p__server_8h_a40e8a0302a359dd4f712eb1e9c346fe5}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!do\+\_\+\+T\+C\+P\+\_\+server@{do\+\_\+\+T\+C\+P\+\_\+server}}
\index{do\+\_\+\+T\+C\+P\+\_\+server@{do\+\_\+\+T\+C\+P\+\_\+server}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{do\+\_\+\+T\+C\+P\+\_\+server}]{\setlength{\rightskip}{0pt plus 5cm}void do\+\_\+\+T\+C\+P\+\_\+server (
\begin{DoxyParamCaption}
\item[{{\bf T\+C\+P\+\_\+\+Server} $\ast$}]{T\+C\+P\+\_\+server}
\end{DoxyParamCaption}
)}}\label{_t_c_p__server_8h_a40e8a0302a359dd4f712eb1e9c346fe5}


Definition at line 1305 of file T\+C\+P\+\_\+server.\+c.



References do\+\_\+\+T\+C\+P\+\_\+accept\+\_\+new(), do\+\_\+\+T\+C\+P\+\_\+confirmed(), do\+\_\+\+T\+C\+P\+\_\+incomming(), do\+\_\+\+T\+C\+P\+\_\+unconfirmed(), and unix\+\_\+time\+\_\+update().



Referenced by do\+\_\+messenger(), main(), new\+\_\+\+T\+C\+P\+\_\+con(), and S\+T\+A\+R\+T\+\_\+\+T\+E\+S\+T().


\begin{DoxyCode}
1306 \{
1307     \hyperlink{util_8c_a849af10dd491723cf3abdef599846897}{unix\_time\_update}();
1308 
1309 \textcolor{preprocessor}{#ifdef TCP\_SERVER\_USE\_EPOLL}
1310     do\_TCP\_epoll(TCP\_server);
1311 
1312 \textcolor{preprocessor}{#else}
1313     \hyperlink{_t_c_p__server_8c_a8bcfa0b79de4e0fad8720af7d1ed1d70}{do\_TCP\_accept\_new}(TCP\_server);
1314     \hyperlink{_t_c_p__server_8c_affc332b8c3280bd44fa933413d678796}{do\_TCP\_incomming}(TCP\_server);
1315     \hyperlink{_t_c_p__server_8c_aed90b296bcb98bcb905565ae68548c9a}{do\_TCP\_unconfirmed}(TCP\_server);
1316 \textcolor{preprocessor}{#endif}
1317 
1318     \hyperlink{_t_c_p__server_8c_a001f38d27860442b6fe9fe7dd030a7a0}{do\_TCP\_confirmed}(TCP\_server);
1319 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d03/_t_c_p__server_8h_a40e8a0302a359dd4f712eb1e9c346fe5_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d03/_t_c_p__server_8h_a40e8a0302a359dd4f712eb1e9c346fe5_icgraph}
\end{center}
\end{figure}


\hypertarget{_t_c_p__server_8h_af6df6382ad309456dcf5b7b350313714}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!kill\+\_\+\+T\+C\+P\+\_\+server@{kill\+\_\+\+T\+C\+P\+\_\+server}}
\index{kill\+\_\+\+T\+C\+P\+\_\+server@{kill\+\_\+\+T\+C\+P\+\_\+server}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{kill\+\_\+\+T\+C\+P\+\_\+server}]{\setlength{\rightskip}{0pt plus 5cm}void kill\+\_\+\+T\+C\+P\+\_\+server (
\begin{DoxyParamCaption}
\item[{{\bf T\+C\+P\+\_\+\+Server} $\ast$}]{T\+C\+P\+\_\+server}
\end{DoxyParamCaption}
)}}\label{_t_c_p__server_8h_af6df6382ad309456dcf5b7b350313714}


Definition at line 1321 of file T\+C\+P\+\_\+server.\+c.



References T\+C\+P\+\_\+\+Server\+::accepted\+\_\+connection\+\_\+array, T\+C\+P\+\_\+\+Server\+::accepted\+\_\+key\+\_\+list, bs\+\_\+list\+\_\+free(), i, kill\+\_\+sock(), T\+C\+P\+\_\+\+Server\+::num\+\_\+listening\+\_\+socks, T\+C\+P\+\_\+\+Server\+::onion, set\+\_\+callback\+\_\+handle\+\_\+recv\+\_\+1(), and T\+C\+P\+\_\+\+Server\+::socks\+\_\+listening.



Referenced by kill\+\_\+messenger(), and S\+T\+A\+R\+T\+\_\+\+T\+E\+S\+T().


\begin{DoxyCode}
1322 \{
1323     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
1324 
1325     \textcolor{keywordflow}{for} (i = 0; i < TCP\_server->\hyperlink{struct_t_c_p___server_a5efc50bc21a4b488b17bb593b2758718}{num\_listening\_socks}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
1326         \hyperlink{network_8c_a512d8ea12392ba9ddfadd83bb7c92b2e}{kill\_sock}(TCP\_server->\hyperlink{struct_t_c_p___server_a120d7e1abddb3a838bc0d0442f4ad8e6}{socks\_listening}[i]);
1327     \}
1328 
1329     \textcolor{keywordflow}{if} (TCP\_server->\hyperlink{struct_t_c_p___server_a66fb4bf67c711a5ed3e7bbecec7fde30}{onion}) \{
1330         \hyperlink{onion_8c_ae1b8e562e22bd28deca3f98dace1a421}{set\_callback\_handle\_recv\_1}(TCP\_server->\hyperlink{struct_t_c_p___server_a66fb4bf67c711a5ed3e7bbecec7fde30}{onion}, NULL, NULL);
1331     \}
1332 
1333     \hyperlink{list_8c_a20f4503183113923cd946fc04bf8f2b4}{bs\_list\_free}(&TCP\_server->\hyperlink{struct_t_c_p___server_ae01209a4897757539a5ff199cdcfb64c}{accepted\_key\_list});
1334 
1335 \textcolor{preprocessor}{#ifdef TCP\_SERVER\_USE\_EPOLL}
1336     close(TCP\_server->efd);
1337 \textcolor{preprocessor}{#endif}
1338 
1339     free(TCP\_server->\hyperlink{struct_t_c_p___server_a120d7e1abddb3a838bc0d0442f4ad8e6}{socks\_listening});
1340     free(TCP\_server->\hyperlink{struct_t_c_p___server_aaec24f8b80a7853d1b7da87e903c44ee}{accepted\_connection\_array});
1341     free(TCP\_server);
1342 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=307pt]{d6/d03/_t_c_p__server_8h_af6df6382ad309456dcf5b7b350313714_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d03/_t_c_p__server_8h_af6df6382ad309456dcf5b7b350313714_icgraph}
\end{center}
\end{figure}


\hypertarget{_t_c_p__server_8h_a148e632f4c51645cbc1b414bc3584b60}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!new\+\_\+\+T\+C\+P\+\_\+server@{new\+\_\+\+T\+C\+P\+\_\+server}}
\index{new\+\_\+\+T\+C\+P\+\_\+server@{new\+\_\+\+T\+C\+P\+\_\+server}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{new\+\_\+\+T\+C\+P\+\_\+server}]{\setlength{\rightskip}{0pt plus 5cm}{\bf T\+C\+P\+\_\+\+Server}$\ast$ new\+\_\+\+T\+C\+P\+\_\+server (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{ipv6\+\_\+enabled, }
\item[{uint16\+\_\+t}]{num\+\_\+sockets, }
\item[{const uint16\+\_\+t $\ast$}]{ports, }
\item[{const uint8\+\_\+t $\ast$}]{secret\+\_\+key, }
\item[{{\bf Onion} $\ast$}]{onion}
\end{DoxyParamCaption}
)}}\label{_t_c_p__server_8h_a148e632f4c51645cbc1b414bc3584b60}


Definition at line 942 of file T\+C\+P\+\_\+server.\+c.



References T\+C\+P\+\_\+\+Server\+::accepted\+\_\+key\+\_\+list, bs\+\_\+list\+\_\+init(), handle\+\_\+onion\+\_\+recv\+\_\+1(), i, networking\+\_\+at\+\_\+startup(), new\+\_\+listening\+\_\+\+T\+C\+P\+\_\+socket(), T\+C\+P\+\_\+\+Server\+::num\+\_\+listening\+\_\+socks, T\+C\+P\+\_\+\+Server\+::onion, T\+C\+P\+\_\+\+Server\+::public\+\_\+key, T\+C\+P\+\_\+\+Server\+::secret\+\_\+key, set\+\_\+callback\+\_\+handle\+\_\+recv\+\_\+1(), sock, sock\+\_\+valid(), and T\+C\+P\+\_\+\+Server\+::socks\+\_\+listening.



Referenced by main(), new\+\_\+messenger(), and S\+T\+A\+R\+T\+\_\+\+T\+E\+S\+T().


\begin{DoxyCode}
944 \{
945     \textcolor{keywordflow}{if} (num\_sockets == 0 || \hyperlink{_t_c_p__test_8c_a04e5444bf6a826487066ba973577f674}{ports} == NULL)
946         \textcolor{keywordflow}{return} NULL;
947 
948     \textcolor{keywordflow}{if} (\hyperlink{network_8c_ad953dedd6d25d03cf441960dd1e1fed1}{networking\_at\_startup}() != 0) \{
949         \textcolor{keywordflow}{return} NULL;
950     \}
951 
952     \hyperlink{struct_t_c_p___server}{TCP\_Server} *temp = calloc(1, \textcolor{keyword}{sizeof}(\hyperlink{struct_t_c_p___server}{TCP\_Server}));
953 
954     \textcolor{keywordflow}{if} (temp == NULL)
955         \textcolor{keywordflow}{return} NULL;
956 
957     temp->\hyperlink{struct_t_c_p___server_a120d7e1abddb3a838bc0d0442f4ad8e6}{socks\_listening} = calloc(num\_sockets, \textcolor{keyword}{sizeof}(\hyperlink{network_8h_ae5faf8a8d23da59c3e3025a62039d8c1}{sock\_t}));
958 
959     \textcolor{keywordflow}{if} (temp->\hyperlink{struct_t_c_p___server_a120d7e1abddb3a838bc0d0442f4ad8e6}{socks\_listening} == NULL) \{
960         free(temp);
961         \textcolor{keywordflow}{return} NULL;
962     \}
963 
964 \textcolor{preprocessor}{#ifdef TCP\_SERVER\_USE\_EPOLL}
965     temp->efd = epoll\_create(8);
966 
967     \textcolor{keywordflow}{if} (temp->efd == -1) \{
968         free(temp->\hyperlink{struct_t_c_p___server_a120d7e1abddb3a838bc0d0442f4ad8e6}{socks\_listening});
969         free(temp);
970         \textcolor{keywordflow}{return} NULL;
971     \}
972 
973 \textcolor{preprocessor}{#endif}
974 
975     uint8\_t family;
976 
977     \textcolor{keywordflow}{if} (ipv6\_enabled) \{
978         family = AF\_INET6;
979     \} \textcolor{keywordflow}{else} \{
980         family = AF\_INET;
981     \}
982 
983     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
984 \textcolor{preprocessor}{#ifdef TCP\_SERVER\_USE\_EPOLL}
985     \textcolor{keyword}{struct }epoll\_event ev;
986 \textcolor{preprocessor}{#endif}
987 
988     \textcolor{keywordflow}{for} (i = 0; i < num\_sockets; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
989         \hyperlink{network_8h_ae5faf8a8d23da59c3e3025a62039d8c1}{sock\_t} \hyperlink{irc__syncbot_8c_a5903d0b282fc5eae503de618f896b5e1}{sock} = \hyperlink{_t_c_p__server_8c_aa6d558b4e988007697894aff27271927}{new\_listening\_TCP\_socket}(family, 
      \hyperlink{_t_c_p__test_8c_a04e5444bf6a826487066ba973577f674}{ports}[i]);
990 
991         \textcolor{keywordflow}{if} (\hyperlink{network_8c_a84c3240a3325cbdaaa8a206c96980cd1}{sock\_valid}(sock)) \{
992 \textcolor{preprocessor}{#ifdef TCP\_SERVER\_USE\_EPOLL}
993             ev.events = EPOLLIN | EPOLLET;
994             ev.data.u64 = sock | ((uint64\_t)TCP\_SOCKET\_LISTENING << 32);
995 
996             \textcolor{keywordflow}{if} (epoll\_ctl(temp->efd, EPOLL\_CTL\_ADD, sock, &ev) == -1) \{
997                 \textcolor{keywordflow}{continue};
998             \}
999 
1000 \textcolor{preprocessor}{#endif}
1001 
1002             temp->\hyperlink{struct_t_c_p___server_a120d7e1abddb3a838bc0d0442f4ad8e6}{socks\_listening}[temp->\hyperlink{struct_t_c_p___server_a5efc50bc21a4b488b17bb593b2758718}{num\_listening\_socks}] = 
      \hyperlink{irc__syncbot_8c_a5903d0b282fc5eae503de618f896b5e1}{sock};
1003             ++temp->\hyperlink{struct_t_c_p___server_a5efc50bc21a4b488b17bb593b2758718}{num\_listening\_socks};
1004         \}
1005     \}
1006 
1007     \textcolor{keywordflow}{if} (temp->\hyperlink{struct_t_c_p___server_a5efc50bc21a4b488b17bb593b2758718}{num\_listening\_socks} == 0) \{
1008         free(temp->\hyperlink{struct_t_c_p___server_a120d7e1abddb3a838bc0d0442f4ad8e6}{socks\_listening});
1009         free(temp);
1010         \textcolor{keywordflow}{return} NULL;
1011     \}
1012 
1013     \textcolor{keywordflow}{if} (onion) \{
1014         temp->\hyperlink{struct_t_c_p___server_a66fb4bf67c711a5ed3e7bbecec7fde30}{onion} = onion;
1015         \hyperlink{onion_8c_ae1b8e562e22bd28deca3f98dace1a421}{set\_callback\_handle\_recv\_1}(onion, &
      \hyperlink{_t_c_p__server_8c_aaee6d8849ed25c44203b345808d79bed}{handle\_onion\_recv\_1}, temp);
1016     \}
1017 
1018     memcpy(temp->\hyperlink{struct_t_c_p___server_a41928223d6ad8bd41837f371deef62ae}{secret\_key}, secret\_key, crypto\_box\_SECRETKEYBYTES);
1019     crypto\_scalarmult\_curve25519\_base(temp->\hyperlink{struct_t_c_p___server_aaa806bb1136fb3d4b5d8d8970b596ff7}{public\_key}, temp->
      \hyperlink{struct_t_c_p___server_a41928223d6ad8bd41837f371deef62ae}{secret\_key});
1020 
1021     \hyperlink{list_8c_a7b07772cffb6af34e279f424dca08895}{bs\_list\_init}(&temp->\hyperlink{struct_t_c_p___server_ae01209a4897757539a5ff199cdcfb64c}{accepted\_key\_list}, crypto\_box\_PUBLICKEYBYTES, 8);
1022 
1023     \textcolor{keywordflow}{return} temp;
1024 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d03/_t_c_p__server_8h_a148e632f4c51645cbc1b414bc3584b60_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d03/_t_c_p__server_8h_a148e632f4c51645cbc1b414bc3584b60_icgraph}
\end{center}
\end{figure}


\hypertarget{_t_c_p__server_8h_a2acbecbd76fe539293b5d92d0e0b6c5e}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!read\+\_\+packet\+\_\+\+T\+C\+P\+\_\+secure\+\_\+connection@{read\+\_\+packet\+\_\+\+T\+C\+P\+\_\+secure\+\_\+connection}}
\index{read\+\_\+packet\+\_\+\+T\+C\+P\+\_\+secure\+\_\+connection@{read\+\_\+packet\+\_\+\+T\+C\+P\+\_\+secure\+\_\+connection}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{read\+\_\+packet\+\_\+\+T\+C\+P\+\_\+secure\+\_\+connection}]{\setlength{\rightskip}{0pt plus 5cm}int read\+\_\+packet\+\_\+\+T\+C\+P\+\_\+secure\+\_\+connection (
\begin{DoxyParamCaption}
\item[{{\bf sock\+\_\+t}}]{sock, }
\item[{uint16\+\_\+t $\ast$}]{next\+\_\+packet\+\_\+length, }
\item[{const uint8\+\_\+t $\ast$}]{shared\+\_\+key, }
\item[{uint8\+\_\+t $\ast$}]{recv\+\_\+nonce, }
\item[{uint8\+\_\+t $\ast$}]{data, }
\item[{uint16\+\_\+t}]{max\+\_\+len}
\end{DoxyParamCaption}
)}}\label{_t_c_p__server_8h_a2acbecbd76fe539293b5d92d0e0b6c5e}


Definition at line 256 of file T\+C\+P\+\_\+server.\+c.



References decrypt\+\_\+data\+\_\+symmetric(), increment\+\_\+nonce(), read\+\_\+\+T\+C\+P\+\_\+length(), and read\+\_\+\+T\+C\+P\+\_\+packet().



Referenced by do\+\_\+confirmed\+\_\+recv(), do\+\_\+confirmed\+\_\+\+T\+C\+P(), and do\+\_\+unconfirmed().


\begin{DoxyCode}
258 \{
259     \textcolor{keywordflow}{if} (*next\_packet\_length == 0) \{
260         uint16\_t len = \hyperlink{_t_c_p__server_8c_a984a0b6fc27b03e09170579ec9494093}{read\_TCP\_length}(\hyperlink{irc__syncbot_8c_a5903d0b282fc5eae503de618f896b5e1}{sock});
261 
262         \textcolor{keywordflow}{if} (len == (uint16\_t)~0)
263             \textcolor{keywordflow}{return} -1;
264 
265         \textcolor{keywordflow}{if} (len == 0)
266             \textcolor{keywordflow}{return} 0;
267 
268         *next\_packet\_length = len;
269     \}
270 
271     \textcolor{keywordflow}{if} (max\_len + crypto\_box\_MACBYTES < *next\_packet\_length)
272         \textcolor{keywordflow}{return} -1;
273 
274     uint8\_t data\_encrypted[*next\_packet\_length];
275     \textcolor{keywordtype}{int} len\_packet = \hyperlink{_t_c_p__server_8c_a88eda37b476d8dcfdba94899e740dd9e}{read\_TCP\_packet}(\hyperlink{irc__syncbot_8c_a5903d0b282fc5eae503de618f896b5e1}{sock}, data\_encrypted, *next\_packet\_length);
276 
277     \textcolor{keywordflow}{if} (len\_packet != *next\_packet\_length)
278         \textcolor{keywordflow}{return} 0;
279 
280     *next\_packet\_length = 0;
281 
282     \textcolor{keywordtype}{int} len = \hyperlink{crypto__core_8c_a824b257fcff74b9d17c5247223fbed29}{decrypt\_data\_symmetric}(shared\_key, recv\_nonce, data\_encrypted, 
      len\_packet, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data});
283 
284     \textcolor{keywordflow}{if} (len + crypto\_box\_MACBYTES != len\_packet)
285         \textcolor{keywordflow}{return} -1;
286 
287     \hyperlink{crypto__core_8c_ab953f1e92b8a9a193f69f02323b9c980}{increment\_nonce}(recv\_nonce);
288 
289     \textcolor{keywordflow}{return} len;
290 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d03/_t_c_p__server_8h_a2acbecbd76fe539293b5d92d0e0b6c5e_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d03/_t_c_p__server_8h_a2acbecbd76fe539293b5d92d0e0b6c5e_icgraph}
\end{center}
\end{figure}


\hypertarget{_t_c_p__server_8h_a984a0b6fc27b03e09170579ec9494093}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!read\+\_\+\+T\+C\+P\+\_\+length@{read\+\_\+\+T\+C\+P\+\_\+length}}
\index{read\+\_\+\+T\+C\+P\+\_\+length@{read\+\_\+\+T\+C\+P\+\_\+length}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{read\+\_\+\+T\+C\+P\+\_\+length}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t read\+\_\+\+T\+C\+P\+\_\+length (
\begin{DoxyParamCaption}
\item[{{\bf sock\+\_\+t}}]{sock}
\end{DoxyParamCaption}
)}}\label{_t_c_p__server_8h_a984a0b6fc27b03e09170579ec9494093}


Definition at line 204 of file T\+C\+P\+\_\+server.\+c.



References M\+A\+X\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E, and T\+C\+P\+\_\+socket\+\_\+data\+\_\+recv\+\_\+buffer().



Referenced by read\+\_\+packet\+\_\+\+T\+C\+P\+\_\+secure\+\_\+connection().


\begin{DoxyCode}
205 \{
206     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} count = \hyperlink{_t_c_p__server_8c_ae80fe7119d00d2a7788c0839a90e0782}{TCP\_socket\_data\_recv\_buffer}(
      \hyperlink{irc__syncbot_8c_a5903d0b282fc5eae503de618f896b5e1}{sock});
207 
208     \textcolor{keywordflow}{if} (count >= \textcolor{keyword}{sizeof}(uint16\_t)) \{
209         uint16\_t length;
210         \textcolor{keywordtype}{int} len = recv(\hyperlink{irc__syncbot_8c_a5903d0b282fc5eae503de618f896b5e1}{sock}, (uint8\_t *)&length, \textcolor{keyword}{sizeof}(uint16\_t), MSG\_NOSIGNAL);
211 
212         \textcolor{keywordflow}{if} (len != \textcolor{keyword}{sizeof}(uint16\_t)) \{
213             fprintf(stderr, \textcolor{stringliteral}{"FAIL recv packet\(\backslash\)n"});
214             \textcolor{keywordflow}{return} 0;
215         \}
216 
217         length = ntohs(length);
218 
219         \textcolor{keywordflow}{if} (length > \hyperlink{_t_c_p__server_8h_a879456c3b8e2853f7044d764e9c180d4}{MAX\_PACKET\_SIZE}) \{
220             \textcolor{keywordflow}{return} ~0;
221         \}
222 
223         \textcolor{keywordflow}{return} length;
224     \}
225 
226     \textcolor{keywordflow}{return} 0;
227 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=327pt]{d6/d03/_t_c_p__server_8h_a984a0b6fc27b03e09170579ec9494093_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d03/_t_c_p__server_8h_a984a0b6fc27b03e09170579ec9494093_icgraph}
\end{center}
\end{figure}


\hypertarget{_t_c_p__server_8h_a88eda37b476d8dcfdba94899e740dd9e}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!read\+\_\+\+T\+C\+P\+\_\+packet@{read\+\_\+\+T\+C\+P\+\_\+packet}}
\index{read\+\_\+\+T\+C\+P\+\_\+packet@{read\+\_\+\+T\+C\+P\+\_\+packet}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{read\+\_\+\+T\+C\+P\+\_\+packet}]{\setlength{\rightskip}{0pt plus 5cm}int read\+\_\+\+T\+C\+P\+\_\+packet (
\begin{DoxyParamCaption}
\item[{{\bf sock\+\_\+t}}]{sock, }
\item[{uint8\+\_\+t $\ast$}]{data, }
\item[{uint16\+\_\+t}]{length}
\end{DoxyParamCaption}
)}}\label{_t_c_p__server_8h_a88eda37b476d8dcfdba94899e740dd9e}


Definition at line 234 of file T\+C\+P\+\_\+server.\+c.



References T\+C\+P\+\_\+socket\+\_\+data\+\_\+recv\+\_\+buffer().



Referenced by do\+\_\+\+T\+C\+P\+\_\+connection(), proxy\+\_\+http\+\_\+read\+\_\+connection\+\_\+response(), proxy\+\_\+socks5\+\_\+read\+\_\+connection\+\_\+response(), read\+\_\+connection\+\_\+handshake(), read\+\_\+packet\+\_\+\+T\+C\+P\+\_\+secure\+\_\+connection(), and socks5\+\_\+read\+\_\+handshake\+\_\+response().


\begin{DoxyCode}
235 \{
236     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} count = \hyperlink{_t_c_p__server_8c_ae80fe7119d00d2a7788c0839a90e0782}{TCP\_socket\_data\_recv\_buffer}(
      \hyperlink{irc__syncbot_8c_a5903d0b282fc5eae503de618f896b5e1}{sock});
237 
238     \textcolor{keywordflow}{if} (count >= length) \{
239         \textcolor{keywordtype}{int} len = recv(\hyperlink{irc__syncbot_8c_a5903d0b282fc5eae503de618f896b5e1}{sock}, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}, length, MSG\_NOSIGNAL);
240 
241         \textcolor{keywordflow}{if} (len != length) \{
242             fprintf(stderr, \textcolor{stringliteral}{"FAIL recv packet\(\backslash\)n"});
243             \textcolor{keywordflow}{return} -1;
244         \}
245 
246         \textcolor{keywordflow}{return} len;
247     \}
248 
249     \textcolor{keywordflow}{return} -1;
250 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{d6/d03/_t_c_p__server_8h_a88eda37b476d8dcfdba94899e740dd9e_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d03/_t_c_p__server_8h_a88eda37b476d8dcfdba94899e740dd9e_icgraph}
\end{center}
\end{figure}


\hypertarget{_t_c_p__server_8h_ae80fe7119d00d2a7788c0839a90e0782}{\index{T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}!T\+C\+P\+\_\+socket\+\_\+data\+\_\+recv\+\_\+buffer@{T\+C\+P\+\_\+socket\+\_\+data\+\_\+recv\+\_\+buffer}}
\index{T\+C\+P\+\_\+socket\+\_\+data\+\_\+recv\+\_\+buffer@{T\+C\+P\+\_\+socket\+\_\+data\+\_\+recv\+\_\+buffer}!T\+C\+P\+\_\+server.\+h@{T\+C\+P\+\_\+server.\+h}}
\subsubsection[{T\+C\+P\+\_\+socket\+\_\+data\+\_\+recv\+\_\+buffer}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int T\+C\+P\+\_\+socket\+\_\+data\+\_\+recv\+\_\+buffer (
\begin{DoxyParamCaption}
\item[{{\bf sock\+\_\+t}}]{sock}
\end{DoxyParamCaption}
)}}\label{_t_c_p__server_8h_ae80fe7119d00d2a7788c0839a90e0782}


Definition at line 184 of file T\+C\+P\+\_\+server.\+c.



Referenced by proxy\+\_\+http\+\_\+read\+\_\+connection\+\_\+response(), read\+\_\+\+T\+C\+P\+\_\+length(), and read\+\_\+\+T\+C\+P\+\_\+packet().


\begin{DoxyCode}
185 \{
186 \textcolor{preprocessor}{#if defined(\_WIN32) || defined(\_\_WIN32\_\_) || defined (WIN32)}
187     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} count = 0;
188     ioctlsocket(\hyperlink{irc__syncbot_8c_a5903d0b282fc5eae503de618f896b5e1}{sock}, FIONREAD, &count);
189 \textcolor{preprocessor}{#else}
190     \textcolor{keywordtype}{int} count = 0;
191     ioctl(\hyperlink{irc__syncbot_8c_a5903d0b282fc5eae503de618f896b5e1}{sock}, FIONREAD, &count);
192 \textcolor{preprocessor}{#endif}
193 
194     \textcolor{keywordflow}{return} count;
195 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d03/_t_c_p__server_8h_ae80fe7119d00d2a7788c0839a90e0782_icgraph}
\end{center}
\end{figure}


