\hypertarget{toxcore_2group_8c}{\section{toxcore/group.c File Reference}
\label{toxcore_2group_8c}\index{toxcore/group.\+c@{toxcore/group.\+c}}
}
{\ttfamily \#include \char`\"{}group.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}util.\+h\char`\"{}}\\*
Include dependency graph for group.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d76/toxcore_2group_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{toxcore_2group_8c_a44ccacb3c5ca314b5edf8295837b108a}{I\+N\+V\+I\+T\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E}~(1 + sizeof(uint16\+\_\+t) + \hyperlink{toxcore_2group_8h_abe67a1388deb599ec26ecae07a1d4e9e}{G\+R\+O\+U\+P\+\_\+\+I\+D\+E\+N\+T\+I\+F\+I\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H})
\item 
\#define \hyperlink{toxcore_2group_8c_af82a138924c6ee2d4a228d89f07992e2}{I\+N\+V\+I\+T\+E\+\_\+\+I\+D}~0
\item 
\#define \hyperlink{toxcore_2group_8c_aeb689d94e5f56084849ac1112008c5bb}{I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E}~(1 + sizeof(uint16\+\_\+t) $\ast$ 2 + \hyperlink{toxcore_2group_8h_abe67a1388deb599ec26ecae07a1d4e9e}{G\+R\+O\+U\+P\+\_\+\+I\+D\+E\+N\+T\+I\+F\+I\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H})
\item 
\#define \hyperlink{toxcore_2group_8c_a65b9964ee5301b98649e60114460ede8}{I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D}~1
\item 
\#define \hyperlink{toxcore_2group_8c_a9cee2a2969784517dd1252308bcf5912}{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+I\+N\+G\+\_\+\+I\+D}~0
\item 
\#define \hyperlink{toxcore_2group_8c_a4ab0edbbe4f097ec283299e6f7834ed1}{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D}~16
\item 
\#define \hyperlink{toxcore_2group_8c_a47fc7b5448575f7fef6f76d011524f67}{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H}~(sizeof(uint16\+\_\+t) + crypto\+\_\+box\+\_\+\+P\+U\+B\+L\+I\+C\+K\+E\+Y\+B\+Y\+T\+E\+S $\ast$ 2)
\item 
\#define \hyperlink{toxcore_2group_8c_a9599f988176892e9255f723f49a89b77}{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D}~17
\item 
\#define \hyperlink{toxcore_2group_8c_a4c4a82b07baae01ec32fa00be88ab769}{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H}~(sizeof(uint16\+\_\+t))
\item 
\#define \hyperlink{toxcore_2group_8c_a5c6887bde59fba00ff3ea260f71e8b59}{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+A\+M\+E\+\_\+\+I\+D}~48
\item 
\#define \hyperlink{toxcore_2group_8c_aab29b4ca873b8909080da85c65acf050}{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D}~49
\item 
\#define \hyperlink{toxcore_2group_8c_aa0532f23e69d332abb81b6d9d0564009}{O\+N\+L\+I\+N\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+D\+A\+T\+A\+\_\+\+S\+I\+Z\+E}~(sizeof(uint16\+\_\+t) + \hyperlink{toxcore_2group_8h_abe67a1388deb599ec26ecae07a1d4e9e}{G\+R\+O\+U\+P\+\_\+\+I\+D\+E\+N\+T\+I\+F\+I\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H})
\item 
\#define \hyperlink{toxcore_2group_8c_a0f1462cf292dc152074ef89d4e1bfd90}{P\+E\+E\+R\+\_\+\+K\+I\+L\+L\+\_\+\+I\+D}~1
\item 
\#define \hyperlink{toxcore_2group_8c_ababd738dd6d95870ee92fff9e41ec4a1}{P\+E\+E\+R\+\_\+\+Q\+U\+E\+R\+Y\+\_\+\+I\+D}~8
\item 
\#define \hyperlink{toxcore_2group_8c_a715adea5ec29b115f99fb959be32fe9a}{P\+E\+E\+R\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D}~9
\item 
\#define \hyperlink{toxcore_2group_8c_a2bd87e226fa5d75452f77a9194a27ebc}{P\+E\+E\+R\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D}~10
\item 
\#define \hyperlink{toxcore_2group_8c_a0d3744be26722b806af368261057cfaa}{M\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N}~(sizeof(uint16\+\_\+t) $\ast$ 2 + sizeof(uint32\+\_\+t) + 1)
\item 
\#define \hyperlink{toxcore_2group_8c_ae298548dd34e339ece3580e2535afd84}{M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+D\+A\+T\+A\+\_\+\+L\+E\+N}~(\hyperlink{net__crypto_8h_a1b6e5122f9fdc5ef548ccf920f0c246e}{M\+A\+X\+\_\+\+C\+R\+Y\+P\+T\+O\+\_\+\+D\+A\+T\+A\+\_\+\+S\+I\+Z\+E} -\/ (1 + \hyperlink{toxcore_2group_8c_a0d3744be26722b806af368261057cfaa}{M\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N}))
\item 
\#define \hyperlink{toxcore_2group_8c_a52bc51b81a141d362631d64a80f28b78}{G\+R\+O\+U\+P\+\_\+\+P\+I\+N\+G\+\_\+\+I\+N\+T\+E\+R\+V\+A\+L}~20
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \{ \hyperlink{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06ca8840f0a6288b1412981da2317badc8ee}{G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+N\+O\+N\+E}, 
\hyperlink{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06ca7329462edf5727ff91ee6151d657b934}{G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+A\+D\+D\+E\+D}, 
\hyperlink{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06cad2375f5fc1db8b2b331ad543b6e58b3b}{G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+R\+E\+M\+O\+V\+E\+D}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static uint8\+\_\+t \hyperlink{toxcore_2group_8c_a4ffc6ae8485f94d9177baf65f777c72e}{groupnumber\+\_\+not\+\_\+valid} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber)
\item 
static int \hyperlink{toxcore_2group_8c_a7b1c78c20f59bf1cf3f0713f95d27853}{realloc\+\_\+groupchats} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, uint32\+\_\+t \hyperlink{tox__test_8c_abea371f9030e15a5d2a4c181576833d8}{num})
\item 
static int \hyperlink{toxcore_2group_8c_a0a739a733a50acd17a01b9bf0a173d2f}{create\+\_\+group\+\_\+chat} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c)
\item 
static int \hyperlink{toxcore_2group_8c_a7dfafd474418e29ebd804200d0d4e6e3}{wipe\+\_\+group\+\_\+chat} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber)
\item 
static \hyperlink{struct_group__c}{Group\+\_\+c} $\ast$ \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\+\_\+group\+\_\+c} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber)
\item 
static int \hyperlink{toxcore_2group_8c_ae26131e8118b841386363fb776dfbdc7}{peer\+\_\+in\+\_\+chat} (const \hyperlink{struct_group__c}{Group\+\_\+c} $\ast$chat, const uint8\+\_\+t $\ast$real\+\_\+pk)
\item 
static int \hyperlink{toxcore_2group_8c_a9915d747670099a44c1e14b939ea5363}{get\+\_\+group\+\_\+num} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, const uint8\+\_\+t $\ast$identifier)
\item 
static int \hyperlink{toxcore_2group_8c_a18b922ce66f2c13f374c3981f369441b}{get\+\_\+peer\+\_\+index} (\hyperlink{struct_group__c}{Group\+\_\+c} $\ast$g, uint16\+\_\+t peer\+\_\+number)
\item 
static uint64\+\_\+t \hyperlink{toxcore_2group_8c_afb13bc1afd72ceb013653353d9a82ac8}{calculate\+\_\+comp\+\_\+value} (const uint8\+\_\+t $\ast$pk1, const uint8\+\_\+t $\ast$pk2)
\item 
static int \hyperlink{toxcore_2group_8c_ab33265ba89587d6be3a703043a9619c3}{friend\+\_\+in\+\_\+close} (\hyperlink{struct_group__c}{Group\+\_\+c} $\ast$g, int friendcon\+\_\+id)
\item 
static int \hyperlink{toxcore_2group_8c_ab48e96a53cc90551754943ce3df01673}{add\+\_\+conn\+\_\+to\+\_\+groupchat} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int friendcon\+\_\+id, int groupnumber, uint8\+\_\+t closest, uint8\+\_\+t lock)
\item 
static int \hyperlink{toxcore_2group_8c_ade699d33c1e5ddc42068c02b5be2120c}{add\+\_\+to\+\_\+closest} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, const uint8\+\_\+t $\ast$real\+\_\+pk, const uint8\+\_\+t $\ast$temp\+\_\+pk)
\item 
static unsigned int \hyperlink{toxcore_2group_8c_acca24c6bbacf8e09ca3e50f96be6fc28}{pk\+\_\+in\+\_\+closest\+\_\+peers} (\hyperlink{struct_group__c}{Group\+\_\+c} $\ast$g, uint8\+\_\+t $\ast$real\+\_\+pk)
\item 
static int \hyperlink{toxcore_2group_8c_af7c31fe40ea58b07c87e38ef94f13eac}{send\+\_\+packet\+\_\+online} (\hyperlink{struct_friend___connections}{Friend\+\_\+\+Connections} $\ast$fr\+\_\+c, int friendcon\+\_\+id, uint16\+\_\+t group\+\_\+num, uint8\+\_\+t $\ast$identifier)
\item 
static int \hyperlink{toxcore_2group_8c_ab08da4834d9772b1ef1f3b35ae5197c1}{connect\+\_\+to\+\_\+closest} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber)
\item 
static int \hyperlink{toxcore_2group_8c_ad3ec486d9923daaaa99164f1ea392615}{addpeer} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, const uint8\+\_\+t $\ast$real\+\_\+pk, const uint8\+\_\+t $\ast$temp\+\_\+pk, uint16\+\_\+t peer\+\_\+number)
\item 
static int \hyperlink{toxcore_2group_8c_a812cc4cdcdb4821a6624c886e71e2a6c}{remove\+\_\+close\+\_\+conn} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, int friendcon\+\_\+id)
\item 
static int \hyperlink{toxcore_2group_8c_a54efac41dbd172d4443518f006d89b05}{delpeer} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, int peer\+\_\+index)
\item 
static int \hyperlink{toxcore_2group_8c_a43eba3fa6d10b16fba5c35b6a1b55590}{setnick} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, int peer\+\_\+index, const uint8\+\_\+t $\ast$nick, uint16\+\_\+t nick\+\_\+len)
\item 
static int \hyperlink{toxcore_2group_8c_aa09cb89734d556bc4b1410de31b7406e}{settitle} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, int peer\+\_\+index, const uint8\+\_\+t $\ast$title, uint8\+\_\+t title\+\_\+len)
\item 
static void \hyperlink{toxcore_2group_8c_acd184cb8d897a453bde4b2a0ed5f37c1}{set\+\_\+conns\+\_\+type\+\_\+close} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, int friendcon\+\_\+id, uint8\+\_\+t type)
\item 
static void \hyperlink{toxcore_2group_8c_ae5e2dd522c8105af9203d908b7fb3f16}{set\+\_\+conns\+\_\+status\+\_\+groups} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int friendcon\+\_\+id, uint8\+\_\+t type)
\item 
static int \hyperlink{toxcore_2group_8c_a9efe0d71e9ba46443367bc56788eb94c}{handle\+\_\+status} (void $\ast$object, int friendcon\+\_\+id, uint8\+\_\+t status)
\item 
static int \hyperlink{toxcore_2group_8c_a0b63c2cb5a61d6418705d22a30a8d4ef}{handle\+\_\+packet} (void $\ast$object, int friendcon\+\_\+id, uint8\+\_\+t $\ast$data, uint16\+\_\+t length)
\item 
static int \hyperlink{toxcore_2group_8c_ac0762dd7405b5b863aca34d0b52d8e98}{handle\+\_\+lossy} (void $\ast$object, int friendcon\+\_\+id, const uint8\+\_\+t $\ast$data, uint16\+\_\+t length)
\item 
int \hyperlink{toxcore_2group_8c_a4fa9eb1ad43b7b9026a861bd2b894461}{add\+\_\+groupchat} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, uint8\+\_\+t type)
\item 
static int \hyperlink{toxcore_2group_8c_af5df5a0281b502226b702bca064df039}{group\+\_\+kill\+\_\+peer\+\_\+send} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, uint16\+\_\+t peer\+\_\+num)
\item 
int \hyperlink{toxcore_2group_8c_a526817b20616bdf13250e1020d2a1808}{del\+\_\+groupchat} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber)
\item 
int \hyperlink{toxcore_2group_8c_a32c6a812970d810c720937f6f5d1998a}{group\+\_\+peer\+\_\+pubkey} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, int peernumber, uint8\+\_\+t $\ast$pk)
\item 
int \hyperlink{toxcore_2group_8c_aca385bea140e668374002b11db01d78d}{group\+\_\+peername} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, int peernumber, uint8\+\_\+t $\ast$name)
\item 
int \hyperlink{toxcore_2group_8c_a2ead81b9067921eff85dbab1f8fdc785}{group\+\_\+names} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, uint8\+\_\+t names\mbox{[}$\,$\mbox{]}\mbox{[}\hyperlink{_messenger_8h_a0c397a708cec89c74029582574516b30}{M\+A\+X\+\_\+\+N\+A\+M\+E\+\_\+\+L\+E\+N\+G\+T\+H}\mbox{]}, uint16\+\_\+t lengths\mbox{[}$\,$\mbox{]}, uint16\+\_\+t length)
\item 
int \hyperlink{toxcore_2group_8c_abd1478afe81f0399627adb7c8f725495}{group\+\_\+number\+\_\+peers} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber)
\item 
unsigned int \hyperlink{toxcore_2group_8c_a86daba4a594e2677b03851483ed3416c}{group\+\_\+peernumber\+\_\+is\+\_\+ours} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, int peernumber)
\item 
int \hyperlink{toxcore_2group_8c_aefde055f874f23db9e368a71719aefe3}{group\+\_\+get\+\_\+type} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber)
\item 
static unsigned int \hyperlink{toxcore_2group_8c_a80236daa3393e2c93424b05ce6f63dcb}{send\+\_\+packet\+\_\+group\+\_\+peer} (\hyperlink{struct_friend___connections}{Friend\+\_\+\+Connections} $\ast$fr\+\_\+c, int friendcon\+\_\+id, uint8\+\_\+t packet\+\_\+id, uint16\+\_\+t group\+\_\+num, const uint8\+\_\+t $\ast$data, uint16\+\_\+t length)
\item 
static unsigned int \hyperlink{toxcore_2group_8c_ae3bb029450c53089066ace620abfe971}{send\+\_\+lossy\+\_\+group\+\_\+peer} (\hyperlink{struct_friend___connections}{Friend\+\_\+\+Connections} $\ast$fr\+\_\+c, int friendcon\+\_\+id, uint8\+\_\+t packet\+\_\+id, uint16\+\_\+t group\+\_\+num, const uint8\+\_\+t $\ast$data, uint16\+\_\+t length)
\item 
int \hyperlink{toxcore_2group_8c_ab88ec06a4663a75e56afa84ae094df77}{invite\+\_\+friend} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int32\+\_\+t friendnumber, int groupnumber)
\item 
static unsigned int \hyperlink{toxcore_2group_8c_a1d102fdae79367ce06e55cda3cd9f441}{send\+\_\+peer\+\_\+query} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int friendcon\+\_\+id, uint16\+\_\+t group\+\_\+num)
\item 
int \hyperlink{toxcore_2group_8c_a6f097de58345cf9500d0413198c583fc}{join\+\_\+groupchat} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int32\+\_\+t friendnumber, uint8\+\_\+t expected\+\_\+type, const uint8\+\_\+t $\ast$data, uint16\+\_\+t length)
\item 
void \hyperlink{toxcore_2group_8c_ac900761f5401134bec49443c866def98}{g\+\_\+callback\+\_\+group\+\_\+invite} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, void($\ast$function)(\hyperlink{struct_messenger}{Messenger} $\ast$\hyperlink{_messenger__test_8c_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}, int32\+\_\+t, uint8\+\_\+t, const uint8\+\_\+t $\ast$, uint16\+\_\+t, void $\ast$), void $\ast$userdata)
\item 
void \hyperlink{toxcore_2group_8c_a43c7333276eeb0792b4157dd90789957}{g\+\_\+callback\+\_\+group\+\_\+message} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, void($\ast$function)(\hyperlink{struct_messenger}{Messenger} $\ast$\hyperlink{_messenger__test_8c_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}, int, int, const uint8\+\_\+t $\ast$, uint16\+\_\+t, void $\ast$), void $\ast$userdata)
\item 
void \hyperlink{toxcore_2group_8c_af5c4cc3003dc13ffec6413264fd302b6}{g\+\_\+callback\+\_\+group\+\_\+action} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, void($\ast$function)(\hyperlink{struct_messenger}{Messenger} $\ast$\hyperlink{_messenger__test_8c_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}, int, int, const uint8\+\_\+t $\ast$, uint16\+\_\+t, void $\ast$), void $\ast$userdata)
\item 
void \hyperlink{toxcore_2group_8c_aab3c37b13310ec0d9df5f3209c6fc5ac}{group\+\_\+lossy\+\_\+packet\+\_\+registerhandler} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, uint8\+\_\+t byte, int($\ast$function)(void $\ast$, int, int, void $\ast$, const uint8\+\_\+t $\ast$, uint16\+\_\+t))
\item 
void \hyperlink{toxcore_2group_8c_a30b3538c4447bd279b31e423bc96984f}{g\+\_\+callback\+\_\+group\+\_\+namelistchange} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, void($\ast$function)(\hyperlink{struct_messenger}{Messenger} $\ast$\hyperlink{_messenger__test_8c_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}, int, int, uint8\+\_\+t, void $\ast$), void $\ast$userdata)
\item 
void \hyperlink{toxcore_2group_8c_a4819b45e57736979652615714cf9dbfe}{g\+\_\+callback\+\_\+group\+\_\+title} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, void($\ast$function)(\hyperlink{struct_messenger}{Messenger} $\ast$\hyperlink{_messenger__test_8c_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}, int, int, const uint8\+\_\+t $\ast$, uint8\+\_\+t, void $\ast$), void $\ast$userdata)
\item 
int \hyperlink{toxcore_2group_8c_ac5a08e9cc9e4615a8702b642885b70b2}{callback\+\_\+groupchat\+\_\+peer\+\_\+new} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, void($\ast$function)(void $\ast$, int, int))
\item 
int \hyperlink{toxcore_2group_8c_a52cfb119bc0747a9b4d4fdd845ce44a0}{callback\+\_\+groupchat\+\_\+peer\+\_\+delete} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, void($\ast$function)(void $\ast$, int, int, void $\ast$))
\item 
int \hyperlink{toxcore_2group_8c_a3d26dd5b26565b3050268f7dc86f648c}{callback\+\_\+groupchat\+\_\+delete} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, void($\ast$function)(void $\ast$, int))
\item 
static unsigned int \hyperlink{toxcore_2group_8c_ac302cc1a014208e6d96dbb7c86dd9733}{send\+\_\+message\+\_\+group} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, uint8\+\_\+t message\+\_\+id, const uint8\+\_\+t $\ast$data, uint16\+\_\+t len)
\item 
int \hyperlink{toxcore_2group_8c_a16a09a62aa63887e913d921b3b6860f1}{group\+\_\+ping\+\_\+send} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber)
\item 
int \hyperlink{toxcore_2group_8c_a66c811c8711cf3064c50efa85d3f7c94}{group\+\_\+new\+\_\+peer\+\_\+send} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, uint16\+\_\+t peer\+\_\+num, const uint8\+\_\+t $\ast$real\+\_\+pk, uint8\+\_\+t $\ast$temp\+\_\+pk)
\item 
static int \hyperlink{toxcore_2group_8c_afa6172f19b4153d866057d744bdf0a11}{group\+\_\+name\+\_\+send} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, const uint8\+\_\+t $\ast$nick, uint16\+\_\+t nick\+\_\+len)
\item 
int \hyperlink{toxcore_2group_8c_a262b7bf9d01d09574224f290575de0db}{group\+\_\+title\+\_\+send} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, const uint8\+\_\+t $\ast$title, uint8\+\_\+t title\+\_\+len)
\item 
int \hyperlink{toxcore_2group_8c_a4eb43d155a71bcb9e63954bdd1b6e3e6}{group\+\_\+title\+\_\+get} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, uint8\+\_\+t $\ast$title, uint32\+\_\+t max\+\_\+length)
\item 
static void \hyperlink{toxcore_2group_8c_a5827237272acfda26ad786049a80e42a}{handle\+\_\+friend\+\_\+invite\+\_\+packet} (\hyperlink{struct_messenger}{Messenger} $\ast$\hyperlink{_messenger__test_8c_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}, uint32\+\_\+t friendnumber, const uint8\+\_\+t $\ast$data, uint16\+\_\+t length)
\item 
static unsigned int \hyperlink{toxcore_2group_8c_a438c9dd8205d89633a55acdac6e1f6f7}{count\+\_\+close\+\_\+connected} (\hyperlink{struct_group__c}{Group\+\_\+c} $\ast$g)
\item 
static unsigned int \hyperlink{toxcore_2group_8c_a0f7888238b6e47dd9f4e80ab1f33312c}{send\+\_\+peer\+\_\+kill} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int friendcon\+\_\+id, uint16\+\_\+t group\+\_\+num)
\item 
static int \hyperlink{toxcore_2group_8c_aadd3b840d1ca411fc2345ec2c9f6bfe7}{handle\+\_\+packet\+\_\+online} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int friendcon\+\_\+id, uint8\+\_\+t $\ast$data, uint16\+\_\+t length)
\item 
static unsigned int \hyperlink{toxcore_2group_8c_a45538eb41a1837f5f6c76014cb18bf70}{send\+\_\+peers} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, int friendcon\+\_\+id, uint16\+\_\+t group\+\_\+num)
\item 
static int \hyperlink{toxcore_2group_8c_a759667e1dd1553a5ad8486c5165ec520}{handle\+\_\+send\+\_\+peers} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, const uint8\+\_\+t $\ast$data, uint16\+\_\+t length)
\item 
static void \hyperlink{toxcore_2group_8c_a5f0da219f2f87c142bd8c95f6d43e32c}{handle\+\_\+direct\+\_\+packet} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, const uint8\+\_\+t $\ast$data, uint16\+\_\+t length, int close\+\_\+index)
\item 
static unsigned int \hyperlink{toxcore_2group_8c_a8b14c71c58c2bd20999d0fb1ddd6b0bc}{send\+\_\+message\+\_\+all\+\_\+close} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, const uint8\+\_\+t $\ast$data, uint16\+\_\+t length, int receiver)
\item 
static unsigned int \hyperlink{toxcore_2group_8c_a593b5363a3865f21759df2ecc0a8c45a}{send\+\_\+lossy\+\_\+all\+\_\+close} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, const uint8\+\_\+t $\ast$data, uint16\+\_\+t length, int receiver)
\item 
int \hyperlink{toxcore_2group_8c_a5089fa31b3523ab355414d9a6aeb653c}{group\+\_\+message\+\_\+send} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, const uint8\+\_\+t $\ast$message, uint16\+\_\+t length)
\item 
int \hyperlink{toxcore_2group_8c_a0797c0660c3628fd1b62ca99cc860443}{group\+\_\+action\+\_\+send} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, const uint8\+\_\+t $\ast$action, uint16\+\_\+t length)
\item 
int \hyperlink{toxcore_2group_8c_a7e20618640c4b45fe7f863c87ec2dfda}{send\+\_\+group\+\_\+lossy\+\_\+packet} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, const uint8\+\_\+t $\ast$data, uint16\+\_\+t length)
\item 
static void \hyperlink{toxcore_2group_8c_a1a33e6d2f2651603b3e37ff90cfd6dee}{handle\+\_\+message\+\_\+packet\+\_\+group} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, const uint8\+\_\+t $\ast$data, uint16\+\_\+t length, int close\+\_\+index)
\item 
static unsigned int \hyperlink{toxcore_2group_8c_abdb13333f67980a5f5842fe88ca55996}{lossy\+\_\+packet\+\_\+not\+\_\+received} (\hyperlink{struct_group__c}{Group\+\_\+c} $\ast$g, int peer\+\_\+index, uint16\+\_\+t message\+\_\+number)
\item 
int \hyperlink{toxcore_2group_8c_add35f9833270b223b9120733e8c161b6}{group\+\_\+set\+\_\+object} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, void $\ast$object)
\item 
int \hyperlink{toxcore_2group_8c_a450e79abe59f479d322c59b4e7be0184}{group\+\_\+peer\+\_\+set\+\_\+object} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, int peernumber, void $\ast$object)
\item 
void $\ast$ \hyperlink{toxcore_2group_8c_ad3649b12ed32b2b37f6443e8dfcfb34f}{group\+\_\+get\+\_\+object} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber)
\item 
void $\ast$ \hyperlink{toxcore_2group_8c_a8e806c997fa1e969e2c26f5751b16593}{group\+\_\+peer\+\_\+get\+\_\+object} (const \hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber, int peernumber)
\item 
static int \hyperlink{toxcore_2group_8c_a1103873d88cad80582662eb863fa6c03}{ping\+\_\+groupchat} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber)
\item 
static int \hyperlink{toxcore_2group_8c_acfda9051487bdd5f51667aea724952e9}{groupchat\+\_\+clear\+\_\+timedout} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int groupnumber)
\item 
void \hyperlink{toxcore_2group_8c_aa79b54a63ec3831db2f92c5d52dc949f}{send\+\_\+name\+\_\+all\+\_\+groups} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c)
\item 
\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$ \hyperlink{toxcore_2group_8c_a16ac0b94fed484d710f76d390b7a85d8}{new\+\_\+groupchats} (\hyperlink{struct_messenger}{Messenger} $\ast$\hyperlink{_messenger__test_8c_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m})
\item 
void \hyperlink{toxcore_2group_8c_a9529a2149c68cbff38d43419d9ebeecc}{do\+\_\+groupchats} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c)
\item 
void \hyperlink{toxcore_2group_8c_af203efe57203e3b774d8e4f5e29cca81}{kill\+\_\+groupchats} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c)
\item 
uint32\+\_\+t \hyperlink{toxcore_2group_8c_ac8db2e732a8872d2f5f4113eddab07d6}{count\+\_\+chatlist} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c)
\item 
uint32\+\_\+t \hyperlink{toxcore_2group_8c_a9e7eb2c3af67e4b0964ddb553639a0a4}{copy\+\_\+chatlist} (\hyperlink{struct_group___chats}{Group\+\_\+\+Chats} $\ast$g\+\_\+c, int32\+\_\+t $\ast$out\+\_\+list, uint32\+\_\+t list\+\_\+size)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{toxcore_2group_8c_a9599f988176892e9255f723f49a89b77}{\index{toxcore/group.\+c@{toxcore/group.\+c}!G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D@{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D}}
\index{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D@{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D~17}}\label{toxcore_2group_8c_a9599f988176892e9255f723f49a89b77}


Definition at line 1145 of file group.\+c.



Referenced by group\+\_\+kill\+\_\+peer\+\_\+send(), and handle\+\_\+message\+\_\+packet\+\_\+group().

\hypertarget{toxcore_2group_8c_a4c4a82b07baae01ec32fa00be88ab769}{\index{toxcore/group.\+c@{toxcore/group.\+c}!G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H@{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H}}
\index{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H@{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H~(sizeof(uint16\+\_\+t))}}\label{toxcore_2group_8c_a4c4a82b07baae01ec32fa00be88ab769}


Definition at line 1146 of file group.\+c.



Referenced by group\+\_\+kill\+\_\+peer\+\_\+send(), and handle\+\_\+message\+\_\+packet\+\_\+group().

\hypertarget{toxcore_2group_8c_a5c6887bde59fba00ff3ea260f71e8b59}{\index{toxcore/group.\+c@{toxcore/group.\+c}!G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+A\+M\+E\+\_\+\+I\+D@{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+A\+M\+E\+\_\+\+I\+D}}
\index{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+A\+M\+E\+\_\+\+I\+D@{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+A\+M\+E\+\_\+\+I\+D}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+A\+M\+E\+\_\+\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+A\+M\+E\+\_\+\+I\+D~48}}\label{toxcore_2group_8c_a5c6887bde59fba00ff3ea260f71e8b59}


Definition at line 1166 of file group.\+c.



Referenced by group\+\_\+name\+\_\+send(), and handle\+\_\+message\+\_\+packet\+\_\+group().

\hypertarget{toxcore_2group_8c_a4ab0edbbe4f097ec283299e6f7834ed1}{\index{toxcore/group.\+c@{toxcore/group.\+c}!G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D@{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D}}
\index{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D@{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D~16}}\label{toxcore_2group_8c_a4ab0edbbe4f097ec283299e6f7834ed1}


Definition at line 1122 of file group.\+c.



Referenced by group\+\_\+new\+\_\+peer\+\_\+send(), and handle\+\_\+message\+\_\+packet\+\_\+group().

\hypertarget{toxcore_2group_8c_a47fc7b5448575f7fef6f76d011524f67}{\index{toxcore/group.\+c@{toxcore/group.\+c}!G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H@{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H}}
\index{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H@{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H~(sizeof(uint16\+\_\+t) + crypto\+\_\+box\+\_\+\+P\+U\+B\+L\+I\+C\+K\+E\+Y\+B\+Y\+T\+E\+S $\ast$ 2)}}\label{toxcore_2group_8c_a47fc7b5448575f7fef6f76d011524f67}


Definition at line 1123 of file group.\+c.



Referenced by group\+\_\+new\+\_\+peer\+\_\+send(), and handle\+\_\+message\+\_\+packet\+\_\+group().

\hypertarget{toxcore_2group_8c_a9cee2a2969784517dd1252308bcf5912}{\index{toxcore/group.\+c@{toxcore/group.\+c}!G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+I\+N\+G\+\_\+\+I\+D@{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+I\+N\+G\+\_\+\+I\+D}}
\index{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+I\+N\+G\+\_\+\+I\+D@{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+I\+N\+G\+\_\+\+I\+D}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+I\+N\+G\+\_\+\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+I\+N\+G\+\_\+\+I\+D~0}}\label{toxcore_2group_8c_a9cee2a2969784517dd1252308bcf5912}


Definition at line 1112 of file group.\+c.



Referenced by group\+\_\+ping\+\_\+send(), and handle\+\_\+message\+\_\+packet\+\_\+group().

\hypertarget{toxcore_2group_8c_aab29b4ca873b8909080da85c65acf050}{\index{toxcore/group.\+c@{toxcore/group.\+c}!G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D@{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D}}
\index{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D@{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D~49}}\label{toxcore_2group_8c_aab29b4ca873b8909080da85c65acf050}


Definition at line 1184 of file group.\+c.



Referenced by group\+\_\+title\+\_\+send(), and handle\+\_\+message\+\_\+packet\+\_\+group().

\hypertarget{toxcore_2group_8c_a52bc51b81a141d362631d64a80f28b78}{\index{toxcore/group.\+c@{toxcore/group.\+c}!G\+R\+O\+U\+P\+\_\+\+P\+I\+N\+G\+\_\+\+I\+N\+T\+E\+R\+V\+A\+L@{G\+R\+O\+U\+P\+\_\+\+P\+I\+N\+G\+\_\+\+I\+N\+T\+E\+R\+V\+A\+L}}
\index{G\+R\+O\+U\+P\+\_\+\+P\+I\+N\+G\+\_\+\+I\+N\+T\+E\+R\+V\+A\+L@{G\+R\+O\+U\+P\+\_\+\+P\+I\+N\+G\+\_\+\+I\+N\+T\+E\+R\+V\+A\+L}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{G\+R\+O\+U\+P\+\_\+\+P\+I\+N\+G\+\_\+\+I\+N\+T\+E\+R\+V\+A\+L}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+R\+O\+U\+P\+\_\+\+P\+I\+N\+G\+\_\+\+I\+N\+T\+E\+R\+V\+A\+L~20}}\label{toxcore_2group_8c_a52bc51b81a141d362631d64a80f28b78}


Definition at line 2165 of file group.\+c.



Referenced by groupchat\+\_\+clear\+\_\+timedout(), and ping\+\_\+groupchat().

\hypertarget{toxcore_2group_8c_af82a138924c6ee2d4a228d89f07992e2}{\index{toxcore/group.\+c@{toxcore/group.\+c}!I\+N\+V\+I\+T\+E\+\_\+\+I\+D@{I\+N\+V\+I\+T\+E\+\_\+\+I\+D}}
\index{I\+N\+V\+I\+T\+E\+\_\+\+I\+D@{I\+N\+V\+I\+T\+E\+\_\+\+I\+D}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{I\+N\+V\+I\+T\+E\+\_\+\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+N\+V\+I\+T\+E\+\_\+\+I\+D~0}}\label{toxcore_2group_8c_af82a138924c6ee2d4a228d89f07992e2}


Definition at line 891 of file group.\+c.



Referenced by handle\+\_\+friend\+\_\+invite\+\_\+packet(), and invite\+\_\+friend().

\hypertarget{toxcore_2group_8c_a44ccacb3c5ca314b5edf8295837b108a}{\index{toxcore/group.\+c@{toxcore/group.\+c}!I\+N\+V\+I\+T\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E@{I\+N\+V\+I\+T\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E}}
\index{I\+N\+V\+I\+T\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E@{I\+N\+V\+I\+T\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{I\+N\+V\+I\+T\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+N\+V\+I\+T\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E~(1 + sizeof(uint16\+\_\+t) + {\bf G\+R\+O\+U\+P\+\_\+\+I\+D\+E\+N\+T\+I\+F\+I\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H})}}\label{toxcore_2group_8c_a44ccacb3c5ca314b5edf8295837b108a}


Definition at line 890 of file group.\+c.



Referenced by handle\+\_\+friend\+\_\+invite\+\_\+packet(), and invite\+\_\+friend().

\hypertarget{toxcore_2group_8c_a65b9964ee5301b98649e60114460ede8}{\index{toxcore/group.\+c@{toxcore/group.\+c}!I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D@{I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D}}
\index{I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D@{I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D~1}}\label{toxcore_2group_8c_a65b9964ee5301b98649e60114460ede8}


Definition at line 894 of file group.\+c.



Referenced by handle\+\_\+friend\+\_\+invite\+\_\+packet(), and join\+\_\+groupchat().

\hypertarget{toxcore_2group_8c_aeb689d94e5f56084849ac1112008c5bb}{\index{toxcore/group.\+c@{toxcore/group.\+c}!I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E@{I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E}}
\index{I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E@{I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E~(1 + sizeof(uint16\+\_\+t) $\ast$ 2 + {\bf G\+R\+O\+U\+P\+\_\+\+I\+D\+E\+N\+T\+I\+F\+I\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H})}}\label{toxcore_2group_8c_aeb689d94e5f56084849ac1112008c5bb}


Definition at line 893 of file group.\+c.



Referenced by handle\+\_\+friend\+\_\+invite\+\_\+packet(), and join\+\_\+groupchat().

\hypertarget{toxcore_2group_8c_ae298548dd34e339ece3580e2535afd84}{\index{toxcore/group.\+c@{toxcore/group.\+c}!M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+D\+A\+T\+A\+\_\+\+L\+E\+N@{M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+D\+A\+T\+A\+\_\+\+L\+E\+N}}
\index{M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+D\+A\+T\+A\+\_\+\+L\+E\+N@{M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+D\+A\+T\+A\+\_\+\+L\+E\+N}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+D\+A\+T\+A\+\_\+\+L\+E\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+D\+A\+T\+A\+\_\+\+L\+E\+N~({\bf M\+A\+X\+\_\+\+C\+R\+Y\+P\+T\+O\+\_\+\+D\+A\+T\+A\+\_\+\+S\+I\+Z\+E} -\/ (1 + {\bf M\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N}))}}\label{toxcore_2group_8c_ae298548dd34e339ece3580e2535afd84}


Definition at line 1710 of file group.\+c.



Referenced by send\+\_\+message\+\_\+group().

\hypertarget{toxcore_2group_8c_a0d3744be26722b806af368261057cfaa}{\index{toxcore/group.\+c@{toxcore/group.\+c}!M\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N@{M\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N}}
\index{M\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N@{M\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{M\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N~(sizeof(uint16\+\_\+t) $\ast$ 2 + sizeof(uint32\+\_\+t) + 1)}}\label{toxcore_2group_8c_a0d3744be26722b806af368261057cfaa}


Definition at line 1594 of file group.\+c.

\hypertarget{toxcore_2group_8c_aa0532f23e69d332abb81b6d9d0564009}{\index{toxcore/group.\+c@{toxcore/group.\+c}!O\+N\+L\+I\+N\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+D\+A\+T\+A\+\_\+\+S\+I\+Z\+E@{O\+N\+L\+I\+N\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+D\+A\+T\+A\+\_\+\+S\+I\+Z\+E}}
\index{O\+N\+L\+I\+N\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+D\+A\+T\+A\+\_\+\+S\+I\+Z\+E@{O\+N\+L\+I\+N\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+D\+A\+T\+A\+\_\+\+S\+I\+Z\+E}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{O\+N\+L\+I\+N\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+D\+A\+T\+A\+\_\+\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+N\+L\+I\+N\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+D\+A\+T\+A\+\_\+\+S\+I\+Z\+E~(sizeof(uint16\+\_\+t) + {\bf G\+R\+O\+U\+P\+\_\+\+I\+D\+E\+N\+T\+I\+F\+I\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H})}}\label{toxcore_2group_8c_aa0532f23e69d332abb81b6d9d0564009}


Definition at line 1357 of file group.\+c.



Referenced by handle\+\_\+packet\+\_\+online(), and send\+\_\+packet\+\_\+online().

\hypertarget{toxcore_2group_8c_a0f1462cf292dc152074ef89d4e1bfd90}{\index{toxcore/group.\+c@{toxcore/group.\+c}!P\+E\+E\+R\+\_\+\+K\+I\+L\+L\+\_\+\+I\+D@{P\+E\+E\+R\+\_\+\+K\+I\+L\+L\+\_\+\+I\+D}}
\index{P\+E\+E\+R\+\_\+\+K\+I\+L\+L\+\_\+\+I\+D@{P\+E\+E\+R\+\_\+\+K\+I\+L\+L\+\_\+\+I\+D}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{P\+E\+E\+R\+\_\+\+K\+I\+L\+L\+\_\+\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+E\+E\+R\+\_\+\+K\+I\+L\+L\+\_\+\+I\+D~1}}\label{toxcore_2group_8c_a0f1462cf292dc152074ef89d4e1bfd90}


Definition at line 1421 of file group.\+c.



Referenced by handle\+\_\+direct\+\_\+packet(), and send\+\_\+peer\+\_\+kill().

\hypertarget{toxcore_2group_8c_ababd738dd6d95870ee92fff9e41ec4a1}{\index{toxcore/group.\+c@{toxcore/group.\+c}!P\+E\+E\+R\+\_\+\+Q\+U\+E\+R\+Y\+\_\+\+I\+D@{P\+E\+E\+R\+\_\+\+Q\+U\+E\+R\+Y\+\_\+\+I\+D}}
\index{P\+E\+E\+R\+\_\+\+Q\+U\+E\+R\+Y\+\_\+\+I\+D@{P\+E\+E\+R\+\_\+\+Q\+U\+E\+R\+Y\+\_\+\+I\+D}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{P\+E\+E\+R\+\_\+\+Q\+U\+E\+R\+Y\+\_\+\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+E\+E\+R\+\_\+\+Q\+U\+E\+R\+Y\+\_\+\+I\+D~8}}\label{toxcore_2group_8c_ababd738dd6d95870ee92fff9e41ec4a1}


Definition at line 1422 of file group.\+c.



Referenced by handle\+\_\+direct\+\_\+packet(), and send\+\_\+peer\+\_\+query().

\hypertarget{toxcore_2group_8c_a715adea5ec29b115f99fb959be32fe9a}{\index{toxcore/group.\+c@{toxcore/group.\+c}!P\+E\+E\+R\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D@{P\+E\+E\+R\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D}}
\index{P\+E\+E\+R\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D@{P\+E\+E\+R\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{P\+E\+E\+R\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+E\+E\+R\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D~9}}\label{toxcore_2group_8c_a715adea5ec29b115f99fb959be32fe9a}


Definition at line 1423 of file group.\+c.



Referenced by handle\+\_\+direct\+\_\+packet(), and send\+\_\+peers().

\hypertarget{toxcore_2group_8c_a2bd87e226fa5d75452f77a9194a27ebc}{\index{toxcore/group.\+c@{toxcore/group.\+c}!P\+E\+E\+R\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D@{P\+E\+E\+R\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D}}
\index{P\+E\+E\+R\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D@{P\+E\+E\+R\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{P\+E\+E\+R\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+E\+E\+R\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D~10}}\label{toxcore_2group_8c_a2bd87e226fa5d75452f77a9194a27ebc}


Definition at line 1424 of file group.\+c.



Referenced by handle\+\_\+direct\+\_\+packet(), and send\+\_\+peers().



\subsection{Enumeration Type Documentation}
\hypertarget{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06c}{\subsubsection[{anonymous enum}]{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}}\label{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06c}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+N\+O\+N\+E@{G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+N\+O\+N\+E}!toxcore/group.\+c@{toxcore/group.\+c}}\index{toxcore/group.\+c@{toxcore/group.\+c}!G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+N\+O\+N\+E@{G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+N\+O\+N\+E}}\item[{\em 
\hypertarget{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06ca8840f0a6288b1412981da2317badc8ee}{G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+N\+O\+N\+E}\label{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06ca8840f0a6288b1412981da2317badc8ee}
}]\index{G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+A\+D\+D\+E\+D@{G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+A\+D\+D\+E\+D}!toxcore/group.\+c@{toxcore/group.\+c}}\index{toxcore/group.\+c@{toxcore/group.\+c}!G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+A\+D\+D\+E\+D@{G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+A\+D\+D\+E\+D}}\item[{\em 
\hypertarget{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06ca7329462edf5727ff91ee6151d657b934}{G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+A\+D\+D\+E\+D}\label{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06ca7329462edf5727ff91ee6151d657b934}
}]\index{G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+R\+E\+M\+O\+V\+E\+D@{G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+R\+E\+M\+O\+V\+E\+D}!toxcore/group.\+c@{toxcore/group.\+c}}\index{toxcore/group.\+c@{toxcore/group.\+c}!G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+R\+E\+M\+O\+V\+E\+D@{G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+R\+E\+M\+O\+V\+E\+D}}\item[{\em 
\hypertarget{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06cad2375f5fc1db8b2b331ad543b6e58b3b}{G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+R\+E\+M\+O\+V\+E\+D}\label{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06cad2375f5fc1db8b2b331ad543b6e58b3b}
}]\end{description}
\end{Desc}


Definition at line 205 of file group.\+c.


\begin{DoxyCode}
205      \{
206     \hyperlink{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06ca8840f0a6288b1412981da2317badc8ee}{GROUPCHAT\_CLOSEST\_NONE},
207     \hyperlink{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06ca7329462edf5727ff91ee6151d657b934}{GROUPCHAT\_CLOSEST\_ADDED},
208     \hyperlink{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06cad2375f5fc1db8b2b331ad543b6e58b3b}{GROUPCHAT\_CLOSEST\_REMOVED}
209 \};
\end{DoxyCode}


\subsection{Function Documentation}
\hypertarget{toxcore_2group_8c_ab48e96a53cc90551754943ce3df01673}{\index{toxcore/group.\+c@{toxcore/group.\+c}!add\+\_\+conn\+\_\+to\+\_\+groupchat@{add\+\_\+conn\+\_\+to\+\_\+groupchat}}
\index{add\+\_\+conn\+\_\+to\+\_\+groupchat@{add\+\_\+conn\+\_\+to\+\_\+groupchat}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{add\+\_\+conn\+\_\+to\+\_\+groupchat}]{\setlength{\rightskip}{0pt plus 5cm}static int add\+\_\+conn\+\_\+to\+\_\+groupchat (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{friendcon\+\_\+id, }
\item[{int}]{groupnumber, }
\item[{uint8\+\_\+t}]{closest, }
\item[{uint8\+\_\+t}]{lock}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_ab48e96a53cc90551754943ce3df01673}


Definition at line 623 of file group.\+c.



References Group\+\_\+c\+::close, Group\+\_\+c\+::closest, Group\+\_\+\+Chats\+::fr\+\_\+c, Messenger\+::fr\+\_\+c, friend\+\_\+connection\+\_\+callbacks(), friend\+\_\+connection\+\_\+lock(), get\+\_\+group\+\_\+c(), G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+I\+N\+D\+E\+X, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+N\+O\+N\+E, handle\+\_\+lossy(), handle\+\_\+packet(), handle\+\_\+status(), i, Group\+\_\+\+Chats\+::m, M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S, Group\+\_\+c\+::number, and Group\+\_\+c\+::type.



Referenced by connect\+\_\+to\+\_\+closest(), handle\+\_\+friend\+\_\+invite\+\_\+packet(), and join\+\_\+groupchat().


\begin{DoxyCode}
624 \{
625     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
626 
627     \textcolor{keywordflow}{if} (!g)
628         \textcolor{keywordflow}{return} -1;
629 
630     uint16\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}, ind = \hyperlink{toxcore_2group_8h_ab4d6c744a36e49e0aa6cb3f1ea3de0f7}{MAX\_GROUP\_CONNECTIONS};
631 
632     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{toxcore_2group_8h_ab4d6c744a36e49e0aa6cb3f1ea3de0f7}{MAX\_GROUP\_CONNECTIONS}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
633         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} == \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2daec225048274e40e0a1517f1afc008834}{GROUPCHAT\_CLOSE\_NONE}) \{
634             ind = \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
635             \textcolor{keywordflow}{continue};
636         \}
637 
638         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].\hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number} == (uint32\_t)friendcon\_id) \{
639             g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}].\hyperlink{struct_group__c_a8ff1adca518d82728e7d450f6d14e8db}{closest} = closest;
640             \textcolor{keywordflow}{return} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}; \textcolor{comment}{/* Already in list. */}
641         \}
642     \}
643 
644     \textcolor{keywordflow}{if} (ind == MAX\_GROUP\_CONNECTIONS)
645         \textcolor{keywordflow}{return} -1;
646 
647     \textcolor{keywordflow}{if} (lock)
648         \hyperlink{friend__connection_8c_ae9fc0c8cb8838cd5d069e44911c23e63}{friend\_connection\_lock}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, friendcon\_id);
649 
650     g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[ind].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} = \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2da59fc98d9e4ab0b97405e3f509b8e4b19}{GROUPCHAT\_CLOSE\_CONNECTION};
651     g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[ind].\hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number} = friendcon\_id;
652     g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[ind].\hyperlink{struct_group__c_a8ff1adca518d82728e7d450f6d14e8db}{closest} = closest;
653     \textcolor{comment}{//TODO}
654     \hyperlink{friend__connection_8c_a15c404d517b4a4fb3976f4d85bfbaef0}{friend\_connection\_callbacks}(g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}->\hyperlink{struct_messenger_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, friendcon\_id, 
      \hyperlink{friend__connection_8h_a6eb210c3066f32144781de4e11a6c506}{GROUPCHAT\_CALLBACK\_INDEX}, &\hyperlink{toxcore_2group_8c_a9efe0d71e9ba46443367bc56788eb94c}{handle\_status}, &
      \hyperlink{toxcore_2group_8c_a0b63c2cb5a61d6418705d22a30a8d4ef}{handle\_packet},
655                                 &\hyperlink{toxcore_2group_8c_ac0762dd7405b5b863aca34d0b52d8e98}{handle\_lossy}, g\_c, friendcon\_id);
656 
657     \textcolor{keywordflow}{return} ind;
658 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ab48e96a53cc90551754943ce3df01673_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ab48e96a53cc90551754943ce3df01673_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a4fa9eb1ad43b7b9026a861bd2b894461}{\index{toxcore/group.\+c@{toxcore/group.\+c}!add\+\_\+groupchat@{add\+\_\+groupchat}}
\index{add\+\_\+groupchat@{add\+\_\+groupchat}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{add\+\_\+groupchat}]{\setlength{\rightskip}{0pt plus 5cm}int add\+\_\+groupchat (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{uint8\+\_\+t}]{type}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a4fa9eb1ad43b7b9026a861bd2b894461}


Definition at line 667 of file group.\+c.



References addpeer(), Group\+\_\+\+Chats\+::chats, create\+\_\+group\+\_\+chat(), Messenger\+::dht, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+E\+D, Group\+\_\+c\+::identifier, Group\+\_\+\+Chats\+::m, Messenger\+::name, Messenger\+::name\+\_\+length, Messenger\+::net\+\_\+crypto, new\+\_\+symmetric\+\_\+key(), Group\+\_\+c\+::number\+\_\+joined, Group\+\_\+c\+::peer\+\_\+number, Group\+\_\+c\+::real\+\_\+pk, Net\+\_\+\+Crypto\+::self\+\_\+public\+\_\+key, D\+H\+T\+::self\+\_\+public\+\_\+key, setnick(), and Group\+\_\+c\+::status.



Referenced by add\+\_\+av\+\_\+groupchat(), and tox\+\_\+add\+\_\+groupchat().


\begin{DoxyCode}
668 \{
669     \textcolor{keywordtype}{int} groupnumber = \hyperlink{toxcore_2group_8c_a0a739a733a50acd17a01b9bf0a173d2f}{create\_group\_chat}(g\_c);
670 
671     \textcolor{keywordflow}{if} (groupnumber == -1)
672         \textcolor{keywordflow}{return} -1;
673 
674     \hyperlink{struct_group__c}{Group\_c} *g = &g\_c->\hyperlink{struct_group___chats_a2a89a032b3d68d95f8cbecf4ecec9e74}{chats}[groupnumber];
675 
676     g->\hyperlink{struct_group__c_ade818037fd6c985038ff29656089758d}{status} = \hyperlink{toxcore_2group_8h_a61dadd085c1777f559549e05962b2c9ea168545b20e428420e53744787076c10e}{GROUPCHAT\_STATUS\_CONNECTED};
677     g->\hyperlink{struct_group__c_a50fa99a57ee7c9280fc90b7c33d760d0}{number\_joined} = -1;
678     \hyperlink{crypto__core_8c_a89b4a1a4a7d8bfabdf0e1b60f074e531}{new\_symmetric\_key}(g->\hyperlink{struct_group__c_a590984b7f44686ea4892ffa2651b0cda}{identifier} + 1);
679     g->\hyperlink{struct_group__c_a590984b7f44686ea4892ffa2651b0cda}{identifier}[0] = type;
680     g->\hyperlink{struct_group__c_a264348ec1f724e05464ca97b7c432817}{peer\_number} = 0; \textcolor{comment}{/* Founder is peer 0. */}
681     memcpy(g->\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}->\hyperlink{struct_messenger_ab06a41217a1e9b5985555e19e088ae94}{net\_crypto}->\hyperlink{struct_net___crypto_ae726df8bdc26380e5a6c3187a00d6881}{self\_public\_key}, 
      crypto\_box\_PUBLICKEYBYTES);
682     \textcolor{keywordtype}{int} peer\_index = \hyperlink{toxcore_2group_8c_ad3ec486d9923daaaa99164f1ea392615}{addpeer}(g\_c, groupnumber, g->\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}->
      \hyperlink{struct_messenger_a8b3d6ce8745acc52695e252bdb1531b6}{dht}->\hyperlink{struct_d_h_t_ae726df8bdc26380e5a6c3187a00d6881}{self\_public\_key}, 0);
683 
684     \textcolor{keywordflow}{if} (peer\_index == -1) \{
685         \textcolor{keywordflow}{return} -1;
686     \}
687 
688     \hyperlink{toxcore_2group_8c_a43eba3fa6d10b16fba5c35b6a1b55590}{setnick}(g\_c, groupnumber, peer\_index, g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}->\hyperlink{struct_messenger_a11b8cc6595eea79e65c978209278e683}{name}, g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}->
      \hyperlink{struct_messenger_a3573d7a906b26e9999cd74f2c4066601}{name\_length});
689 
690     \textcolor{keywordflow}{return} groupnumber;
691 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a4fa9eb1ad43b7b9026a861bd2b894461_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a4fa9eb1ad43b7b9026a861bd2b894461_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_ade699d33c1e5ddc42068c02b5be2120c}{\index{toxcore/group.\+c@{toxcore/group.\+c}!add\+\_\+to\+\_\+closest@{add\+\_\+to\+\_\+closest}}
\index{add\+\_\+to\+\_\+closest@{add\+\_\+to\+\_\+closest}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{add\+\_\+to\+\_\+closest}]{\setlength{\rightskip}{0pt plus 5cm}static int add\+\_\+to\+\_\+closest (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{const uint8\+\_\+t $\ast$}]{real\+\_\+pk, }
\item[{const uint8\+\_\+t $\ast$}]{temp\+\_\+pk}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_ade699d33c1e5ddc42068c02b5be2120c}


Definition at line 214 of file group.\+c.



References calculate\+\_\+comp\+\_\+value(), Group\+\_\+c\+::changed, Group\+\_\+c\+::closest\+\_\+peers, D\+E\+S\+I\+R\+E\+D\+\_\+\+C\+L\+O\+S\+E\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S, Group\+\_\+c\+::entry, get\+\_\+group\+\_\+c(), G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+A\+D\+D\+E\+D, i, Group\+\_\+c\+::real\+\_\+pk, and Group\+\_\+c\+::temp\+\_\+pk.



Referenced by addpeer(), and connect\+\_\+to\+\_\+closest().


\begin{DoxyCode}
215 \{
216     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
217 
218     \textcolor{keywordflow}{if} (!g)
219         \textcolor{keywordflow}{return} -1;
220 
221     \textcolor{keywordflow}{if} (memcmp(g->\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, real\_pk, crypto\_box\_PUBLICKEYBYTES) == 0)
222         \textcolor{keywordflow}{return} -1;
223 
224     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
225     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} index = \hyperlink{toxcore_2group_8h_ae49a7f6c02e0c31ee7e1a84b529f33d7}{DESIRED\_CLOSE\_CONNECTIONS};
226 
227     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{toxcore_2group_8h_ae49a7f6c02e0c31ee7e1a84b529f33d7}{DESIRED\_CLOSE\_CONNECTIONS}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
228         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[i].\hyperlink{struct_group__c_adbdb38b7f14c384804844026547a276e}{entry} && memcmp(real\_pk, g->
      \hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[i].\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, crypto\_box\_PUBLICKEYBYTES) == 0) \{
229             \textcolor{keywordflow}{return} 0;
230         \}
231     \}
232 
233     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{toxcore_2group_8h_ae49a7f6c02e0c31ee7e1a84b529f33d7}{DESIRED\_CLOSE\_CONNECTIONS}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
234         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[i].\hyperlink{struct_group__c_adbdb38b7f14c384804844026547a276e}{entry} == 0) \{
235             index = \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
236             \textcolor{keywordflow}{break};
237         \}
238     \}
239 
240     \textcolor{keywordflow}{if} (index == DESIRED\_CLOSE\_CONNECTIONS) \{
241         uint64\_t comp\_val = \hyperlink{toxcore_2group_8c_afb13bc1afd72ceb013653353d9a82ac8}{calculate\_comp\_value}(g->\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, real\_pk);
242         uint64\_t comp\_d = 0;
243 
244         \textcolor{keywordflow}{for} (i = 0; i < (DESIRED\_CLOSE\_CONNECTIONS / 2); ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
245             uint64\_t comp;
246             comp = \hyperlink{toxcore_2group_8c_afb13bc1afd72ceb013653353d9a82ac8}{calculate\_comp\_value}(g->\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, g->
      \hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[i].\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk});
247 
248             \textcolor{keywordflow}{if} (comp > comp\_val && comp > comp\_d) \{
249                 index = \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
250                 comp\_d = comp;
251             \}
252         \}
253 
254         comp\_val = \hyperlink{toxcore_2group_8c_afb13bc1afd72ceb013653353d9a82ac8}{calculate\_comp\_value}(real\_pk, g->\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk});
255 
256         \textcolor{keywordflow}{for} (i = (DESIRED\_CLOSE\_CONNECTIONS / 2); i < \hyperlink{toxcore_2group_8h_ae49a7f6c02e0c31ee7e1a84b529f33d7}{DESIRED\_CLOSE\_CONNECTIONS}; +
      +\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
257             uint64\_t comp = \hyperlink{toxcore_2group_8c_afb13bc1afd72ceb013653353d9a82ac8}{calculate\_comp\_value}(g->
      \hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[i].\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, g->\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk});
258 
259             \textcolor{keywordflow}{if} (comp > comp\_val && comp > comp\_d) \{
260                 index = \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
261                 comp\_d = comp;
262             \}
263         \}
264     \}
265 
266     \textcolor{keywordflow}{if} (index == DESIRED\_CLOSE\_CONNECTIONS) \{
267         \textcolor{keywordflow}{return} -1;
268     \}
269 
270     uint8\_t old\_real\_pk[crypto\_box\_PUBLICKEYBYTES];
271     uint8\_t old\_temp\_pk[crypto\_box\_PUBLICKEYBYTES];
272     uint8\_t old = 0;
273 
274     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[index].\hyperlink{struct_group__c_adbdb38b7f14c384804844026547a276e}{entry}) \{
275         memcpy(old\_real\_pk, g->\hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[index].\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, crypto\_box\_PUBLICKEYBYTES)
      ;
276         memcpy(old\_temp\_pk, g->\hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[index].\hyperlink{struct_group__c_a46affbcc202b25e96fd1f5238e9e97e0}{temp\_pk}, crypto\_box\_PUBLICKEYBYTES)
      ;
277         old = 1;
278     \}
279 
280     g->\hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[index].\hyperlink{struct_group__c_adbdb38b7f14c384804844026547a276e}{entry} = 1;
281     memcpy(g->\hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[index].\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, real\_pk, crypto\_box\_PUBLICKEYBYTES);
282     memcpy(g->\hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[index].\hyperlink{struct_group__c_a46affbcc202b25e96fd1f5238e9e97e0}{temp\_pk}, temp\_pk, crypto\_box\_PUBLICKEYBYTES);
283 
284     \textcolor{keywordflow}{if} (old) \{
285         \hyperlink{toxcore_2group_8c_ade699d33c1e5ddc42068c02b5be2120c}{add\_to\_closest}(g\_c, groupnumber, old\_real\_pk, old\_temp\_pk);
286     \}
287 
288     \textcolor{keywordflow}{if} (!g->\hyperlink{struct_group__c_aab3e81d63c7e7e9e693aa0f5fb574fa4}{changed})
289         g->\hyperlink{struct_group__c_aab3e81d63c7e7e9e693aa0f5fb574fa4}{changed} = \hyperlink{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06ca7329462edf5727ff91ee6151d657b934}{GROUPCHAT\_CLOSEST\_ADDED};
290 
291     \textcolor{keywordflow}{return} 0;
292 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ade699d33c1e5ddc42068c02b5be2120c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ade699d33c1e5ddc42068c02b5be2120c_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_ad3ec486d9923daaaa99164f1ea392615}{\index{toxcore/group.\+c@{toxcore/group.\+c}!addpeer@{addpeer}}
\index{addpeer@{addpeer}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{addpeer}]{\setlength{\rightskip}{0pt plus 5cm}static int addpeer (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{const uint8\+\_\+t $\ast$}]{real\+\_\+pk, }
\item[{const uint8\+\_\+t $\ast$}]{temp\+\_\+pk, }
\item[{uint16\+\_\+t}]{peer\+\_\+number}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_ad3ec486d9923daaaa99164f1ea392615}


Definition at line 384 of file group.\+c.



References add\+\_\+to\+\_\+closest(), C\+H\+A\+T\+\_\+\+C\+H\+A\+N\+G\+E\+\_\+\+P\+E\+E\+R\+\_\+\+A\+D\+D, get\+\_\+group\+\_\+c(), get\+\_\+peer\+\_\+index(), Group\+\_\+c\+::group, Group\+\_\+\+Chats\+::group\+\_\+namelistchange\+\_\+userdata, id\+\_\+copy(), Group\+\_\+\+Peer\+::last\+\_\+recv, Group\+\_\+\+Chats\+::m, Group\+\_\+c\+::numpeers, Group\+\_\+c\+::object, peer\+\_\+in\+\_\+chat(), Group\+\_\+\+Chats\+::peer\+\_\+namelistchange, Group\+\_\+\+Peer\+::peer\+\_\+number, Group\+\_\+c\+::peer\+\_\+on\+\_\+join, Group\+\_\+\+Peer\+::real\+\_\+pk, Group\+\_\+\+Peer\+::temp\+\_\+pk, and unix\+\_\+time().



Referenced by add\+\_\+groupchat(), handle\+\_\+friend\+\_\+invite\+\_\+packet(), handle\+\_\+message\+\_\+packet\+\_\+group(), and handle\+\_\+send\+\_\+peers().


\begin{DoxyCode}
386 \{
387     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
388 
389     \textcolor{keywordflow}{if} (!g)
390         \textcolor{keywordflow}{return} -1;
391 
392     \textcolor{comment}{//TODO}
393     \textcolor{keywordtype}{int} peer\_index = \hyperlink{toxcore_2group_8c_ae26131e8118b841386363fb776dfbdc7}{peer\_in\_chat}(g, real\_pk);
394 
395     \textcolor{keywordflow}{if} (peer\_index != -1) \{
396         \hyperlink{util_8c_aa30049b8c1d82c280d6d872feea3353b}{id\_copy}(g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_a46affbcc202b25e96fd1f5238e9e97e0}{temp\_pk}, temp\_pk);
397 
398         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_a264348ec1f724e05464ca97b7c432817}{peer\_number} != peer\_number)
399             \textcolor{keywordflow}{return} -1;
400 
401         \textcolor{keywordflow}{return} peer\_index;
402     \}
403 
404     peer\_index = \hyperlink{toxcore_2group_8c_a18b922ce66f2c13f374c3981f369441b}{get\_peer\_index}(g, peer\_number);
405 
406     \textcolor{keywordflow}{if} (peer\_index != -1)
407         \textcolor{keywordflow}{return} -1;
408 
409     \hyperlink{struct_group___peer}{Group\_Peer} *temp;
410     temp = realloc(g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}, \textcolor{keyword}{sizeof}(\hyperlink{struct_group___peer}{Group\_Peer}) * (g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers} + 1));
411 
412     \textcolor{keywordflow}{if} (temp == NULL)
413         \textcolor{keywordflow}{return} -1;
414 
415     memset(&(temp[g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers}]), 0, \textcolor{keyword}{sizeof}(\hyperlink{struct_group___peer}{Group\_Peer}));
416     g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group} = temp;
417 
418     \hyperlink{util_8c_aa30049b8c1d82c280d6d872feea3353b}{id\_copy}(g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers}].\hyperlink{struct_group___peer_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, real\_pk);
419     \hyperlink{util_8c_aa30049b8c1d82c280d6d872feea3353b}{id\_copy}(g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers}].\hyperlink{struct_group___peer_a46affbcc202b25e96fd1f5238e9e97e0}{temp\_pk}, temp\_pk);
420     g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers}].\hyperlink{struct_group___peer_a264348ec1f724e05464ca97b7c432817}{peer\_number} = peer\_number;
421 
422     g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers}].\hyperlink{struct_group___peer_a03706feea89530a7ac78082fc79ed8fc}{last\_recv} = \hyperlink{util_8c_ac958d9f8847cb8039444bfa3d304233a}{unix\_time}();
423     ++g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers};
424 
425     \hyperlink{toxcore_2group_8c_ade699d33c1e5ddc42068c02b5be2120c}{add\_to\_closest}(g\_c, groupnumber, real\_pk, temp\_pk);
426 
427     \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_a3f11f69cf6d4e6d1ed57b5306b097baf}{peer\_namelistchange})
428         g\_c->\hyperlink{struct_group___chats_a3f11f69cf6d4e6d1ed57b5306b097baf}{peer\_namelistchange}(g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}, groupnumber, g->
      \hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers} - 1, \hyperlink{toxcore_2group_8h_abed82baf7f470b522273a3e37c24c600afadf167439e54399b2a3d6414d8ccf95}{CHAT\_CHANGE\_PEER\_ADD},
429                                  g\_c->\hyperlink{struct_group___chats_a4c6b98ab07da7e69ecb7ae245f765984}{group\_namelistchange\_userdata});
430 
431     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a218cd2e97bdb682b90f72faa6eb08576}{peer\_on\_join})
432         g->\hyperlink{struct_group__c_a218cd2e97bdb682b90f72faa6eb08576}{peer\_on\_join}(g->\hyperlink{struct_group__c_a077376d12464f945e2414d5499c79b3f}{object}, groupnumber, g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers} - 1);
433 
434     \textcolor{keywordflow}{return} (g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers} - 1);
435 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ad3ec486d9923daaaa99164f1ea392615_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ad3ec486d9923daaaa99164f1ea392615_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_afb13bc1afd72ceb013653353d9a82ac8}{\index{toxcore/group.\+c@{toxcore/group.\+c}!calculate\+\_\+comp\+\_\+value@{calculate\+\_\+comp\+\_\+value}}
\index{calculate\+\_\+comp\+\_\+value@{calculate\+\_\+comp\+\_\+value}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{calculate\+\_\+comp\+\_\+value}]{\setlength{\rightskip}{0pt plus 5cm}static uint64\+\_\+t calculate\+\_\+comp\+\_\+value (
\begin{DoxyParamCaption}
\item[{const uint8\+\_\+t $\ast$}]{pk1, }
\item[{const uint8\+\_\+t $\ast$}]{pk2}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_afb13bc1afd72ceb013653353d9a82ac8}


Definition at line 191 of file group.\+c.



References i.



Referenced by add\+\_\+to\+\_\+closest(), and send\+\_\+lossy\+\_\+all\+\_\+close().


\begin{DoxyCode}
192 \{
193     uint64\_t cmp1 = 0, cmp2 = 0;
194 
195     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
196 
197     \textcolor{keywordflow}{for} (i = 0; i < \textcolor{keyword}{sizeof}(uint64\_t); ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
198         cmp1 = (cmp1 << 8) + (uint64\_t)pk1[\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}];
199         cmp2 = (cmp2 << 8) + (uint64\_t)pk2[\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}];
200     \}
201 
202     \textcolor{keywordflow}{return} (cmp1 - cmp2);
203 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_afb13bc1afd72ceb013653353d9a82ac8_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a3d26dd5b26565b3050268f7dc86f648c}{\index{toxcore/group.\+c@{toxcore/group.\+c}!callback\+\_\+groupchat\+\_\+delete@{callback\+\_\+groupchat\+\_\+delete}}
\index{callback\+\_\+groupchat\+\_\+delete@{callback\+\_\+groupchat\+\_\+delete}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{callback\+\_\+groupchat\+\_\+delete}]{\setlength{\rightskip}{0pt plus 5cm}int callback\+\_\+groupchat\+\_\+delete (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{void($\ast$)(void $\ast$, int)}]{function}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a3d26dd5b26565b3050268f7dc86f648c}


Definition at line 1098 of file group.\+c.



References get\+\_\+group\+\_\+c(), and Group\+\_\+c\+::group\+\_\+on\+\_\+delete.



Referenced by groupchat\+\_\+enable\+\_\+av().


\begin{DoxyCode}
1099 \{
1100     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
1101 
1102     \textcolor{keywordflow}{if} (!g)
1103         \textcolor{keywordflow}{return} -1;
1104 
1105     g->\hyperlink{struct_group__c_a43df326d671eb30dd294d5d71d3cd09c}{group\_on\_delete} = \textcolor{keyword}{function};
1106     \textcolor{keywordflow}{return} 0;
1107 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a3d26dd5b26565b3050268f7dc86f648c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a3d26dd5b26565b3050268f7dc86f648c_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a52cfb119bc0747a9b4d4fdd845ce44a0}{\index{toxcore/group.\+c@{toxcore/group.\+c}!callback\+\_\+groupchat\+\_\+peer\+\_\+delete@{callback\+\_\+groupchat\+\_\+peer\+\_\+delete}}
\index{callback\+\_\+groupchat\+\_\+peer\+\_\+delete@{callback\+\_\+groupchat\+\_\+peer\+\_\+delete}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{callback\+\_\+groupchat\+\_\+peer\+\_\+delete}]{\setlength{\rightskip}{0pt plus 5cm}int callback\+\_\+groupchat\+\_\+peer\+\_\+delete (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{void($\ast$)(void $\ast$, int, int, void $\ast$)}]{function}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a52cfb119bc0747a9b4d4fdd845ce44a0}


Definition at line 1080 of file group.\+c.



References get\+\_\+group\+\_\+c(), and Group\+\_\+c\+::peer\+\_\+on\+\_\+leave.



Referenced by groupchat\+\_\+enable\+\_\+av().


\begin{DoxyCode}
1081 \{
1082     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
1083 
1084     \textcolor{keywordflow}{if} (!g)
1085         \textcolor{keywordflow}{return} -1;
1086 
1087     g->\hyperlink{struct_group__c_a7a79b984292a5ea1f68aca7b73067370}{peer\_on\_leave} = \textcolor{keyword}{function};
1088     \textcolor{keywordflow}{return} 0;
1089 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a52cfb119bc0747a9b4d4fdd845ce44a0_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a52cfb119bc0747a9b4d4fdd845ce44a0_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_ac5a08e9cc9e4615a8702b642885b70b2}{\index{toxcore/group.\+c@{toxcore/group.\+c}!callback\+\_\+groupchat\+\_\+peer\+\_\+new@{callback\+\_\+groupchat\+\_\+peer\+\_\+new}}
\index{callback\+\_\+groupchat\+\_\+peer\+\_\+new@{callback\+\_\+groupchat\+\_\+peer\+\_\+new}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{callback\+\_\+groupchat\+\_\+peer\+\_\+new}]{\setlength{\rightskip}{0pt plus 5cm}int callback\+\_\+groupchat\+\_\+peer\+\_\+new (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{void($\ast$)(void $\ast$, int, int)}]{function}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_ac5a08e9cc9e4615a8702b642885b70b2}


Definition at line 1062 of file group.\+c.



References get\+\_\+group\+\_\+c(), and Group\+\_\+c\+::peer\+\_\+on\+\_\+join.



Referenced by groupchat\+\_\+enable\+\_\+av().


\begin{DoxyCode}
1063 \{
1064     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
1065 
1066     \textcolor{keywordflow}{if} (!g)
1067         \textcolor{keywordflow}{return} -1;
1068 
1069     g->\hyperlink{struct_group__c_a218cd2e97bdb682b90f72faa6eb08576}{peer\_on\_join} = \textcolor{keyword}{function};
1070     \textcolor{keywordflow}{return} 0;
1071 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ac5a08e9cc9e4615a8702b642885b70b2_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ac5a08e9cc9e4615a8702b642885b70b2_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_ab08da4834d9772b1ef1f3b35ae5197c1}{\index{toxcore/group.\+c@{toxcore/group.\+c}!connect\+\_\+to\+\_\+closest@{connect\+\_\+to\+\_\+closest}}
\index{connect\+\_\+to\+\_\+closest@{connect\+\_\+to\+\_\+closest}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{connect\+\_\+to\+\_\+closest}]{\setlength{\rightskip}{0pt plus 5cm}static int connect\+\_\+to\+\_\+closest (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_ab08da4834d9772b1ef1f3b35ae5197c1}


Definition at line 312 of file group.\+c.



References add\+\_\+conn\+\_\+to\+\_\+groupchat(), add\+\_\+to\+\_\+closest(), Group\+\_\+c\+::changed, Group\+\_\+c\+::close, Group\+\_\+c\+::closest, Group\+\_\+c\+::closest\+\_\+peers, D\+E\+S\+I\+R\+E\+D\+\_\+\+C\+L\+O\+S\+E\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S, Group\+\_\+c\+::entry, Group\+\_\+\+Chats\+::fr\+\_\+c, friend\+\_\+con\+\_\+connected(), F\+R\+I\+E\+N\+D\+C\+O\+N\+N\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+E\+D, get\+\_\+friendcon\+\_\+public\+\_\+keys(), get\+\_\+group\+\_\+c(), getfriend\+\_\+conn\+\_\+id\+\_\+pk(), Group\+\_\+c\+::group, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+N\+O\+N\+E, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+N\+O\+N\+E, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+R\+E\+M\+O\+V\+E\+D, i, Group\+\_\+c\+::identifier, kill\+\_\+friend\+\_\+connection(), M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S, new\+\_\+friend\+\_\+connection(), Group\+\_\+c\+::number, Group\+\_\+c\+::numpeers, pk\+\_\+in\+\_\+closest\+\_\+peers(), Group\+\_\+\+Peer\+::real\+\_\+pk, Group\+\_\+c\+::real\+\_\+pk, send\+\_\+packet\+\_\+online(), set\+\_\+dht\+\_\+temp\+\_\+pk(), Group\+\_\+\+Peer\+::temp\+\_\+pk, Group\+\_\+c\+::temp\+\_\+pk, and Group\+\_\+c\+::type.



Referenced by do\+\_\+groupchats().


\begin{DoxyCode}
313 \{
314     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
315 
316     \textcolor{keywordflow}{if} (!g)
317         \textcolor{keywordflow}{return} -1;
318 
319     \textcolor{keywordflow}{if} (!g->\hyperlink{struct_group__c_aab3e81d63c7e7e9e693aa0f5fb574fa4}{changed})
320         \textcolor{keywordflow}{return} 0;
321 
322     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
323 
324     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_aab3e81d63c7e7e9e693aa0f5fb574fa4}{changed} == \hyperlink{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06cad2375f5fc1db8b2b331ad543b6e58b3b}{GROUPCHAT\_CLOSEST\_REMOVED}) \{
325         \textcolor{keywordflow}{for} (i = 0; i < g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
326             \hyperlink{toxcore_2group_8c_ade699d33c1e5ddc42068c02b5be2120c}{add\_to\_closest}(g\_c, groupnumber, g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[i].
      \hyperlink{struct_group___peer_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[i].\hyperlink{struct_group___peer_a46affbcc202b25e96fd1f5238e9e97e0}{temp\_pk});
327         \}
328     \}
329 
330     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{toxcore_2group_8h_ab4d6c744a36e49e0aa6cb3f1ea3de0f7}{MAX\_GROUP\_CONNECTIONS}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
331         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} == \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2daec225048274e40e0a1517f1afc008834}{GROUPCHAT\_CLOSE\_NONE})
332             \textcolor{keywordflow}{continue};
333 
334         \textcolor{keywordflow}{if} (!g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].\hyperlink{struct_group__c_a8ff1adca518d82728e7d450f6d14e8db}{closest})
335             \textcolor{keywordflow}{continue};
336 
337         uint8\_t real\_pk[crypto\_box\_PUBLICKEYBYTES];
338         uint8\_t dht\_temp\_pk[crypto\_box\_PUBLICKEYBYTES];
339         \hyperlink{friend__connection_8c_a4605fa0bd8ff3f9bd217ee6dcadbfe5f}{get\_friendcon\_public\_keys}(real\_pk, dht\_temp\_pk, g\_c->
      \hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].\hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number});
340 
341         \textcolor{keywordflow}{if} (!\hyperlink{toxcore_2group_8c_acca24c6bbacf8e09ca3e50f96be6fc28}{pk\_in\_closest\_peers}(g, real\_pk)) \{
342             g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} = \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2daec225048274e40e0a1517f1afc008834}{GROUPCHAT\_CLOSE\_NONE};
343             \hyperlink{friend__connection_8c_a5f311791c0ec4ecd8fdf5359cf7fb95a}{kill\_friend\_connection}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].
      \hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number});
344         \}
345     \}
346 
347     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{toxcore_2group_8h_ae49a7f6c02e0c31ee7e1a84b529f33d7}{DESIRED\_CLOSE\_CONNECTIONS}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
348         \textcolor{keywordflow}{if} (!g->\hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[i].\hyperlink{struct_group__c_adbdb38b7f14c384804844026547a276e}{entry})
349             \textcolor{keywordflow}{continue};
350 
351         \textcolor{keywordtype}{int} friendcon\_id = \hyperlink{friend__connection_8c_a97c5d86b2475e17f2cda62ad13df1bea}{getfriend\_conn\_id\_pk}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, g->
      \hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[i].\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk});
352 
353         uint8\_t lock = 1;
354 
355         \textcolor{keywordflow}{if} (friendcon\_id == -1) \{
356             friendcon\_id = \hyperlink{friend__connection_8c_a613a80a004fccd616de2a67d84a25d3c}{new\_friend\_connection}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, g->
      \hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[i].\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk});
357             lock = 0;
358 
359             \textcolor{keywordflow}{if} (friendcon\_id == -1) \{
360                 \textcolor{keywordflow}{continue};
361             \}
362 
363             \hyperlink{friend__connection_8c_a04fb221a2ac726ec3ca86be7b1e63238}{set\_dht\_temp\_pk}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, friendcon\_id, g->
      \hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[i].\hyperlink{struct_group__c_a46affbcc202b25e96fd1f5238e9e97e0}{temp\_pk});
364         \}
365 
366         \hyperlink{toxcore_2group_8c_ab48e96a53cc90551754943ce3df01673}{add\_conn\_to\_groupchat}(g\_c, friendcon\_id, groupnumber, 1, lock);
367 
368         \textcolor{keywordflow}{if} (\hyperlink{friend__connection_8c_ae5c94f8543c84506c85faac6d2b3a9dd}{friend\_con\_connected}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, friendcon\_id) == 
      \hyperlink{friend__connection_8h_a99fb83031ce9923c84392b4e92f956b5ad8c8e0080a23ea8dc2a883e4321f0598}{FRIENDCONN\_STATUS\_CONNECTED}) \{
369             \hyperlink{toxcore_2group_8c_af7c31fe40ea58b07c87e38ef94f13eac}{send\_packet\_online}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, friendcon\_id, groupnumber, g->
      \hyperlink{struct_group__c_a590984b7f44686ea4892ffa2651b0cda}{identifier});
370         \}
371     \}
372 
373     g->\hyperlink{struct_group__c_aab3e81d63c7e7e9e693aa0f5fb574fa4}{changed} = \hyperlink{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06ca8840f0a6288b1412981da2317badc8ee}{GROUPCHAT\_CLOSEST\_NONE};
374 
375     \textcolor{keywordflow}{return} 0;
376 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ab08da4834d9772b1ef1f3b35ae5197c1_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ab08da4834d9772b1ef1f3b35ae5197c1_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a9e7eb2c3af67e4b0964ddb553639a0a4}{\index{toxcore/group.\+c@{toxcore/group.\+c}!copy\+\_\+chatlist@{copy\+\_\+chatlist}}
\index{copy\+\_\+chatlist@{copy\+\_\+chatlist}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{copy\+\_\+chatlist}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t copy\+\_\+chatlist (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int32\+\_\+t $\ast$}]{out\+\_\+list, }
\item[{uint32\+\_\+t}]{list\+\_\+size}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a9e7eb2c3af67e4b0964ddb553639a0a4}


Definition at line 2298 of file group.\+c.



References Group\+\_\+\+Chats\+::chats, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+N\+O\+N\+E, i, Group\+\_\+\+Chats\+::num\+\_\+chats, and Group\+\_\+c\+::status.



Referenced by tox\+\_\+get\+\_\+chatlist().


\begin{DoxyCode}
2299 \{
2300     \textcolor{keywordflow}{if} (!out\_list) \{
2301         \textcolor{keywordflow}{return} 0;
2302     \}
2303 
2304     \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats} == 0) \{
2305         \textcolor{keywordflow}{return} 0;
2306     \}
2307 
2308     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}, ret = 0;
2309 
2310     \textcolor{keywordflow}{for} (i = 0; i < g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
2311         \textcolor{keywordflow}{if} (ret >= list\_size) \{
2312             \textcolor{keywordflow}{break};  \textcolor{comment}{/* Abandon ship */}
2313         \}
2314 
2315         \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_a2a89a032b3d68d95f8cbecf4ecec9e74}{chats}[i].\hyperlink{struct_group__c_ade818037fd6c985038ff29656089758d}{status} > \hyperlink{toxcore_2group_8h_a61dadd085c1777f559549e05962b2c9ea3de12837ac42b1a52f94f44781442f78}{GROUPCHAT\_STATUS\_NONE}) \{
2316             out\_list[ret] = \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
2317             ret++;
2318         \}
2319     \}
2320 
2321     \textcolor{keywordflow}{return} ret;
2322 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=276pt]{df/de9/toxcore_2group_8c_a9e7eb2c3af67e4b0964ddb553639a0a4_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_ac8db2e732a8872d2f5f4113eddab07d6}{\index{toxcore/group.\+c@{toxcore/group.\+c}!count\+\_\+chatlist@{count\+\_\+chatlist}}
\index{count\+\_\+chatlist@{count\+\_\+chatlist}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{count\+\_\+chatlist}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t count\+\_\+chatlist (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_ac8db2e732a8872d2f5f4113eddab07d6}


Definition at line 2279 of file group.\+c.



References Group\+\_\+\+Chats\+::chats, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+N\+O\+N\+E, i, Group\+\_\+\+Chats\+::num\+\_\+chats, and Group\+\_\+c\+::status.



Referenced by tox\+\_\+count\+\_\+chatlist().


\begin{DoxyCode}
2280 \{
2281     uint32\_t ret = 0;
2282     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
2283 
2284     \textcolor{keywordflow}{for} (i = 0; i < g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats}; i++) \{
2285         \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_a2a89a032b3d68d95f8cbecf4ecec9e74}{chats}[i].\hyperlink{struct_group__c_ade818037fd6c985038ff29656089758d}{status} != \hyperlink{toxcore_2group_8h_a61dadd085c1777f559549e05962b2c9ea3de12837ac42b1a52f94f44781442f78}{GROUPCHAT\_STATUS\_NONE}) \{
2286             ret++;
2287         \}
2288     \}
2289 
2290     \textcolor{keywordflow}{return} ret;
2291 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=289pt]{df/de9/toxcore_2group_8c_ac8db2e732a8872d2f5f4113eddab07d6_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a438c9dd8205d89633a55acdac6e1f6f7}{\index{toxcore/group.\+c@{toxcore/group.\+c}!count\+\_\+close\+\_\+connected@{count\+\_\+close\+\_\+connected}}
\index{count\+\_\+close\+\_\+connected@{count\+\_\+close\+\_\+connected}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{count\+\_\+close\+\_\+connected}]{\setlength{\rightskip}{0pt plus 5cm}static unsigned int count\+\_\+close\+\_\+connected (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+c} $\ast$}]{g}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a438c9dd8205d89633a55acdac6e1f6f7}


Definition at line 1344 of file group.\+c.



References Group\+\_\+c\+::close, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+O\+N\+L\+I\+N\+E, i, M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S, and Group\+\_\+c\+::type.



Referenced by handle\+\_\+packet\+\_\+online().


\begin{DoxyCode}
1345 \{
1346     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}, count = 0;
1347 
1348     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{toxcore_2group_8h_ab4d6c744a36e49e0aa6cb3f1ea3de0f7}{MAX\_GROUP\_CONNECTIONS}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
1349         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} == \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2da375697d21bebe66381f9439c657ad7f4}{GROUPCHAT\_CLOSE\_ONLINE}) \{
1350             ++count;
1351         \}
1352     \}
1353 
1354     \textcolor{keywordflow}{return} count;
1355 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a438c9dd8205d89633a55acdac6e1f6f7_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a0a739a733a50acd17a01b9bf0a173d2f}{\index{toxcore/group.\+c@{toxcore/group.\+c}!create\+\_\+group\+\_\+chat@{create\+\_\+group\+\_\+chat}}
\index{create\+\_\+group\+\_\+chat@{create\+\_\+group\+\_\+chat}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{create\+\_\+group\+\_\+chat}]{\setlength{\rightskip}{0pt plus 5cm}static int create\+\_\+group\+\_\+chat (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a0a739a733a50acd17a01b9bf0a173d2f}


Definition at line 77 of file group.\+c.



References Group\+\_\+\+Chats\+::chats, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+N\+O\+N\+E, i, Group\+\_\+\+Chats\+::num\+\_\+chats, realloc\+\_\+groupchats(), and Group\+\_\+c\+::status.



Referenced by add\+\_\+groupchat(), and join\+\_\+groupchat().


\begin{DoxyCode}
78 \{
79     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
80 
81     \textcolor{keywordflow}{for} (i = 0; i < g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
82         \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_a2a89a032b3d68d95f8cbecf4ecec9e74}{chats}[i].\hyperlink{struct_group__c_ade818037fd6c985038ff29656089758d}{status} == \hyperlink{toxcore_2group_8h_a61dadd085c1777f559549e05962b2c9ea3de12837ac42b1a52f94f44781442f78}{GROUPCHAT\_STATUS\_NONE})
83             \textcolor{keywordflow}{return} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
84     \}
85 
86     \textcolor{keywordtype}{int} \textcolor{keywordtype}{id} = -1;
87 
88     \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_a7b1c78c20f59bf1cf3f0713f95d27853}{realloc\_groupchats}(g\_c, g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats} + 1) == 0) \{
89         \textcolor{keywordtype}{id} = g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats};
90         ++g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats};
91         memset(&(g\_c->\hyperlink{struct_group___chats_a2a89a032b3d68d95f8cbecf4ecec9e74}{chats}[\textcolor{keywordtype}{id}]), 0, \textcolor{keyword}{sizeof}(\hyperlink{struct_group__c}{Group\_c}));
92     \}
93 
94     \textcolor{keywordflow}{return} id;
95 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=311pt]{df/de9/toxcore_2group_8c_a0a739a733a50acd17a01b9bf0a173d2f_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a0a739a733a50acd17a01b9bf0a173d2f_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a526817b20616bdf13250e1020d2a1808}{\index{toxcore/group.\+c@{toxcore/group.\+c}!del\+\_\+groupchat@{del\+\_\+groupchat}}
\index{del\+\_\+groupchat@{del\+\_\+groupchat}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{del\+\_\+groupchat}]{\setlength{\rightskip}{0pt plus 5cm}int del\+\_\+groupchat (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a526817b20616bdf13250e1020d2a1808}


Definition at line 699 of file group.\+c.



References Group\+\_\+c\+::close, Group\+\_\+\+Chats\+::fr\+\_\+c, get\+\_\+group\+\_\+c(), Group\+\_\+c\+::group, group\+\_\+kill\+\_\+peer\+\_\+send(), Group\+\_\+c\+::group\+\_\+on\+\_\+delete, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+N\+O\+N\+E, i, kill\+\_\+friend\+\_\+connection(), M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S, Group\+\_\+c\+::number, Group\+\_\+c\+::numpeers, Group\+\_\+\+Peer\+::object, Group\+\_\+c\+::object, Group\+\_\+c\+::peer\+\_\+number, Group\+\_\+c\+::peer\+\_\+on\+\_\+leave, Group\+\_\+c\+::type, and wipe\+\_\+group\+\_\+chat().



Referenced by add\+\_\+av\+\_\+groupchat(), join\+\_\+av\+\_\+groupchat(), kill\+\_\+groupchats(), and tox\+\_\+del\+\_\+groupchat().


\begin{DoxyCode}
700 \{
701     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
702 
703     \textcolor{keywordflow}{if} (!g)
704         \textcolor{keywordflow}{return} -1;
705 
706     \hyperlink{toxcore_2group_8c_af5df5a0281b502226b702bca064df039}{group\_kill\_peer\_send}(g\_c, groupnumber, g->\hyperlink{struct_group__c_a264348ec1f724e05464ca97b7c432817}{peer\_number});
707 
708     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
709 
710     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{toxcore_2group_8h_ab4d6c744a36e49e0aa6cb3f1ea3de0f7}{MAX\_GROUP\_CONNECTIONS}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
711         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} == \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2daec225048274e40e0a1517f1afc008834}{GROUPCHAT\_CLOSE\_NONE})
712             \textcolor{keywordflow}{continue};
713 
714         g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} = \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2daec225048274e40e0a1517f1afc008834}{GROUPCHAT\_CLOSE\_NONE};
715         \hyperlink{friend__connection_8c_a5f311791c0ec4ecd8fdf5359cf7fb95a}{kill\_friend\_connection}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].
      \hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number});
716     \}
717 
718     \textcolor{keywordflow}{for} (i = 0; i < g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
719         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a7a79b984292a5ea1f68aca7b73067370}{peer\_on\_leave})
720             g->\hyperlink{struct_group__c_a7a79b984292a5ea1f68aca7b73067370}{peer\_on\_leave}(g->\hyperlink{struct_group__c_a077376d12464f945e2414d5499c79b3f}{object}, groupnumber, i, g->
      \hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[i].\hyperlink{struct_group___peer_a077376d12464f945e2414d5499c79b3f}{object});
721     \}
722 
723     free(g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group});
724 
725     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a43df326d671eb30dd294d5d71d3cd09c}{group\_on\_delete})
726         g->\hyperlink{struct_group__c_a43df326d671eb30dd294d5d71d3cd09c}{group\_on\_delete}(g->\hyperlink{struct_group__c_a077376d12464f945e2414d5499c79b3f}{object}, groupnumber);
727 
728     \textcolor{keywordflow}{return} \hyperlink{toxcore_2group_8c_a7dfafd474418e29ebd804200d0d4e6e3}{wipe\_group\_chat}(g\_c, groupnumber);
729 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a526817b20616bdf13250e1020d2a1808_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a526817b20616bdf13250e1020d2a1808_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a54efac41dbd172d4443518f006d89b05}{\index{toxcore/group.\+c@{toxcore/group.\+c}!delpeer@{delpeer}}
\index{delpeer@{delpeer}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{delpeer}]{\setlength{\rightskip}{0pt plus 5cm}static int delpeer (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{int}]{peer\+\_\+index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a54efac41dbd172d4443518f006d89b05}


Definition at line 467 of file group.\+c.



References Group\+\_\+c\+::changed, C\+H\+A\+T\+\_\+\+C\+H\+A\+N\+G\+E\+\_\+\+P\+E\+E\+R\+\_\+\+D\+E\+L, Group\+\_\+c\+::closest\+\_\+peers, D\+E\+S\+I\+R\+E\+D\+\_\+\+C\+L\+O\+S\+E\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S, Group\+\_\+c\+::entry, Group\+\_\+\+Chats\+::fr\+\_\+c, get\+\_\+group\+\_\+c(), getfriend\+\_\+conn\+\_\+id\+\_\+pk(), Group\+\_\+c\+::group, Group\+\_\+\+Chats\+::group\+\_\+namelistchange\+\_\+userdata, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+S\+T\+\_\+\+R\+E\+M\+O\+V\+E\+D, i, id\+\_\+equal(), Group\+\_\+\+Chats\+::m, Group\+\_\+c\+::numpeers, Group\+\_\+\+Peer\+::object, Group\+\_\+c\+::object, Group\+\_\+\+Chats\+::peer\+\_\+namelistchange, Group\+\_\+c\+::peer\+\_\+on\+\_\+leave, Group\+\_\+\+Peer\+::real\+\_\+pk, Group\+\_\+c\+::real\+\_\+pk, and remove\+\_\+close\+\_\+conn().



Referenced by groupchat\+\_\+clear\+\_\+timedout(), and handle\+\_\+message\+\_\+packet\+\_\+group().


\begin{DoxyCode}
468 \{
469     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
470 
471     \textcolor{keywordflow}{if} (!g)
472         \textcolor{keywordflow}{return} -1;
473 
474     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
475 
476     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{toxcore_2group_8h_ae49a7f6c02e0c31ee7e1a84b529f33d7}{DESIRED\_CLOSE\_CONNECTIONS}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{ \textcolor{comment}{/* If peer is in
       closest\_peers list, remove it. */}
477         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[i].\hyperlink{struct_group__c_adbdb38b7f14c384804844026547a276e}{entry} && \hyperlink{util_8c_ada3d44b4f530d3c8c9cb69b732be94b1}{id\_equal}(g->
      \hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[i].\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk})) \{
478             g->\hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}].\hyperlink{struct_group__c_adbdb38b7f14c384804844026547a276e}{entry} = 0;
479             g->\hyperlink{struct_group__c_aab3e81d63c7e7e9e693aa0f5fb574fa4}{changed} = \hyperlink{toxcore_2group_8c_adc29c2ff13d900c2f185ee95427fb06cad2375f5fc1db8b2b331ad543b6e58b3b}{GROUPCHAT\_CLOSEST\_REMOVED};
480             \textcolor{keywordflow}{break};
481         \}
482     \}
483 
484     \textcolor{keywordtype}{int} friendcon\_id = \hyperlink{friend__connection_8c_a97c5d86b2475e17f2cda62ad13df1bea}{getfriend\_conn\_id\_pk}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, g->
      \hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk});
485 
486     \textcolor{keywordflow}{if} (friendcon\_id != -1) \{
487         \hyperlink{toxcore_2group_8c_a812cc4cdcdb4821a6624c886e71e2a6c}{remove\_close\_conn}(g\_c, groupnumber, friendcon\_id);
488     \}
489 
490     \hyperlink{struct_group___peer}{Group\_Peer} *temp;
491     --g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers};
492 
493     \textcolor{keywordtype}{void} *peer\_object = g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_a077376d12464f945e2414d5499c79b3f}{object};
494 
495     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers} == 0) \{
496         free(g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group});
497         g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group} = NULL;
498     \} \textcolor{keywordflow}{else} \{
499         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers} != (uint32\_t)peer\_index)
500             memcpy(&g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index], &g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers}], \textcolor{keyword}{sizeof}(
      \hyperlink{struct_group___peer}{Group\_Peer}));
501 
502         temp = realloc(g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}, \textcolor{keyword}{sizeof}(\hyperlink{struct_group___peer}{Group\_Peer}) * (g->
      \hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers}));
503 
504         \textcolor{keywordflow}{if} (temp == NULL)
505             \textcolor{keywordflow}{return} -1;
506 
507         g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group} = temp;
508     \}
509 
510     \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_a3f11f69cf6d4e6d1ed57b5306b097baf}{peer\_namelistchange})
511         g\_c->\hyperlink{struct_group___chats_a3f11f69cf6d4e6d1ed57b5306b097baf}{peer\_namelistchange}(g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}, groupnumber, peer\_index, 
      \hyperlink{toxcore_2group_8h_abed82baf7f470b522273a3e37c24c600a2ddc5324e4aae3b073254a55e56b57bb}{CHAT\_CHANGE\_PEER\_DEL}, g\_c->\hyperlink{struct_group___chats_a4c6b98ab07da7e69ecb7ae245f765984}{group\_namelistchange\_userdata});
512 
513     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a7a79b984292a5ea1f68aca7b73067370}{peer\_on\_leave})
514         g->\hyperlink{struct_group__c_a7a79b984292a5ea1f68aca7b73067370}{peer\_on\_leave}(g->\hyperlink{struct_group__c_a077376d12464f945e2414d5499c79b3f}{object}, groupnumber, peer\_index, peer\_object);
515 
516     \textcolor{keywordflow}{return} 0;
517 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a54efac41dbd172d4443518f006d89b05_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a54efac41dbd172d4443518f006d89b05_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a9529a2149c68cbff38d43419d9ebeecc}{\index{toxcore/group.\+c@{toxcore/group.\+c}!do\+\_\+groupchats@{do\+\_\+groupchats}}
\index{do\+\_\+groupchats@{do\+\_\+groupchats}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{do\+\_\+groupchats}]{\setlength{\rightskip}{0pt plus 5cm}void do\+\_\+groupchats (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a9529a2149c68cbff38d43419d9ebeecc}


Definition at line 2241 of file group.\+c.



References connect\+\_\+to\+\_\+closest(), get\+\_\+group\+\_\+c(), groupchat\+\_\+clear\+\_\+timedout(), G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+E\+D, i, Group\+\_\+\+Chats\+::num\+\_\+chats, ping\+\_\+groupchat(), and Group\+\_\+c\+::status.



Referenced by tox\+\_\+iterate().


\begin{DoxyCode}
2242 \{
2243     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
2244 
2245     \textcolor{keywordflow}{for} (i = 0; i < g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
2246         \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, i);
2247 
2248         \textcolor{keywordflow}{if} (!g)
2249             \textcolor{keywordflow}{continue};
2250 
2251         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_ade818037fd6c985038ff29656089758d}{status} == \hyperlink{toxcore_2group_8h_a61dadd085c1777f559549e05962b2c9ea168545b20e428420e53744787076c10e}{GROUPCHAT\_STATUS\_CONNECTED}) \{
2252             \hyperlink{toxcore_2group_8c_ab08da4834d9772b1ef1f3b35ae5197c1}{connect\_to\_closest}(g\_c, i);
2253             \hyperlink{toxcore_2group_8c_a1103873d88cad80582662eb863fa6c03}{ping\_groupchat}(g\_c, i);
2254             \hyperlink{toxcore_2group_8c_acfda9051487bdd5f51667aea724952e9}{groupchat\_clear\_timedout}(g\_c, i);
2255         \}
2256     \}
2257 
2258     \textcolor{comment}{//TODO}
2259 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a9529a2149c68cbff38d43419d9ebeecc_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a9529a2149c68cbff38d43419d9ebeecc_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_ab33265ba89587d6be3a703043a9619c3}{\index{toxcore/group.\+c@{toxcore/group.\+c}!friend\+\_\+in\+\_\+close@{friend\+\_\+in\+\_\+close}}
\index{friend\+\_\+in\+\_\+close@{friend\+\_\+in\+\_\+close}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{friend\+\_\+in\+\_\+close}]{\setlength{\rightskip}{0pt plus 5cm}static int friend\+\_\+in\+\_\+close (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+c} $\ast$}]{g, }
\item[{int}]{friendcon\+\_\+id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_ab33265ba89587d6be3a703043a9619c3}


Definition at line 1325 of file group.\+c.



References Group\+\_\+c\+::close, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+N\+O\+N\+E, i, M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S, Group\+\_\+c\+::number, and Group\+\_\+c\+::type.



Referenced by handle\+\_\+lossy(), handle\+\_\+packet(), and handle\+\_\+packet\+\_\+online().


\begin{DoxyCode}
1326 \{
1327     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
1328 
1329     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{toxcore_2group_8h_ab4d6c744a36e49e0aa6cb3f1ea3de0f7}{MAX\_GROUP\_CONNECTIONS}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
1330         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} == \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2daec225048274e40e0a1517f1afc008834}{GROUPCHAT\_CLOSE\_NONE})
1331             \textcolor{keywordflow}{continue};
1332 
1333         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].\hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number} != (uint32\_t)friendcon\_id)
1334             \textcolor{keywordflow}{continue};
1335 
1336         \textcolor{keywordflow}{return} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
1337     \}
1338 
1339     \textcolor{keywordflow}{return} -1;
1340 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ab33265ba89587d6be3a703043a9619c3_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_af5c4cc3003dc13ffec6413264fd302b6}{\index{toxcore/group.\+c@{toxcore/group.\+c}!g\+\_\+callback\+\_\+group\+\_\+action@{g\+\_\+callback\+\_\+group\+\_\+action}}
\index{g\+\_\+callback\+\_\+group\+\_\+action@{g\+\_\+callback\+\_\+group\+\_\+action}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{g\+\_\+callback\+\_\+group\+\_\+action}]{\setlength{\rightskip}{0pt plus 5cm}void g\+\_\+callback\+\_\+group\+\_\+action (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{void($\ast$)({\bf Messenger} $\ast${\bf m}, int, int, const uint8\+\_\+t $\ast$, uint16\+\_\+t, void $\ast$)}]{function, }
\item[{void $\ast$}]{userdata}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_af5c4cc3003dc13ffec6413264fd302b6}


Definition at line 1012 of file group.\+c.



References Group\+\_\+\+Chats\+::action\+\_\+callback, and Group\+\_\+\+Chats\+::action\+\_\+callback\+\_\+userdata.



Referenced by tox\+\_\+callback\+\_\+group\+\_\+action().


\begin{DoxyCode}
1014 \{
1015     g\_c->\hyperlink{struct_group___chats_a61996fdab7da709944de726b88872d61}{action\_callback} = \textcolor{keyword}{function};
1016     g\_c->\hyperlink{struct_group___chats_ab8194101242ca87c3ee0fd11f7717569}{action\_callback\_userdata} = userdata;
1017 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_af5c4cc3003dc13ffec6413264fd302b6_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_ac900761f5401134bec49443c866def98}{\index{toxcore/group.\+c@{toxcore/group.\+c}!g\+\_\+callback\+\_\+group\+\_\+invite@{g\+\_\+callback\+\_\+group\+\_\+invite}}
\index{g\+\_\+callback\+\_\+group\+\_\+invite@{g\+\_\+callback\+\_\+group\+\_\+invite}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{g\+\_\+callback\+\_\+group\+\_\+invite}]{\setlength{\rightskip}{0pt plus 5cm}void g\+\_\+callback\+\_\+group\+\_\+invite (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{void($\ast$)({\bf Messenger} $\ast${\bf m}, int32\+\_\+t, uint8\+\_\+t, const uint8\+\_\+t $\ast$, uint16\+\_\+t, void $\ast$)}]{function, }
\item[{void $\ast$}]{userdata}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_ac900761f5401134bec49443c866def98}


Definition at line 990 of file group.\+c.



References Group\+\_\+\+Chats\+::invite\+\_\+callback, and Group\+\_\+\+Chats\+::invite\+\_\+callback\+\_\+userdata.



Referenced by tox\+\_\+callback\+\_\+group\+\_\+invite().


\begin{DoxyCode}
992 \{
993     g\_c->\hyperlink{struct_group___chats_a4ff3e6778b94fb9425a4b36572a0bf8b}{invite\_callback} = \textcolor{keyword}{function};
994     g\_c->\hyperlink{struct_group___chats_a4a640f20c34159b06875274fedf9dc69}{invite\_callback\_userdata} = userdata;
995 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ac900761f5401134bec49443c866def98_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a43c7333276eeb0792b4157dd90789957}{\index{toxcore/group.\+c@{toxcore/group.\+c}!g\+\_\+callback\+\_\+group\+\_\+message@{g\+\_\+callback\+\_\+group\+\_\+message}}
\index{g\+\_\+callback\+\_\+group\+\_\+message@{g\+\_\+callback\+\_\+group\+\_\+message}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{g\+\_\+callback\+\_\+group\+\_\+message}]{\setlength{\rightskip}{0pt plus 5cm}void g\+\_\+callback\+\_\+group\+\_\+message (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{void($\ast$)({\bf Messenger} $\ast${\bf m}, int, int, const uint8\+\_\+t $\ast$, uint16\+\_\+t, void $\ast$)}]{function, }
\item[{void $\ast$}]{userdata}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a43c7333276eeb0792b4157dd90789957}


Definition at line 1001 of file group.\+c.



References Group\+\_\+\+Chats\+::message\+\_\+callback, and Group\+\_\+\+Chats\+::message\+\_\+callback\+\_\+userdata.



Referenced by tox\+\_\+callback\+\_\+group\+\_\+message().


\begin{DoxyCode}
1003 \{
1004     g\_c->\hyperlink{struct_group___chats_a0f49e6a148c90647f5280d35d0f7a9d0}{message\_callback} = \textcolor{keyword}{function};
1005     g\_c->\hyperlink{struct_group___chats_a593c4aa670d5dc3d9fcd842fb8d5a6fe}{message\_callback\_userdata} = userdata;
1006 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a43c7333276eeb0792b4157dd90789957_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a30b3538c4447bd279b31e423bc96984f}{\index{toxcore/group.\+c@{toxcore/group.\+c}!g\+\_\+callback\+\_\+group\+\_\+namelistchange@{g\+\_\+callback\+\_\+group\+\_\+namelistchange}}
\index{g\+\_\+callback\+\_\+group\+\_\+namelistchange@{g\+\_\+callback\+\_\+group\+\_\+namelistchange}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{g\+\_\+callback\+\_\+group\+\_\+namelistchange}]{\setlength{\rightskip}{0pt plus 5cm}void g\+\_\+callback\+\_\+group\+\_\+namelistchange (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{void($\ast$)({\bf Messenger} $\ast${\bf m}, int, int, uint8\+\_\+t, void $\ast$)}]{function, }
\item[{void $\ast$}]{userdata}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a30b3538c4447bd279b31e423bc96984f}


Definition at line 1036 of file group.\+c.



References Group\+\_\+\+Chats\+::group\+\_\+namelistchange\+\_\+userdata, and Group\+\_\+\+Chats\+::peer\+\_\+namelistchange.



Referenced by tox\+\_\+callback\+\_\+group\+\_\+namelist\+\_\+change().


\begin{DoxyCode}
1038 \{
1039     g\_c->\hyperlink{struct_group___chats_a3f11f69cf6d4e6d1ed57b5306b097baf}{peer\_namelistchange} = \textcolor{keyword}{function};
1040     g\_c->\hyperlink{struct_group___chats_a4c6b98ab07da7e69ecb7ae245f765984}{group\_namelistchange\_userdata} = userdata;
1041 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a30b3538c4447bd279b31e423bc96984f_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a4819b45e57736979652615714cf9dbfe}{\index{toxcore/group.\+c@{toxcore/group.\+c}!g\+\_\+callback\+\_\+group\+\_\+title@{g\+\_\+callback\+\_\+group\+\_\+title}}
\index{g\+\_\+callback\+\_\+group\+\_\+title@{g\+\_\+callback\+\_\+group\+\_\+title}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{g\+\_\+callback\+\_\+group\+\_\+title}]{\setlength{\rightskip}{0pt plus 5cm}void g\+\_\+callback\+\_\+group\+\_\+title (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{void($\ast$)({\bf Messenger} $\ast${\bf m}, int, int, const uint8\+\_\+t $\ast$, uint8\+\_\+t, void $\ast$)}]{function, }
\item[{void $\ast$}]{userdata}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a4819b45e57736979652615714cf9dbfe}


Definition at line 1048 of file group.\+c.



References Group\+\_\+\+Chats\+::title\+\_\+callback, and Group\+\_\+\+Chats\+::title\+\_\+callback\+\_\+userdata.



Referenced by tox\+\_\+callback\+\_\+group\+\_\+title().


\begin{DoxyCode}
1050 \{
1051     g\_c->\hyperlink{struct_group___chats_a3a2940882c161941fd7f3274064bd594}{title\_callback} = \textcolor{keyword}{function};
1052     g\_c->\hyperlink{struct_group___chats_a75c386ae84b59f8f38e02cd0f841ba8b}{title\_callback\_userdata} = userdata;
1053 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{df/de9/toxcore_2group_8c_a4819b45e57736979652615714cf9dbfe_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{\index{toxcore/group.\+c@{toxcore/group.\+c}!get\+\_\+group\+\_\+c@{get\+\_\+group\+\_\+c}}
\index{get\+\_\+group\+\_\+c@{get\+\_\+group\+\_\+c}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{get\+\_\+group\+\_\+c}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf Group\+\_\+c}$\ast$ get\+\_\+group\+\_\+c (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}


Definition at line 124 of file group.\+c.



References Group\+\_\+\+Chats\+::chats, and groupnumber\+\_\+not\+\_\+valid().



Referenced by add\+\_\+conn\+\_\+to\+\_\+groupchat(), add\+\_\+to\+\_\+closest(), addpeer(), callback\+\_\+groupchat\+\_\+delete(), callback\+\_\+groupchat\+\_\+peer\+\_\+delete(), callback\+\_\+groupchat\+\_\+peer\+\_\+new(), connect\+\_\+to\+\_\+closest(), del\+\_\+groupchat(), delpeer(), do\+\_\+groupchats(), group\+\_\+get\+\_\+object(), group\+\_\+get\+\_\+type(), group\+\_\+names(), group\+\_\+number\+\_\+peers(), group\+\_\+peer\+\_\+get\+\_\+object(), group\+\_\+peer\+\_\+pubkey(), group\+\_\+peer\+\_\+set\+\_\+object(), group\+\_\+peername(), group\+\_\+peernumber\+\_\+is\+\_\+ours(), group\+\_\+set\+\_\+object(), group\+\_\+title\+\_\+get(), group\+\_\+title\+\_\+send(), groupchat\+\_\+clear\+\_\+timedout(), handle\+\_\+direct\+\_\+packet(), handle\+\_\+friend\+\_\+invite\+\_\+packet(), handle\+\_\+lossy(), handle\+\_\+message\+\_\+packet\+\_\+group(), handle\+\_\+packet(), handle\+\_\+packet\+\_\+online(), handle\+\_\+send\+\_\+peers(), invite\+\_\+friend(), ping\+\_\+groupchat(), remove\+\_\+close\+\_\+conn(), send\+\_\+group\+\_\+lossy\+\_\+packet(), send\+\_\+lossy\+\_\+all\+\_\+close(), send\+\_\+message\+\_\+all\+\_\+close(), send\+\_\+message\+\_\+group(), send\+\_\+name\+\_\+all\+\_\+groups(), send\+\_\+peers(), set\+\_\+conns\+\_\+type\+\_\+close(), setnick(), and settitle().


\begin{DoxyCode}
125 \{
126     \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_a4ffc6ae8485f94d9177baf65f777c72e}{groupnumber\_not\_valid}(g\_c, groupnumber))
127         \textcolor{keywordflow}{return} 0;
128 
129     \textcolor{keywordflow}{return} &g\_c->\hyperlink{struct_group___chats_a2a89a032b3d68d95f8cbecf4ecec9e74}{chats}[groupnumber];
130 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=303pt]{df/de9/toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a9915d747670099a44c1e14b939ea5363}{\index{toxcore/group.\+c@{toxcore/group.\+c}!get\+\_\+group\+\_\+num@{get\+\_\+group\+\_\+num}}
\index{get\+\_\+group\+\_\+num@{get\+\_\+group\+\_\+num}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{get\+\_\+group\+\_\+num}]{\setlength{\rightskip}{0pt plus 5cm}static int get\+\_\+group\+\_\+num (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{const uint8\+\_\+t $\ast$}]{identifier}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a9915d747670099a44c1e14b939ea5363}


Definition at line 160 of file group.\+c.



References Group\+\_\+\+Chats\+::chats, G\+R\+O\+U\+P\+\_\+\+I\+D\+E\+N\+T\+I\+F\+I\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H, i, Group\+\_\+c\+::identifier, and Group\+\_\+\+Chats\+::num\+\_\+chats.



Referenced by handle\+\_\+friend\+\_\+invite\+\_\+packet(), handle\+\_\+packet\+\_\+online(), and join\+\_\+groupchat().


\begin{DoxyCode}
161 \{
162     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
163 
164     \textcolor{keywordflow}{for} (i = 0; i < g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i})
165         \textcolor{keywordflow}{if} (memcmp(g\_c->\hyperlink{struct_group___chats_a2a89a032b3d68d95f8cbecf4ecec9e74}{chats}[i].\hyperlink{struct_group__c_a590984b7f44686ea4892ffa2651b0cda}{identifier}, identifier, 
      \hyperlink{toxcore_2group_8h_abe67a1388deb599ec26ecae07a1d4e9e}{GROUP\_IDENTIFIER\_LENGTH}) == 0)
166             \textcolor{keywordflow}{return} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
167 
168     \textcolor{keywordflow}{return} -1;
169 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a9915d747670099a44c1e14b939ea5363_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a18b922ce66f2c13f374c3981f369441b}{\index{toxcore/group.\+c@{toxcore/group.\+c}!get\+\_\+peer\+\_\+index@{get\+\_\+peer\+\_\+index}}
\index{get\+\_\+peer\+\_\+index@{get\+\_\+peer\+\_\+index}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{get\+\_\+peer\+\_\+index}]{\setlength{\rightskip}{0pt plus 5cm}static int get\+\_\+peer\+\_\+index (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+c} $\ast$}]{g, }
\item[{uint16\+\_\+t}]{peer\+\_\+number}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a18b922ce66f2c13f374c3981f369441b}


Definition at line 179 of file group.\+c.



References Group\+\_\+c\+::group, i, Group\+\_\+c\+::numpeers, and Group\+\_\+\+Peer\+::peer\+\_\+number.



Referenced by addpeer(), handle\+\_\+friend\+\_\+invite\+\_\+packet(), handle\+\_\+lossy(), and handle\+\_\+message\+\_\+packet\+\_\+group().


\begin{DoxyCode}
180 \{
181     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
182 
183     \textcolor{keywordflow}{for} (i = 0; i < g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i})
184         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[i].\hyperlink{struct_group___peer_a264348ec1f724e05464ca97b7c432817}{peer\_number} == peer\_number)
185             \textcolor{keywordflow}{return} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
186 
187     \textcolor{keywordflow}{return} -1;
188 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a18b922ce66f2c13f374c3981f369441b_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a0797c0660c3628fd1b62ca99cc860443}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+action\+\_\+send@{group\+\_\+action\+\_\+send}}
\index{group\+\_\+action\+\_\+send@{group\+\_\+action\+\_\+send}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+action\+\_\+send}]{\setlength{\rightskip}{0pt plus 5cm}int group\+\_\+action\+\_\+send (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{const uint8\+\_\+t $\ast$}]{action, }
\item[{uint16\+\_\+t}]{length}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a0797c0660c3628fd1b62ca99cc860443}


Definition at line 1768 of file group.\+c.



References P\+A\+C\+K\+E\+T\+\_\+\+I\+D\+\_\+\+A\+C\+T\+I\+O\+N, and send\+\_\+message\+\_\+group().



Referenced by tox\+\_\+group\+\_\+action\+\_\+send().


\begin{DoxyCode}
1769 \{
1770     \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_ac302cc1a014208e6d96dbb7c86dd9733}{send\_message\_group}(g\_c, groupnumber, \hyperlink{_messenger_8h_a2fa8ad5a6eee88e35345e9d9fc04a98c}{PACKET\_ID\_ACTION}, action, 
      length)) \{
1771         \textcolor{keywordflow}{return} 0;
1772     \} \textcolor{keywordflow}{else} \{
1773         \textcolor{keywordflow}{return} -1;
1774     \}
1775 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a0797c0660c3628fd1b62ca99cc860443_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=331pt]{df/de9/toxcore_2group_8c_a0797c0660c3628fd1b62ca99cc860443_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_ad3649b12ed32b2b37f6443e8dfcfb34f}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+get\+\_\+object@{group\+\_\+get\+\_\+object}}
\index{group\+\_\+get\+\_\+object@{group\+\_\+get\+\_\+object}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+get\+\_\+object}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ group\+\_\+get\+\_\+object (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_ad3649b12ed32b2b37f6443e8dfcfb34f}


Definition at line 2136 of file group.\+c.



References get\+\_\+group\+\_\+c(), and Group\+\_\+c\+::object.



Referenced by group\+\_\+send\+\_\+audio(), and send\+\_\+audio\+\_\+packet().


\begin{DoxyCode}
2137 \{
2138     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
2139 
2140     \textcolor{keywordflow}{if} (!g)
2141         \textcolor{keywordflow}{return} NULL;
2142 
2143     \textcolor{keywordflow}{return} g->\hyperlink{struct_group__c_a077376d12464f945e2414d5499c79b3f}{object};
2144 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ad3649b12ed32b2b37f6443e8dfcfb34f_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ad3649b12ed32b2b37f6443e8dfcfb34f_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_aefde055f874f23db9e368a71719aefe3}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+get\+\_\+type@{group\+\_\+get\+\_\+type}}
\index{group\+\_\+get\+\_\+type@{group\+\_\+get\+\_\+type}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+get\+\_\+type}]{\setlength{\rightskip}{0pt plus 5cm}int group\+\_\+get\+\_\+type (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_aefde055f874f23db9e368a71719aefe3}


Definition at line 840 of file group.\+c.



References get\+\_\+group\+\_\+c(), and Group\+\_\+c\+::identifier.



Referenced by tox\+\_\+group\+\_\+get\+\_\+type().


\begin{DoxyCode}
841 \{
842     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
843 
844     \textcolor{keywordflow}{if} (!g)
845         \textcolor{keywordflow}{return} -1;
846 
847     \textcolor{keywordflow}{return} g->\hyperlink{struct_group__c_a590984b7f44686ea4892ffa2651b0cda}{identifier}[0];
848 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_aefde055f874f23db9e368a71719aefe3_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=301pt]{df/de9/toxcore_2group_8c_aefde055f874f23db9e368a71719aefe3_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_af5df5a0281b502226b702bca064df039}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+kill\+\_\+peer\+\_\+send@{group\+\_\+kill\+\_\+peer\+\_\+send}}
\index{group\+\_\+kill\+\_\+peer\+\_\+send@{group\+\_\+kill\+\_\+peer\+\_\+send}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+kill\+\_\+peer\+\_\+send}]{\setlength{\rightskip}{0pt plus 5cm}static int group\+\_\+kill\+\_\+peer\+\_\+send (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{uint16\+\_\+t}]{peer\+\_\+num}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_af5df5a0281b502226b702bca064df039}


Definition at line 1152 of file group.\+c.



References G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D, G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H, and send\+\_\+message\+\_\+group().



Referenced by del\+\_\+groupchat().


\begin{DoxyCode}
1153 \{
1154     uint8\_t packet[\hyperlink{toxcore_2group_8c_a4c4a82b07baae01ec32fa00be88ab769}{GROUP\_MESSAGE\_KILL\_PEER\_LENGTH}];
1155 
1156     peer\_num = htons(peer\_num);
1157     memcpy(packet, &peer\_num, \textcolor{keyword}{sizeof}(uint16\_t));
1158 
1159     \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_ac302cc1a014208e6d96dbb7c86dd9733}{send\_message\_group}(g\_c, groupnumber, 
      \hyperlink{toxcore_2group_8c_a9599f988176892e9255f723f49a89b77}{GROUP\_MESSAGE\_KILL\_PEER\_ID}, packet, \textcolor{keyword}{sizeof}(packet))) \{
1160         \textcolor{keywordflow}{return} 0;
1161     \} \textcolor{keywordflow}{else} \{
1162         \textcolor{keywordflow}{return} -1;
1163     \}
1164 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_af5df5a0281b502226b702bca064df039_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_af5df5a0281b502226b702bca064df039_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_aab3c37b13310ec0d9df5f3209c6fc5ac}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+lossy\+\_\+packet\+\_\+registerhandler@{group\+\_\+lossy\+\_\+packet\+\_\+registerhandler}}
\index{group\+\_\+lossy\+\_\+packet\+\_\+registerhandler@{group\+\_\+lossy\+\_\+packet\+\_\+registerhandler}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+lossy\+\_\+packet\+\_\+registerhandler}]{\setlength{\rightskip}{0pt plus 5cm}void group\+\_\+lossy\+\_\+packet\+\_\+registerhandler (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{uint8\+\_\+t}]{byte, }
\item[{int($\ast$)(void $\ast$, int, int, void $\ast$, const uint8\+\_\+t $\ast$, uint16\+\_\+t)}]{function}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_aab3c37b13310ec0d9df5f3209c6fc5ac}


Definition at line 1025 of file group.\+c.



References Group\+\_\+\+Chats\+::function, and Group\+\_\+\+Chats\+::lossy\+\_\+packethandlers.



Referenced by groupchat\+\_\+enable\+\_\+av().


\begin{DoxyCode}
1027 \{
1028     g\_c->\hyperlink{struct_group___chats_a3630aa7993bdd216d40637826a92649f}{lossy\_packethandlers}[byte].\hyperlink{struct_group___chats_acbfbbdaa6d4201766377ac50de985ae9}{function} = \textcolor{keyword}{function};
1029 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_aab3c37b13310ec0d9df5f3209c6fc5ac_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a5089fa31b3523ab355414d9a6aeb653c}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+message\+\_\+send@{group\+\_\+message\+\_\+send}}
\index{group\+\_\+message\+\_\+send@{group\+\_\+message\+\_\+send}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+message\+\_\+send}]{\setlength{\rightskip}{0pt plus 5cm}int group\+\_\+message\+\_\+send (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{const uint8\+\_\+t $\ast$}]{message, }
\item[{uint16\+\_\+t}]{length}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a5089fa31b3523ab355414d9a6aeb653c}


Definition at line 1755 of file group.\+c.



References P\+A\+C\+K\+E\+T\+\_\+\+I\+D\+\_\+\+M\+E\+S\+S\+A\+G\+E, and send\+\_\+message\+\_\+group().



Referenced by tox\+\_\+group\+\_\+message\+\_\+send().


\begin{DoxyCode}
1756 \{
1757     \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_ac302cc1a014208e6d96dbb7c86dd9733}{send\_message\_group}(g\_c, groupnumber, \hyperlink{_messenger_8h_a254356a92e0c8c90a8e5ff6f828efc4c}{PACKET\_ID\_MESSAGE}, message,
       length)) \{
1758         \textcolor{keywordflow}{return} 0;
1759     \} \textcolor{keywordflow}{else} \{
1760         \textcolor{keywordflow}{return} -1;
1761     \}
1762 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a5089fa31b3523ab355414d9a6aeb653c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a5089fa31b3523ab355414d9a6aeb653c_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_afa6172f19b4153d866057d744bdf0a11}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+name\+\_\+send@{group\+\_\+name\+\_\+send}}
\index{group\+\_\+name\+\_\+send@{group\+\_\+name\+\_\+send}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+name\+\_\+send}]{\setlength{\rightskip}{0pt plus 5cm}static int group\+\_\+name\+\_\+send (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{const uint8\+\_\+t $\ast$}]{nick, }
\item[{uint16\+\_\+t}]{nick\+\_\+len}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_afa6172f19b4153d866057d744bdf0a11}


Definition at line 1172 of file group.\+c.



References G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+A\+M\+E\+\_\+\+I\+D, M\+A\+X\+\_\+\+N\+A\+M\+E\+\_\+\+L\+E\+N\+G\+T\+H, and send\+\_\+message\+\_\+group().



Referenced by handle\+\_\+send\+\_\+peers(), and send\+\_\+name\+\_\+all\+\_\+groups().


\begin{DoxyCode}
1173 \{
1174     \textcolor{keywordflow}{if} (nick\_len > \hyperlink{_messenger_8h_a0c397a708cec89c74029582574516b30}{MAX\_NAME\_LENGTH})
1175         \textcolor{keywordflow}{return} -1;
1176 
1177     \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_ac302cc1a014208e6d96dbb7c86dd9733}{send\_message\_group}(g\_c, groupnumber, 
      \hyperlink{toxcore_2group_8c_a5c6887bde59fba00ff3ea260f71e8b59}{GROUP\_MESSAGE\_NAME\_ID}, nick, nick\_len)) \{
1178         \textcolor{keywordflow}{return} 0;
1179     \} \textcolor{keywordflow}{else} \{
1180         \textcolor{keywordflow}{return} -1;
1181     \}
1182 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_afa6172f19b4153d866057d744bdf0a11_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_afa6172f19b4153d866057d744bdf0a11_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a2ead81b9067921eff85dbab1f8fdc785}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+names@{group\+\_\+names}}
\index{group\+\_\+names@{group\+\_\+names}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+names}]{\setlength{\rightskip}{0pt plus 5cm}int group\+\_\+names (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{uint8\+\_\+t}]{names\mbox{[}$\,$\mbox{]}\mbox{[}\+M\+A\+X\+\_\+\+N\+A\+M\+E\+\_\+\+L\+E\+N\+G\+T\+H\mbox{]}, }
\item[{uint16\+\_\+t}]{lengths\mbox{[}$\,$\mbox{]}, }
\item[{uint16\+\_\+t}]{length}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a2ead81b9067921eff85dbab1f8fdc785}


Definition at line 786 of file group.\+c.



References get\+\_\+group\+\_\+c(), group\+\_\+peername(), i, and Group\+\_\+c\+::numpeers.



Referenced by tox\+\_\+group\+\_\+get\+\_\+names().


\begin{DoxyCode}
788 \{
789     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
790 
791     \textcolor{keywordflow}{if} (!g)
792         \textcolor{keywordflow}{return} -1;
793 
794     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
795 
796     \textcolor{keywordflow}{for} (i = 0; i < g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers} && i < length; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
797         lengths[\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}] = \hyperlink{toxcore_2group_8c_aca385bea140e668374002b11db01d78d}{group\_peername}(g\_c, groupnumber, i, names[i]);
798     \}
799 
800     \textcolor{keywordflow}{return} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
801 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a2ead81b9067921eff85dbab1f8fdc785_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a2ead81b9067921eff85dbab1f8fdc785_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a66c811c8711cf3064c50efa85d3f7c94}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+new\+\_\+peer\+\_\+send@{group\+\_\+new\+\_\+peer\+\_\+send}}
\index{group\+\_\+new\+\_\+peer\+\_\+send@{group\+\_\+new\+\_\+peer\+\_\+send}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+new\+\_\+peer\+\_\+send}]{\setlength{\rightskip}{0pt plus 5cm}int group\+\_\+new\+\_\+peer\+\_\+send (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{uint16\+\_\+t}]{peer\+\_\+num, }
\item[{const uint8\+\_\+t $\ast$}]{real\+\_\+pk, }
\item[{uint8\+\_\+t $\ast$}]{temp\+\_\+pk}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a66c811c8711cf3064c50efa85d3f7c94}


Definition at line 1128 of file group.\+c.



References G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D, G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H, and send\+\_\+message\+\_\+group().



Referenced by handle\+\_\+friend\+\_\+invite\+\_\+packet().


\begin{DoxyCode}
1130 \{
1131     uint8\_t packet[\hyperlink{toxcore_2group_8c_a47fc7b5448575f7fef6f76d011524f67}{GROUP\_MESSAGE\_NEW\_PEER\_LENGTH}];
1132 
1133     peer\_num = htons(peer\_num);
1134     memcpy(packet, &peer\_num, \textcolor{keyword}{sizeof}(uint16\_t));
1135     memcpy(packet + \textcolor{keyword}{sizeof}(uint16\_t), real\_pk, crypto\_box\_PUBLICKEYBYTES);
1136     memcpy(packet + \textcolor{keyword}{sizeof}(uint16\_t) + crypto\_box\_PUBLICKEYBYTES, temp\_pk, crypto\_box\_PUBLICKEYBYTES);
1137 
1138     \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_ac302cc1a014208e6d96dbb7c86dd9733}{send\_message\_group}(g\_c, groupnumber, 
      \hyperlink{toxcore_2group_8c_a4ab0edbbe4f097ec283299e6f7834ed1}{GROUP\_MESSAGE\_NEW\_PEER\_ID}, packet, \textcolor{keyword}{sizeof}(packet))) \{
1139         \textcolor{keywordflow}{return} 0;
1140     \} \textcolor{keywordflow}{else} \{
1141         \textcolor{keywordflow}{return} -1;
1142     \}
1143 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a66c811c8711cf3064c50efa85d3f7c94_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a66c811c8711cf3064c50efa85d3f7c94_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_abd1478afe81f0399627adb7c8f725495}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+number\+\_\+peers@{group\+\_\+number\+\_\+peers}}
\index{group\+\_\+number\+\_\+peers@{group\+\_\+number\+\_\+peers}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+number\+\_\+peers}]{\setlength{\rightskip}{0pt plus 5cm}int group\+\_\+number\+\_\+peers (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_abd1478afe81f0399627adb7c8f725495}


Definition at line 806 of file group.\+c.



References get\+\_\+group\+\_\+c(), and Group\+\_\+c\+::numpeers.



Referenced by tox\+\_\+group\+\_\+number\+\_\+peers().


\begin{DoxyCode}
807 \{
808     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
809 
810     \textcolor{keywordflow}{if} (!g)
811         \textcolor{keywordflow}{return} -1;
812 
813     \textcolor{keywordflow}{return} g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers};
814 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_abd1478afe81f0399627adb7c8f725495_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_abd1478afe81f0399627adb7c8f725495_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a8e806c997fa1e969e2c26f5751b16593}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+peer\+\_\+get\+\_\+object@{group\+\_\+peer\+\_\+get\+\_\+object}}
\index{group\+\_\+peer\+\_\+get\+\_\+object@{group\+\_\+peer\+\_\+get\+\_\+object}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+peer\+\_\+get\+\_\+object}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ group\+\_\+peer\+\_\+get\+\_\+object (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{int}]{peernumber}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a8e806c997fa1e969e2c26f5751b16593}


Definition at line 2151 of file group.\+c.



References get\+\_\+group\+\_\+c(), Group\+\_\+c\+::group, Group\+\_\+c\+::numpeers, and Group\+\_\+\+Peer\+::object.


\begin{DoxyCode}
2152 \{
2153     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
2154 
2155     \textcolor{keywordflow}{if} (!g)
2156         \textcolor{keywordflow}{return} NULL;
2157 
2158     \textcolor{keywordflow}{if} ((uint32\_t)peernumber >= g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers})
2159         \textcolor{keywordflow}{return} NULL;
2160 
2161     \textcolor{keywordflow}{return} g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peernumber].\hyperlink{struct_group___peer_a077376d12464f945e2414d5499c79b3f}{object};
2162 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a8e806c997fa1e969e2c26f5751b16593_cgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a32c6a812970d810c720937f6f5d1998a}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+peer\+\_\+pubkey@{group\+\_\+peer\+\_\+pubkey}}
\index{group\+\_\+peer\+\_\+pubkey@{group\+\_\+peer\+\_\+pubkey}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+peer\+\_\+pubkey}]{\setlength{\rightskip}{0pt plus 5cm}int group\+\_\+peer\+\_\+pubkey (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{int}]{peernumber, }
\item[{uint8\+\_\+t $\ast$}]{pk}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a32c6a812970d810c720937f6f5d1998a}


Definition at line 737 of file group.\+c.



References get\+\_\+group\+\_\+c(), Group\+\_\+c\+::group, Group\+\_\+c\+::numpeers, and Group\+\_\+\+Peer\+::real\+\_\+pk.



Referenced by tox\+\_\+group\+\_\+peer\+\_\+pubkey().


\begin{DoxyCode}
738 \{
739     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
740 
741     \textcolor{keywordflow}{if} (!g)
742         \textcolor{keywordflow}{return} -1;
743 
744     \textcolor{keywordflow}{if} ((uint32\_t)peernumber >= g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers})
745         \textcolor{keywordflow}{return} -1;
746 
747     memcpy(pk, g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peernumber].\hyperlink{struct_group___peer_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, crypto\_box\_PUBLICKEYBYTES);
748     \textcolor{keywordflow}{return} 0;
749 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a32c6a812970d810c720937f6f5d1998a_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=337pt]{df/de9/toxcore_2group_8c_a32c6a812970d810c720937f6f5d1998a_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a450e79abe59f479d322c59b4e7be0184}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+peer\+\_\+set\+\_\+object@{group\+\_\+peer\+\_\+set\+\_\+object}}
\index{group\+\_\+peer\+\_\+set\+\_\+object@{group\+\_\+peer\+\_\+set\+\_\+object}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+peer\+\_\+set\+\_\+object}]{\setlength{\rightskip}{0pt plus 5cm}int group\+\_\+peer\+\_\+set\+\_\+object (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{int}]{peernumber, }
\item[{void $\ast$}]{object}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a450e79abe59f479d322c59b4e7be0184}


Definition at line 2117 of file group.\+c.



References get\+\_\+group\+\_\+c(), Group\+\_\+c\+::group, Group\+\_\+c\+::numpeers, and Group\+\_\+\+Peer\+::object.



Referenced by group\+\_\+av\+\_\+peer\+\_\+new().


\begin{DoxyCode}
2118 \{
2119     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
2120 
2121     \textcolor{keywordflow}{if} (!g)
2122         \textcolor{keywordflow}{return} -1;
2123 
2124     \textcolor{keywordflow}{if} ((uint32\_t)peernumber >= g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers})
2125         \textcolor{keywordflow}{return} -1;
2126 
2127     g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peernumber].\hyperlink{struct_group___peer_a077376d12464f945e2414d5499c79b3f}{object} = object;
2128     \textcolor{keywordflow}{return} 0;
2129 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a450e79abe59f479d322c59b4e7be0184_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a450e79abe59f479d322c59b4e7be0184_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_aca385bea140e668374002b11db01d78d}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+peername@{group\+\_\+peername}}
\index{group\+\_\+peername@{group\+\_\+peername}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+peername}]{\setlength{\rightskip}{0pt plus 5cm}int group\+\_\+peername (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{int}]{peernumber, }
\item[{uint8\+\_\+t $\ast$}]{name}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_aca385bea140e668374002b11db01d78d}


Definition at line 757 of file group.\+c.



References get\+\_\+group\+\_\+c(), Group\+\_\+c\+::group, Group\+\_\+\+Peer\+::nick, Group\+\_\+\+Peer\+::nick\+\_\+len, and Group\+\_\+c\+::numpeers.



Referenced by group\+\_\+names(), and tox\+\_\+group\+\_\+peername().


\begin{DoxyCode}
758 \{
759     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
760 
761     \textcolor{keywordflow}{if} (!g)
762         \textcolor{keywordflow}{return} -1;
763 
764     \textcolor{keywordflow}{if} ((uint32\_t)peernumber >= g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers})
765         \textcolor{keywordflow}{return} -1;
766 
767     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peernumber].\hyperlink{struct_group___peer_aa316280abcd8913a502b56397dd13e23}{nick\_len} == 0) \{
768         memcpy(name, \textcolor{stringliteral}{"Tox User"}, 8);
769         \textcolor{keywordflow}{return} 8;
770     \}
771 
772     memcpy(name, g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peernumber].\hyperlink{struct_group___peer_ae7cf3fd18e321fab5a711e72622301b9}{nick}, g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peernumber].
      \hyperlink{struct_group___peer_aa316280abcd8913a502b56397dd13e23}{nick\_len});
773     \textcolor{keywordflow}{return} g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peernumber].\hyperlink{struct_group___peer_aa316280abcd8913a502b56397dd13e23}{nick\_len};
774 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_aca385bea140e668374002b11db01d78d_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_aca385bea140e668374002b11db01d78d_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a86daba4a594e2677b03851483ed3416c}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+peernumber\+\_\+is\+\_\+ours@{group\+\_\+peernumber\+\_\+is\+\_\+ours}}
\index{group\+\_\+peernumber\+\_\+is\+\_\+ours@{group\+\_\+peernumber\+\_\+is\+\_\+ours}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+peernumber\+\_\+is\+\_\+ours}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int group\+\_\+peernumber\+\_\+is\+\_\+ours (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{int}]{peernumber}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a86daba4a594e2677b03851483ed3416c}


Definition at line 819 of file group.\+c.



References get\+\_\+group\+\_\+c(), Group\+\_\+c\+::group, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+E\+D, Group\+\_\+c\+::numpeers, Group\+\_\+\+Peer\+::peer\+\_\+number, Group\+\_\+c\+::peer\+\_\+number, and Group\+\_\+c\+::status.



Referenced by tox\+\_\+group\+\_\+peernumber\+\_\+is\+\_\+ours().


\begin{DoxyCode}
820 \{
821     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
822 
823     \textcolor{keywordflow}{if} (!g)
824         \textcolor{keywordflow}{return} 0;
825 
826     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_ade818037fd6c985038ff29656089758d}{status} != \hyperlink{toxcore_2group_8h_a61dadd085c1777f559549e05962b2c9ea168545b20e428420e53744787076c10e}{GROUPCHAT\_STATUS\_CONNECTED})
827         \textcolor{keywordflow}{return} 0;
828 
829     \textcolor{keywordflow}{if} ((uint32\_t)peernumber >= g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers})
830         \textcolor{keywordflow}{return} 0;
831 
832     \textcolor{keywordflow}{return} g->\hyperlink{struct_group__c_a264348ec1f724e05464ca97b7c432817}{peer\_number} == g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peernumber].\hyperlink{struct_group___peer_a264348ec1f724e05464ca97b7c432817}{peer\_number};
833 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a86daba4a594e2677b03851483ed3416c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a86daba4a594e2677b03851483ed3416c_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a16a09a62aa63887e913d921b3b6860f1}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+ping\+\_\+send@{group\+\_\+ping\+\_\+send}}
\index{group\+\_\+ping\+\_\+send@{group\+\_\+ping\+\_\+send}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+ping\+\_\+send}]{\setlength{\rightskip}{0pt plus 5cm}int group\+\_\+ping\+\_\+send (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a16a09a62aa63887e913d921b3b6860f1}


Definition at line 1113 of file group.\+c.



References G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+I\+N\+G\+\_\+\+I\+D, and send\+\_\+message\+\_\+group().



Referenced by ping\+\_\+groupchat().


\begin{DoxyCode}
1114 \{
1115     \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_ac302cc1a014208e6d96dbb7c86dd9733}{send\_message\_group}(g\_c, groupnumber, 
      \hyperlink{toxcore_2group_8c_a9cee2a2969784517dd1252308bcf5912}{GROUP\_MESSAGE\_PING\_ID}, 0, 0)) \{
1116         \textcolor{keywordflow}{return} 0;
1117     \} \textcolor{keywordflow}{else} \{
1118         \textcolor{keywordflow}{return} -1;
1119     \}
1120 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a16a09a62aa63887e913d921b3b6860f1_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a16a09a62aa63887e913d921b3b6860f1_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_add35f9833270b223b9120733e8c161b6}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+set\+\_\+object@{group\+\_\+set\+\_\+object}}
\index{group\+\_\+set\+\_\+object@{group\+\_\+set\+\_\+object}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+set\+\_\+object}]{\setlength{\rightskip}{0pt plus 5cm}int group\+\_\+set\+\_\+object (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{void $\ast$}]{object}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_add35f9833270b223b9120733e8c161b6}


Definition at line 2101 of file group.\+c.



References get\+\_\+group\+\_\+c(), and Group\+\_\+c\+::object.



Referenced by groupchat\+\_\+enable\+\_\+av().


\begin{DoxyCode}
2102 \{
2103     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
2104 
2105     \textcolor{keywordflow}{if} (!g)
2106         \textcolor{keywordflow}{return} -1;
2107 
2108     g->\hyperlink{struct_group__c_a077376d12464f945e2414d5499c79b3f}{object} = object;
2109     \textcolor{keywordflow}{return} 0;
2110 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_add35f9833270b223b9120733e8c161b6_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_add35f9833270b223b9120733e8c161b6_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a4eb43d155a71bcb9e63954bdd1b6e3e6}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+title\+\_\+get@{group\+\_\+title\+\_\+get}}
\index{group\+\_\+title\+\_\+get@{group\+\_\+title\+\_\+get}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+title\+\_\+get}]{\setlength{\rightskip}{0pt plus 5cm}int group\+\_\+title\+\_\+get (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{uint8\+\_\+t $\ast$}]{title, }
\item[{uint32\+\_\+t}]{max\+\_\+length}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a4eb43d155a71bcb9e63954bdd1b6e3e6}


Definition at line 1222 of file group.\+c.



References get\+\_\+group\+\_\+c(), M\+A\+X\+\_\+\+N\+A\+M\+E\+\_\+\+L\+E\+N\+G\+T\+H, Group\+\_\+c\+::title, and Group\+\_\+c\+::title\+\_\+len.



Referenced by tox\+\_\+group\+\_\+get\+\_\+title().


\begin{DoxyCode}
1223 \{
1224     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
1225 
1226     \textcolor{keywordflow}{if} (!g)
1227         \textcolor{keywordflow}{return} -1;
1228 
1229     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_ac32d4f2bb9021dfa0b7ce5f9537412d7}{title\_len} == 0 || g->\hyperlink{struct_group__c_ac32d4f2bb9021dfa0b7ce5f9537412d7}{title\_len} > \hyperlink{_messenger_8h_a0c397a708cec89c74029582574516b30}{MAX\_NAME\_LENGTH})
1230         \textcolor{keywordflow}{return} -1;
1231 
1232     \textcolor{keywordflow}{if} (max\_length > g->\hyperlink{struct_group__c_ac32d4f2bb9021dfa0b7ce5f9537412d7}{title\_len})
1233         max\_length = g->\hyperlink{struct_group__c_ac32d4f2bb9021dfa0b7ce5f9537412d7}{title\_len};
1234 
1235     memcpy(title, g->\hyperlink{struct_group__c_a9ace0499016685340a1f3009a7aa01e0}{title}, max\_length);
1236     \textcolor{keywordflow}{return} max\_length;
1237 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a4eb43d155a71bcb9e63954bdd1b6e3e6_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a4eb43d155a71bcb9e63954bdd1b6e3e6_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a262b7bf9d01d09574224f290575de0db}{\index{toxcore/group.\+c@{toxcore/group.\+c}!group\+\_\+title\+\_\+send@{group\+\_\+title\+\_\+send}}
\index{group\+\_\+title\+\_\+send@{group\+\_\+title\+\_\+send}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{group\+\_\+title\+\_\+send}]{\setlength{\rightskip}{0pt plus 5cm}int group\+\_\+title\+\_\+send (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{const uint8\+\_\+t $\ast$}]{title, }
\item[{uint8\+\_\+t}]{title\+\_\+len}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a262b7bf9d01d09574224f290575de0db}


Definition at line 1190 of file group.\+c.



References get\+\_\+group\+\_\+c(), G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D, M\+A\+X\+\_\+\+N\+A\+M\+E\+\_\+\+L\+E\+N\+G\+T\+H, Group\+\_\+c\+::numpeers, send\+\_\+message\+\_\+group(), Group\+\_\+c\+::title, and Group\+\_\+c\+::title\+\_\+len.



Referenced by tox\+\_\+group\+\_\+set\+\_\+title().


\begin{DoxyCode}
1191 \{
1192     \textcolor{keywordflow}{if} (title\_len > \hyperlink{_messenger_8h_a0c397a708cec89c74029582574516b30}{MAX\_NAME\_LENGTH} || title\_len == 0)
1193         \textcolor{keywordflow}{return} -1;
1194 
1195     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
1196 
1197     \textcolor{keywordflow}{if} (!g)
1198         \textcolor{keywordflow}{return} -1;
1199 
1200     \textcolor{comment}{/* same as already set? */}
1201     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_ac32d4f2bb9021dfa0b7ce5f9537412d7}{title\_len} == title\_len && !memcmp(g->\hyperlink{struct_group__c_a9ace0499016685340a1f3009a7aa01e0}{title}, title, title\_len))
1202         \textcolor{keywordflow}{return} 0;
1203 
1204     memcpy(g->\hyperlink{struct_group__c_a9ace0499016685340a1f3009a7aa01e0}{title}, title, title\_len);
1205     g->\hyperlink{struct_group__c_ac32d4f2bb9021dfa0b7ce5f9537412d7}{title\_len} = title\_len;
1206 
1207     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers} == 1)
1208         \textcolor{keywordflow}{return} 0;
1209 
1210     \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_ac302cc1a014208e6d96dbb7c86dd9733}{send\_message\_group}(g\_c, groupnumber, 
      \hyperlink{toxcore_2group_8c_aab29b4ca873b8909080da85c65acf050}{GROUP\_MESSAGE\_TITLE\_ID}, title, title\_len))
1211         \textcolor{keywordflow}{return} 0;
1212     \textcolor{keywordflow}{else}
1213         \textcolor{keywordflow}{return} -1;
1214 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a262b7bf9d01d09574224f290575de0db_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a262b7bf9d01d09574224f290575de0db_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_acfda9051487bdd5f51667aea724952e9}{\index{toxcore/group.\+c@{toxcore/group.\+c}!groupchat\+\_\+clear\+\_\+timedout@{groupchat\+\_\+clear\+\_\+timedout}}
\index{groupchat\+\_\+clear\+\_\+timedout@{groupchat\+\_\+clear\+\_\+timedout}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{groupchat\+\_\+clear\+\_\+timedout}]{\setlength{\rightskip}{0pt plus 5cm}static int groupchat\+\_\+clear\+\_\+timedout (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_acfda9051487bdd5f51667aea724952e9}


Definition at line 2182 of file group.\+c.



References delpeer(), get\+\_\+group\+\_\+c(), Group\+\_\+c\+::group, G\+R\+O\+U\+P\+\_\+\+P\+I\+N\+G\+\_\+\+I\+N\+T\+E\+R\+V\+A\+L, i, is\+\_\+timeout(), Group\+\_\+\+Peer\+::last\+\_\+recv, Group\+\_\+c\+::numpeers, Group\+\_\+\+Peer\+::peer\+\_\+number, and Group\+\_\+c\+::peer\+\_\+number.



Referenced by do\+\_\+groupchats().


\begin{DoxyCode}
2183 \{
2184     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
2185 
2186     \textcolor{keywordflow}{if} (!g)
2187         \textcolor{keywordflow}{return} -1;
2188 
2189     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
2190 
2191     \textcolor{keywordflow}{for} (i = 0; i < g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
2192         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a264348ec1f724e05464ca97b7c432817}{peer\_number} != g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[i].\hyperlink{struct_group___peer_a264348ec1f724e05464ca97b7c432817}{peer\_number} && 
      \hyperlink{util_8c_ab643c84141e04b54ba650c50165ba288}{is\_timeout}(g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[i].\hyperlink{struct_group___peer_a03706feea89530a7ac78082fc79ed8fc}{last\_recv}, \hyperlink{toxcore_2group_8c_a52bc51b81a141d362631d64a80f28b78}{GROUP\_PING\_INTERVAL} * 3)) \{
2193             \hyperlink{toxcore_2group_8c_a54efac41dbd172d4443518f006d89b05}{delpeer}(g\_c, groupnumber, i);
2194         \}
2195 
2196         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group} == NULL || i >= g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers})
2197             \textcolor{keywordflow}{break};
2198     \}
2199 
2200     \textcolor{keywordflow}{return} 0;
2201 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_acfda9051487bdd5f51667aea724952e9_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_acfda9051487bdd5f51667aea724952e9_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a4ffc6ae8485f94d9177baf65f777c72e}{\index{toxcore/group.\+c@{toxcore/group.\+c}!groupnumber\+\_\+not\+\_\+valid@{groupnumber\+\_\+not\+\_\+valid}}
\index{groupnumber\+\_\+not\+\_\+valid@{groupnumber\+\_\+not\+\_\+valid}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{groupnumber\+\_\+not\+\_\+valid}]{\setlength{\rightskip}{0pt plus 5cm}static uint8\+\_\+t groupnumber\+\_\+not\+\_\+valid (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a4ffc6ae8485f94d9177baf65f777c72e}


Definition at line 34 of file group.\+c.



References Group\+\_\+\+Chats\+::chats, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+N\+O\+N\+E, Group\+\_\+\+Chats\+::num\+\_\+chats, and Group\+\_\+c\+::status.



Referenced by get\+\_\+group\+\_\+c(), and wipe\+\_\+group\+\_\+chat().


\begin{DoxyCode}
35 \{
36     \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})groupnumber >= g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats})
37         \textcolor{keywordflow}{return} 1;
38 
39     \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_a2a89a032b3d68d95f8cbecf4ecec9e74}{chats} == NULL)
40         \textcolor{keywordflow}{return} 1;
41 
42     \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_a2a89a032b3d68d95f8cbecf4ecec9e74}{chats}[groupnumber].\hyperlink{struct_group__c_ade818037fd6c985038ff29656089758d}{status} == \hyperlink{toxcore_2group_8h_a61dadd085c1777f559549e05962b2c9ea3de12837ac42b1a52f94f44781442f78}{GROUPCHAT\_STATUS\_NONE})
43         \textcolor{keywordflow}{return} 1;
44 
45     \textcolor{keywordflow}{return} 0;
46 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a4ffc6ae8485f94d9177baf65f777c72e_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a5f0da219f2f87c142bd8c95f6d43e32c}{\index{toxcore/group.\+c@{toxcore/group.\+c}!handle\+\_\+direct\+\_\+packet@{handle\+\_\+direct\+\_\+packet}}
\index{handle\+\_\+direct\+\_\+packet@{handle\+\_\+direct\+\_\+packet}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{handle\+\_\+direct\+\_\+packet}]{\setlength{\rightskip}{0pt plus 5cm}static void handle\+\_\+direct\+\_\+packet (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{const uint8\+\_\+t $\ast$}]{data, }
\item[{uint16\+\_\+t}]{length, }
\item[{int}]{close\+\_\+index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a5f0da219f2f87c142bd8c95f6d43e32c}


Definition at line 1548 of file group.\+c.



References Group\+\_\+c\+::close, Group\+\_\+c\+::closest, Group\+\_\+\+Chats\+::fr\+\_\+c, get\+\_\+group\+\_\+c(), Group\+\_\+c\+::group\+\_\+number, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+N\+O\+N\+E, handle\+\_\+send\+\_\+peers(), kill\+\_\+friend\+\_\+connection(), Group\+\_\+c\+::number, P\+E\+E\+R\+\_\+\+K\+I\+L\+L\+\_\+\+I\+D, P\+E\+E\+R\+\_\+\+Q\+U\+E\+R\+Y\+\_\+\+I\+D, P\+E\+E\+R\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D, P\+E\+E\+R\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D, send\+\_\+peers(), settitle(), and Group\+\_\+c\+::type.



Referenced by handle\+\_\+packet().


\begin{DoxyCode}
1550 \{
1551     \textcolor{keywordflow}{if} (length == 0)
1552         \textcolor{keywordflow}{return};
1553 
1554     \textcolor{keywordflow}{switch} (\hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}[0]) \{
1555         \textcolor{keywordflow}{case} \hyperlink{toxcore_2group_8c_a0f1462cf292dc152074ef89d4e1bfd90}{PEER\_KILL\_ID}: \{
1556             \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
1557 
1558             \textcolor{keywordflow}{if} (!g)
1559                 \textcolor{keywordflow}{return};
1560 
1561             \textcolor{keywordflow}{if} (!g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[close\_index].\hyperlink{struct_group__c_a8ff1adca518d82728e7d450f6d14e8db}{closest}) \{
1562                 g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[close\_index].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} = \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2daec225048274e40e0a1517f1afc008834}{GROUPCHAT\_CLOSE\_NONE};
1563                 \hyperlink{friend__connection_8c_a5f311791c0ec4ecd8fdf5359cf7fb95a}{kill\_friend\_connection}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, g->
      \hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[close\_index].\hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number});
1564             \}
1565         \}
1566 
1567         \textcolor{keywordflow}{break};
1568 
1569         \textcolor{keywordflow}{case} \hyperlink{toxcore_2group_8c_ababd738dd6d95870ee92fff9e41ec4a1}{PEER\_QUERY\_ID}: \{
1570             \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
1571 
1572             \textcolor{keywordflow}{if} (!g)
1573                 \textcolor{keywordflow}{return};
1574 
1575             \hyperlink{toxcore_2group_8c_a45538eb41a1837f5f6c76014cb18bf70}{send\_peers}(g\_c, groupnumber, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[close\_index].
      \hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number}, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[close\_index].\hyperlink{struct_group__c_a60c6a6ce4c702d61048d0f38f3974ef8}{group\_number});
1576         \}
1577 
1578         \textcolor{keywordflow}{break};
1579 
1580         \textcolor{keywordflow}{case} \hyperlink{toxcore_2group_8c_a715adea5ec29b115f99fb959be32fe9a}{PEER\_RESPONSE\_ID}: \{
1581             \hyperlink{toxcore_2group_8c_a759667e1dd1553a5ad8486c5165ec520}{handle\_send\_peers}(g\_c, groupnumber, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + 1, length - 1);
1582         \}
1583 
1584         \textcolor{keywordflow}{break};
1585 
1586         \textcolor{keywordflow}{case} \hyperlink{toxcore_2group_8c_a2bd87e226fa5d75452f77a9194a27ebc}{PEER\_TITLE\_ID}: \{
1587             \hyperlink{toxcore_2group_8c_aa09cb89734d556bc4b1410de31b7406e}{settitle}(g\_c, groupnumber, -1, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + 1, length - 1);
1588         \}
1589 
1590         \textcolor{keywordflow}{break};
1591     \}
1592 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a5f0da219f2f87c142bd8c95f6d43e32c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a5f0da219f2f87c142bd8c95f6d43e32c_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a5827237272acfda26ad786049a80e42a}{\index{toxcore/group.\+c@{toxcore/group.\+c}!handle\+\_\+friend\+\_\+invite\+\_\+packet@{handle\+\_\+friend\+\_\+invite\+\_\+packet}}
\index{handle\+\_\+friend\+\_\+invite\+\_\+packet@{handle\+\_\+friend\+\_\+invite\+\_\+packet}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{handle\+\_\+friend\+\_\+invite\+\_\+packet}]{\setlength{\rightskip}{0pt plus 5cm}static void handle\+\_\+friend\+\_\+invite\+\_\+packet (
\begin{DoxyParamCaption}
\item[{{\bf Messenger} $\ast$}]{m, }
\item[{uint32\+\_\+t}]{friendnumber, }
\item[{const uint8\+\_\+t $\ast$}]{data, }
\item[{uint16\+\_\+t}]{length}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a5827237272acfda26ad786049a80e42a}


Definition at line 1239 of file group.\+c.



References add\+\_\+conn\+\_\+to\+\_\+groupchat(), addpeer(), Group\+\_\+c\+::close, Group\+\_\+\+Chats\+::fr\+\_\+c, get\+\_\+friendcon\+\_\+public\+\_\+keys(), get\+\_\+group\+\_\+c(), get\+\_\+group\+\_\+num(), get\+\_\+peer\+\_\+index(), getfriendcon\+\_\+id(), Messenger\+::group\+\_\+chat\+\_\+object, G\+R\+O\+U\+P\+\_\+\+I\+D\+E\+N\+T\+I\+F\+I\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H, group\+\_\+new\+\_\+peer\+\_\+send(), Group\+\_\+c\+::group\+\_\+number, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+O\+N\+L\+I\+N\+E, Group\+\_\+c\+::identifier, Group\+\_\+\+Chats\+::invite\+\_\+callback, Group\+\_\+\+Chats\+::invite\+\_\+callback\+\_\+userdata, I\+N\+V\+I\+T\+E\+\_\+\+I\+D, I\+N\+V\+I\+T\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E, I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D, I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E, and Group\+\_\+c\+::type.



Referenced by new\+\_\+groupchats().


\begin{DoxyCode}
1240 \{
1241     \hyperlink{struct_group___chats}{Group\_Chats} *g\_c = m->\hyperlink{struct_messenger_accf717ba3e14c38e1611b17b78eed25c}{group\_chat\_object};
1242 
1243     \textcolor{keywordflow}{if} (length <= 1)
1244         \textcolor{keywordflow}{return};
1245 
1246     \textcolor{keyword}{const} uint8\_t *invite\_data = \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + 1;
1247     uint16\_t invite\_length = length - 1;
1248 
1249     \textcolor{keywordflow}{switch} (\hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}[0]) \{
1250         \textcolor{keywordflow}{case} \hyperlink{toxcore_2group_8c_af82a138924c6ee2d4a228d89f07992e2}{INVITE\_ID}: \{
1251             \textcolor{keywordflow}{if} (length != \hyperlink{toxcore_2group_8c_a44ccacb3c5ca314b5edf8295837b108a}{INVITE\_PACKET\_SIZE})
1252                 \textcolor{keywordflow}{return};
1253 
1254             \textcolor{keywordtype}{int} groupnumber = \hyperlink{toxcore_2group_8c_a9915d747670099a44c1e14b939ea5363}{get\_group\_num}(g\_c, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + 1 + \textcolor{keyword}{sizeof}(uint16\_t));
1255 
1256             \textcolor{keywordflow}{if} (groupnumber == -1) \{
1257                 \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_a4ff3e6778b94fb9425a4b36572a0bf8b}{invite\_callback})
1258                     g\_c->\hyperlink{struct_group___chats_a4ff3e6778b94fb9425a4b36572a0bf8b}{invite\_callback}(m, friendnumber, *(invite\_data + \textcolor{keyword}{sizeof}(uint16\_t)),
       invite\_data, invite\_length,
1259                                          g\_c->\hyperlink{struct_group___chats_a4a640f20c34159b06875274fedf9dc69}{invite\_callback\_userdata});
1260 
1261                 \textcolor{keywordflow}{return};
1262             \}
1263 
1264             \textcolor{keywordflow}{break};
1265         \}
1266 
1267         \textcolor{keywordflow}{case} \hyperlink{toxcore_2group_8c_a65b9964ee5301b98649e60114460ede8}{INVITE\_RESPONSE\_ID}: \{
1268             \textcolor{keywordflow}{if} (length != \hyperlink{toxcore_2group_8c_aeb689d94e5f56084849ac1112008c5bb}{INVITE\_RESPONSE\_PACKET\_SIZE})
1269                 \textcolor{keywordflow}{return};
1270 
1271             uint16\_t other\_groupnum, groupnum;
1272             memcpy(&groupnum, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + 1 + \textcolor{keyword}{sizeof}(uint16\_t), \textcolor{keyword}{sizeof}(uint16\_t));
1273             groupnum = ntohs(groupnum);
1274 
1275             \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnum);
1276 
1277             \textcolor{keywordflow}{if} (!g)
1278                 \textcolor{keywordflow}{return};
1279 
1280             \textcolor{keywordflow}{if} (memcmp(\hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + 1 + \textcolor{keyword}{sizeof}(uint16\_t) * 2, g->\hyperlink{struct_group__c_a590984b7f44686ea4892ffa2651b0cda}{identifier}, 
      \hyperlink{toxcore_2group_8h_abe67a1388deb599ec26ecae07a1d4e9e}{GROUP\_IDENTIFIER\_LENGTH}) != 0)
1281                 \textcolor{keywordflow}{return};
1282 
1283             uint16\_t peer\_number = rand(); \textcolor{comment}{/* TODO: what if two people enter the group at the same time and}
1284 \textcolor{comment}{  are given the same peer\_number by different nodes? */}
1285 
1286             \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} tries = 0;
1287 
1288             \textcolor{keywordflow}{while} (\hyperlink{toxcore_2group_8c_a18b922ce66f2c13f374c3981f369441b}{get\_peer\_index}(g, peer\_number) != -1) \{
1289                 peer\_number = rand();
1290                 ++tries;
1291 
1292                 \textcolor{keywordflow}{if} (tries > 32)
1293                     \textcolor{keywordflow}{return};
1294             \}
1295 
1296             memcpy(&other\_groupnum, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + 1, \textcolor{keyword}{sizeof}(uint16\_t));
1297             other\_groupnum = ntohs(other\_groupnum);
1298 
1299             \textcolor{keywordtype}{int} friendcon\_id = \hyperlink{_messenger_8c_adde4551a2e1898aab1de8e0b7f7c9792}{getfriendcon\_id}(m, friendnumber);
1300             uint8\_t real\_pk[crypto\_box\_PUBLICKEYBYTES], temp\_pk[crypto\_box\_PUBLICKEYBYTES];
1301             \hyperlink{friend__connection_8c_a4605fa0bd8ff3f9bd217ee6dcadbfe5f}{get\_friendcon\_public\_keys}(real\_pk, temp\_pk, g\_c->
      \hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, friendcon\_id);
1302 
1303             \hyperlink{toxcore_2group_8c_ad3ec486d9923daaaa99164f1ea392615}{addpeer}(g\_c, groupnum, real\_pk, temp\_pk, peer\_number);
1304             \textcolor{keywordtype}{int} close\_index = \hyperlink{toxcore_2group_8c_ab48e96a53cc90551754943ce3df01673}{add\_conn\_to\_groupchat}(g\_c, friendcon\_id, groupnum, 0, 1)
      ;
1305 
1306             \textcolor{keywordflow}{if} (close\_index != -1) \{
1307                 g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[close\_index].\hyperlink{struct_group__c_a60c6a6ce4c702d61048d0f38f3974ef8}{group\_number} = other\_groupnum;
1308                 g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[close\_index].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} = \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2da375697d21bebe66381f9439c657ad7f4}{GROUPCHAT\_CLOSE\_ONLINE};
1309             \}
1310 
1311             \hyperlink{toxcore_2group_8c_a66c811c8711cf3064c50efa85d3f7c94}{group\_new\_peer\_send}(g\_c, groupnum, peer\_number, real\_pk, temp\_pk);
1312             \textcolor{keywordflow}{break};
1313         \}
1314 
1315         \textcolor{keywordflow}{default}:
1316             \textcolor{keywordflow}{return};
1317     \}
1318 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a5827237272acfda26ad786049a80e42a_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a5827237272acfda26ad786049a80e42a_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_ac0762dd7405b5b863aca34d0b52d8e98}{\index{toxcore/group.\+c@{toxcore/group.\+c}!handle\+\_\+lossy@{handle\+\_\+lossy}}
\index{handle\+\_\+lossy@{handle\+\_\+lossy}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{handle\+\_\+lossy}]{\setlength{\rightskip}{0pt plus 5cm}static int handle\+\_\+lossy (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{object, }
\item[{int}]{friendcon\+\_\+id, }
\item[{const uint8\+\_\+t $\ast$}]{data, }
\item[{uint16\+\_\+t}]{length}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_ac0762dd7405b5b863aca34d0b52d8e98}


Definition at line 2038 of file group.\+c.



References friend\+\_\+in\+\_\+close(), Group\+\_\+\+Chats\+::function, get\+\_\+group\+\_\+c(), get\+\_\+peer\+\_\+index(), Group\+\_\+c\+::group, lossy\+\_\+packet\+\_\+not\+\_\+received(), Group\+\_\+\+Chats\+::lossy\+\_\+packethandlers, Group\+\_\+\+Peer\+::object, Group\+\_\+c\+::object, P\+A\+C\+K\+E\+T\+\_\+\+I\+D\+\_\+\+L\+O\+S\+S\+Y\+\_\+\+G\+R\+O\+U\+P\+C\+H\+A\+T, Group\+\_\+c\+::peer\+\_\+number, and send\+\_\+lossy\+\_\+all\+\_\+close().



Referenced by add\+\_\+conn\+\_\+to\+\_\+groupchat().


\begin{DoxyCode}
2039 \{
2040     \hyperlink{struct_group___chats}{Group\_Chats} *g\_c = object;
2041 
2042     \textcolor{keywordflow}{if} (length < 1 + \textcolor{keyword}{sizeof}(uint16\_t) * 3 + 1)
2043         \textcolor{keywordflow}{return} -1;
2044 
2045     \textcolor{keywordflow}{if} (\hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}[0] != \hyperlink{_messenger_8h_a0c397f9547fd8141dcf8af7ff5951508}{PACKET\_ID\_LOSSY\_GROUPCHAT})
2046         \textcolor{keywordflow}{return} -1;
2047 
2048     uint16\_t groupnumber, peer\_number, message\_number;
2049     memcpy(&groupnumber, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + 1, \textcolor{keyword}{sizeof}(uint16\_t));
2050     memcpy(&peer\_number, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + 1 + \textcolor{keyword}{sizeof}(uint16\_t), \textcolor{keyword}{sizeof}(uint16\_t));
2051     memcpy(&message\_number, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + 1 + \textcolor{keyword}{sizeof}(uint16\_t) * 2, \textcolor{keyword}{sizeof}(uint16\_t));
2052     groupnumber = ntohs(groupnumber);
2053     peer\_number = ntohs(peer\_number);
2054     message\_number = ntohs(message\_number);
2055 
2056     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
2057 
2058     \textcolor{keywordflow}{if} (!g)
2059         \textcolor{keywordflow}{return} -1;
2060 
2061     \textcolor{keywordtype}{int} index = \hyperlink{toxcore_2group_8c_ab33265ba89587d6be3a703043a9619c3}{friend\_in\_close}(g, friendcon\_id);
2062 
2063     \textcolor{keywordflow}{if} (index == -1)
2064         \textcolor{keywordflow}{return} -1;
2065 
2066     \textcolor{keywordflow}{if} (peer\_number == g->\hyperlink{struct_group__c_a264348ec1f724e05464ca97b7c432817}{peer\_number})
2067         \textcolor{keywordflow}{return} -1;
2068 
2069     \textcolor{keywordtype}{int} peer\_index = \hyperlink{toxcore_2group_8c_a18b922ce66f2c13f374c3981f369441b}{get\_peer\_index}(g, peer\_number);
2070 
2071     \textcolor{keywordflow}{if} (peer\_index == -1)
2072         \textcolor{keywordflow}{return} -1;
2073 
2074     \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_abdb13333f67980a5f5842fe88ca55996}{lossy\_packet\_not\_received}(g, peer\_index, message\_number))
2075         \textcolor{keywordflow}{return} -1;
2076 
2077     \textcolor{keyword}{const} uint8\_t *lossy\_data = \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + 1 + \textcolor{keyword}{sizeof}(uint16\_t) * 3;
2078     uint16\_t lossy\_length = length - (1 + \textcolor{keyword}{sizeof}(uint16\_t) * 3);
2079     uint8\_t message\_id = lossy\_data[0];
2080     ++lossy\_data;
2081     --lossy\_length;
2082 
2083     \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_a3630aa7993bdd216d40637826a92649f}{lossy\_packethandlers}[message\_id].\hyperlink{struct_group___chats_acbfbbdaa6d4201766377ac50de985ae9}{function}) \{
2084         \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_a3630aa7993bdd216d40637826a92649f}{lossy\_packethandlers}[message\_id].\hyperlink{struct_group___chats_acbfbbdaa6d4201766377ac50de985ae9}{function}(g->
      \hyperlink{struct_group__c_a077376d12464f945e2414d5499c79b3f}{object}, groupnumber, peer\_index, g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_a077376d12464f945e2414d5499c79b3f}{object},
2085                 lossy\_data, lossy\_length) == -1) \{
2086             \textcolor{keywordflow}{return} -1;
2087         \}
2088     \} \textcolor{keywordflow}{else} \{
2089         \textcolor{keywordflow}{return} -1;
2090     \}
2091 
2092     \hyperlink{toxcore_2group_8c_a593b5363a3865f21759df2ecc0a8c45a}{send\_lossy\_all\_close}(g\_c, groupnumber, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + 1 + \textcolor{keyword}{sizeof}(uint16\_t), length - (1
       + \textcolor{keyword}{sizeof}(uint16\_t)), index);
2093     \textcolor{keywordflow}{return} 0;
2094 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ac0762dd7405b5b863aca34d0b52d8e98_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ac0762dd7405b5b863aca34d0b52d8e98_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a1a33e6d2f2651603b3e37ff90cfd6dee}{\index{toxcore/group.\+c@{toxcore/group.\+c}!handle\+\_\+message\+\_\+packet\+\_\+group@{handle\+\_\+message\+\_\+packet\+\_\+group}}
\index{handle\+\_\+message\+\_\+packet\+\_\+group@{handle\+\_\+message\+\_\+packet\+\_\+group}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{handle\+\_\+message\+\_\+packet\+\_\+group}]{\setlength{\rightskip}{0pt plus 5cm}static void handle\+\_\+message\+\_\+packet\+\_\+group (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{const uint8\+\_\+t $\ast$}]{data, }
\item[{uint16\+\_\+t}]{length, }
\item[{int}]{close\+\_\+index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a1a33e6d2f2651603b3e37ff90cfd6dee}


Definition at line 1805 of file group.\+c.



References Group\+\_\+\+Chats\+::action\+\_\+callback, Group\+\_\+\+Chats\+::action\+\_\+callback\+\_\+userdata, addpeer(), Group\+\_\+c\+::close, delpeer(), get\+\_\+group\+\_\+c(), get\+\_\+peer\+\_\+index(), Group\+\_\+c\+::group, G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D, G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+K\+I\+L\+L\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H, G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+A\+M\+E\+\_\+\+I\+D, G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+I\+D, G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+N\+E\+W\+\_\+\+P\+E\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H, G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+P\+I\+N\+G\+\_\+\+I\+D, G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D, Group\+\_\+c\+::group\+\_\+number, Group\+\_\+\+Peer\+::last\+\_\+message\+\_\+number, Group\+\_\+\+Peer\+::last\+\_\+recv, Group\+\_\+\+Chats\+::m, Group\+\_\+\+Chats\+::message\+\_\+callback, Group\+\_\+\+Chats\+::message\+\_\+callback\+\_\+userdata, Group\+\_\+c\+::number, P\+A\+C\+K\+E\+T\+\_\+\+I\+D\+\_\+\+A\+C\+T\+I\+O\+N, P\+A\+C\+K\+E\+T\+\_\+\+I\+D\+\_\+\+M\+E\+S\+S\+A\+G\+E, send\+\_\+message\+\_\+all\+\_\+close(), send\+\_\+peer\+\_\+query(), setnick(), settitle(), and unix\+\_\+time().



Referenced by handle\+\_\+packet().


\begin{DoxyCode}
1807 \{
1808     \textcolor{keywordflow}{if} (length < \textcolor{keyword}{sizeof}(uint16\_t) + \textcolor{keyword}{sizeof}(uint32\_t) + 1)
1809         \textcolor{keywordflow}{return};
1810 
1811     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
1812 
1813     \textcolor{keywordflow}{if} (!g)
1814         \textcolor{keywordflow}{return};
1815 
1816     uint16\_t peer\_number;
1817     memcpy(&peer\_number, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}, \textcolor{keyword}{sizeof}(uint16\_t));
1818     peer\_number = ntohs(peer\_number);
1819 
1820     \textcolor{keywordtype}{int} index = \hyperlink{toxcore_2group_8c_a18b922ce66f2c13f374c3981f369441b}{get\_peer\_index}(g, peer\_number);
1821 
1822     \textcolor{keywordflow}{if} (index == -1) \{
1823         \textcolor{comment}{/* We don't know the peer this packet came from so we query the list of peers from that peer.}
1824 \textcolor{comment}{          (They would not have relayed it if they didn't know the peer.) */}
1825         \hyperlink{toxcore_2group_8c_a1d102fdae79367ce06e55cda3cd9f441}{send\_peer\_query}(g\_c, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[close\_index].\hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number}, g->
      \hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[close\_index].\hyperlink{struct_group__c_a60c6a6ce4c702d61048d0f38f3974ef8}{group\_number});
1826         \textcolor{keywordflow}{return};
1827     \}
1828 
1829     uint32\_t message\_number;
1830     memcpy(&message\_number, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + \textcolor{keyword}{sizeof}(uint16\_t), \textcolor{keyword}{sizeof}(message\_number));
1831     message\_number = ntohl(message\_number);
1832 
1833     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[index].\hyperlink{struct_group___peer_a1a221b969812bb7c384b0eb23fb1012d}{last\_message\_number} == 0) \{
1834         g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[index].\hyperlink{struct_group___peer_a1a221b969812bb7c384b0eb23fb1012d}{last\_message\_number} = message\_number;
1835     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (message\_number - g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[index].\hyperlink{struct_group___peer_a1a221b969812bb7c384b0eb23fb1012d}{last\_message\_number} > 64 ||
1836                message\_number == g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[index].\hyperlink{struct_group___peer_a1a221b969812bb7c384b0eb23fb1012d}{last\_message\_number}) \{
1837         \textcolor{keywordflow}{return};
1838     \}
1839 
1840     g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[index].\hyperlink{struct_group___peer_a1a221b969812bb7c384b0eb23fb1012d}{last\_message\_number} = message\_number;
1841 
1842     uint8\_t message\_id = \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}[\textcolor{keyword}{sizeof}(uint16\_t) + \textcolor{keyword}{sizeof}(message\_number)];
1843     \textcolor{keyword}{const} uint8\_t *msg\_data = \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + \textcolor{keyword}{sizeof}(uint16\_t) + \textcolor{keyword}{sizeof}(message\_number) + 1;
1844     uint16\_t msg\_data\_len = length - (\textcolor{keyword}{sizeof}(uint16\_t) + \textcolor{keyword}{sizeof}(message\_number) + 1);
1845 
1846     \textcolor{keywordflow}{switch} (message\_id) \{
1847         \textcolor{keywordflow}{case} \hyperlink{toxcore_2group_8c_a9cee2a2969784517dd1252308bcf5912}{GROUP\_MESSAGE\_PING\_ID}: \{
1848             \textcolor{keywordflow}{if} (msg\_data\_len != 0)
1849                 \textcolor{keywordflow}{return};
1850 
1851             g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[index].\hyperlink{struct_group___peer_a03706feea89530a7ac78082fc79ed8fc}{last\_recv} = \hyperlink{util_8c_ac958d9f8847cb8039444bfa3d304233a}{unix\_time}();
1852         \}
1853         \textcolor{keywordflow}{break};
1854 
1855         \textcolor{keywordflow}{case} \hyperlink{toxcore_2group_8c_a4ab0edbbe4f097ec283299e6f7834ed1}{GROUP\_MESSAGE\_NEW\_PEER\_ID}: \{
1856             \textcolor{keywordflow}{if} (msg\_data\_len != \hyperlink{toxcore_2group_8c_a47fc7b5448575f7fef6f76d011524f67}{GROUP\_MESSAGE\_NEW\_PEER\_LENGTH})
1857                 \textcolor{keywordflow}{return};
1858 
1859             uint16\_t new\_peer\_number;
1860             memcpy(&new\_peer\_number, msg\_data, \textcolor{keyword}{sizeof}(uint16\_t));
1861             new\_peer\_number = ntohs(new\_peer\_number);
1862             \hyperlink{toxcore_2group_8c_ad3ec486d9923daaaa99164f1ea392615}{addpeer}(g\_c, groupnumber, msg\_data + \textcolor{keyword}{sizeof}(uint16\_t), msg\_data + \textcolor{keyword}{sizeof}(uint16\_t) + 
      crypto\_box\_PUBLICKEYBYTES,
1863                     new\_peer\_number);
1864         \}
1865         \textcolor{keywordflow}{break};
1866 
1867         \textcolor{keywordflow}{case} \hyperlink{toxcore_2group_8c_a9599f988176892e9255f723f49a89b77}{GROUP\_MESSAGE\_KILL\_PEER\_ID}: \{
1868             \textcolor{keywordflow}{if} (msg\_data\_len != \hyperlink{toxcore_2group_8c_a4c4a82b07baae01ec32fa00be88ab769}{GROUP\_MESSAGE\_KILL\_PEER\_LENGTH})
1869                 \textcolor{keywordflow}{return};
1870 
1871             uint16\_t kill\_peer\_number;
1872             memcpy(&kill\_peer\_number, msg\_data, \textcolor{keyword}{sizeof}(uint16\_t));
1873             kill\_peer\_number = ntohs(kill\_peer\_number);
1874 
1875             \textcolor{keywordflow}{if} (peer\_number == kill\_peer\_number) \{
1876                 \hyperlink{toxcore_2group_8c_a54efac41dbd172d4443518f006d89b05}{delpeer}(g\_c, groupnumber, index);
1877             \} \textcolor{keywordflow}{else} \{
1878                 \textcolor{keywordflow}{return};
1879                 \textcolor{comment}{//TODO}
1880             \}
1881         \}
1882         \textcolor{keywordflow}{break};
1883 
1884         \textcolor{keywordflow}{case} \hyperlink{toxcore_2group_8c_a5c6887bde59fba00ff3ea260f71e8b59}{GROUP\_MESSAGE\_NAME\_ID}: \{
1885             \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_a43eba3fa6d10b16fba5c35b6a1b55590}{setnick}(g\_c, groupnumber, index, msg\_data, msg\_data\_len) == -1)
1886                 \textcolor{keywordflow}{return};
1887         \}
1888         \textcolor{keywordflow}{break};
1889 
1890         \textcolor{keywordflow}{case} \hyperlink{toxcore_2group_8c_aab29b4ca873b8909080da85c65acf050}{GROUP\_MESSAGE\_TITLE\_ID}: \{
1891             \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_aa09cb89734d556bc4b1410de31b7406e}{settitle}(g\_c, groupnumber, index, msg\_data, msg\_data\_len) == -1)
1892                 \textcolor{keywordflow}{return};
1893         \}
1894         \textcolor{keywordflow}{break};
1895 
1896         \textcolor{keywordflow}{case} \hyperlink{_messenger_8h_a254356a92e0c8c90a8e5ff6f828efc4c}{PACKET\_ID\_MESSAGE}: \{
1897             \textcolor{keywordflow}{if} (msg\_data\_len == 0)
1898                 \textcolor{keywordflow}{return};
1899 
1900             uint8\_t newmsg[msg\_data\_len + 1];
1901             memcpy(newmsg, msg\_data, msg\_data\_len);
1902             newmsg[msg\_data\_len] = 0;
1903 
1904             \textcolor{comment}{//TODO}
1905             \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_a0f49e6a148c90647f5280d35d0f7a9d0}{message\_callback})
1906                 g\_c->\hyperlink{struct_group___chats_a0f49e6a148c90647f5280d35d0f7a9d0}{message\_callback}(g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}, groupnumber, index, newmsg, msg\_data\_len, 
      g\_c->\hyperlink{struct_group___chats_a593c4aa670d5dc3d9fcd842fb8d5a6fe}{message\_callback\_userdata});
1907 
1908             \textcolor{keywordflow}{break};
1909         \}
1910 
1911         \textcolor{keywordflow}{case} \hyperlink{_messenger_8h_a2fa8ad5a6eee88e35345e9d9fc04a98c}{PACKET\_ID\_ACTION}: \{
1912             \textcolor{keywordflow}{if} (msg\_data\_len == 0)
1913                 \textcolor{keywordflow}{return};
1914 
1915             uint8\_t newmsg[msg\_data\_len + 1];
1916             memcpy(newmsg, msg\_data, msg\_data\_len);
1917             newmsg[msg\_data\_len] = 0;
1918 
1919             \textcolor{comment}{//TODO}
1920             \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_a61996fdab7da709944de726b88872d61}{action\_callback})
1921                 g\_c->\hyperlink{struct_group___chats_a61996fdab7da709944de726b88872d61}{action\_callback}(g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}, groupnumber, index, newmsg, msg\_data\_len, g\_c
      ->\hyperlink{struct_group___chats_ab8194101242ca87c3ee0fd11f7717569}{action\_callback\_userdata});
1922 
1923             \textcolor{keywordflow}{break};
1924         \}
1925 
1926         \textcolor{keywordflow}{default}:
1927             \textcolor{keywordflow}{return};
1928     \}
1929 
1930     \hyperlink{toxcore_2group_8c_a8b14c71c58c2bd20999d0fb1ddd6b0bc}{send\_message\_all\_close}(g\_c, groupnumber, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}, length, -1\textcolor{comment}{/*TODO close\_index*/}
      );
1931 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a1a33e6d2f2651603b3e37ff90cfd6dee_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a1a33e6d2f2651603b3e37ff90cfd6dee_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a0b63c2cb5a61d6418705d22a30a8d4ef}{\index{toxcore/group.\+c@{toxcore/group.\+c}!handle\+\_\+packet@{handle\+\_\+packet}}
\index{handle\+\_\+packet@{handle\+\_\+packet}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{handle\+\_\+packet}]{\setlength{\rightskip}{0pt plus 5cm}static int handle\+\_\+packet (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{object, }
\item[{int}]{friendcon\+\_\+id, }
\item[{uint8\+\_\+t $\ast$}]{data, }
\item[{uint16\+\_\+t}]{length}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a0b63c2cb5a61d6418705d22a30a8d4ef}


Definition at line 1933 of file group.\+c.



References friend\+\_\+in\+\_\+close(), get\+\_\+group\+\_\+c(), handle\+\_\+direct\+\_\+packet(), handle\+\_\+message\+\_\+packet\+\_\+group(), handle\+\_\+packet\+\_\+online(), P\+A\+C\+K\+E\+T\+\_\+\+I\+D\+\_\+\+D\+I\+R\+E\+C\+T\+\_\+\+G\+R\+O\+U\+P\+C\+H\+A\+T, P\+A\+C\+K\+E\+T\+\_\+\+I\+D\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+G\+R\+O\+U\+P\+C\+H\+A\+T, and P\+A\+C\+K\+E\+T\+\_\+\+I\+D\+\_\+\+O\+N\+L\+I\+N\+E\+\_\+\+P\+A\+C\+K\+E\+T.



Referenced by add\+\_\+conn\+\_\+to\+\_\+groupchat().


\begin{DoxyCode}
1934 \{
1935     \hyperlink{struct_group___chats}{Group\_Chats} *g\_c = object;
1936 
1937     \textcolor{keywordflow}{if} (length < 1 + \textcolor{keyword}{sizeof}(uint16\_t) + 1)
1938         \textcolor{keywordflow}{return} -1;
1939 
1940     \textcolor{keywordflow}{if} (\hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}[0] == \hyperlink{_messenger_8h_aedd8bfcd33031d28cd00e0afe4cb3049}{PACKET\_ID\_ONLINE\_PACKET}) \{
1941         \textcolor{keywordflow}{return} \hyperlink{toxcore_2group_8c_aadd3b840d1ca411fc2345ec2c9f6bfe7}{handle\_packet\_online}(g\_c, friendcon\_id, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + 1, length - 1);
1942     \}
1943 
1944     \textcolor{keywordflow}{if} (\hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}[0] != \hyperlink{_messenger_8h_a924a8a2c833fef2c4e77892e9261c5df}{PACKET\_ID\_DIRECT\_GROUPCHAT} && 
      \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}[0] != \hyperlink{_messenger_8h_a7d05c00a5b2c0a771cfff523935a2a0c}{PACKET\_ID\_MESSAGE\_GROUPCHAT})
1945         \textcolor{keywordflow}{return} -1;
1946 
1947     uint16\_t groupnumber;
1948     memcpy(&groupnumber, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + 1, \textcolor{keyword}{sizeof}(uint16\_t));
1949     groupnumber = ntohs(groupnumber);
1950     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
1951 
1952     \textcolor{keywordflow}{if} (!g)
1953         \textcolor{keywordflow}{return} -1;
1954 
1955     \textcolor{keywordtype}{int} index = \hyperlink{toxcore_2group_8c_ab33265ba89587d6be3a703043a9619c3}{friend\_in\_close}(g, friendcon\_id);
1956 
1957     \textcolor{keywordflow}{if} (index == -1)
1958         \textcolor{keywordflow}{return} -1;
1959 
1960     \textcolor{keywordflow}{switch} (\hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}[0]) \{
1961         \textcolor{keywordflow}{case} \hyperlink{_messenger_8h_a924a8a2c833fef2c4e77892e9261c5df}{PACKET\_ID\_DIRECT\_GROUPCHAT}: \{
1962             \hyperlink{toxcore_2group_8c_a5f0da219f2f87c142bd8c95f6d43e32c}{handle\_direct\_packet}(g\_c, groupnumber, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + 1 + \textcolor{keyword}{sizeof}(uint16\_t), 
      length - (1 + \textcolor{keyword}{sizeof}(uint16\_t)), index);
1963             \textcolor{keywordflow}{break};
1964         \}
1965 
1966         \textcolor{keywordflow}{case} \hyperlink{_messenger_8h_a7d05c00a5b2c0a771cfff523935a2a0c}{PACKET\_ID\_MESSAGE\_GROUPCHAT}: \{
1967             \hyperlink{toxcore_2group_8c_a1a33e6d2f2651603b3e37ff90cfd6dee}{handle\_message\_packet\_group}(g\_c, groupnumber, 
      \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + 1 + \textcolor{keyword}{sizeof}(uint16\_t), length - (1 + \textcolor{keyword}{sizeof}(uint16\_t)), index);
1968             \textcolor{keywordflow}{break};
1969         \}
1970 
1971         \textcolor{keywordflow}{default}: \{
1972             \textcolor{keywordflow}{return} 0;
1973         \}
1974     \}
1975 
1976     \textcolor{keywordflow}{return} 0;
1977 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a0b63c2cb5a61d6418705d22a30a8d4ef_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a0b63c2cb5a61d6418705d22a30a8d4ef_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_aadd3b840d1ca411fc2345ec2c9f6bfe7}{\index{toxcore/group.\+c@{toxcore/group.\+c}!handle\+\_\+packet\+\_\+online@{handle\+\_\+packet\+\_\+online}}
\index{handle\+\_\+packet\+\_\+online@{handle\+\_\+packet\+\_\+online}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{handle\+\_\+packet\+\_\+online}]{\setlength{\rightskip}{0pt plus 5cm}static int handle\+\_\+packet\+\_\+online (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{friendcon\+\_\+id, }
\item[{uint8\+\_\+t $\ast$}]{data, }
\item[{uint16\+\_\+t}]{length}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_aadd3b840d1ca411fc2345ec2c9f6bfe7}


Definition at line 1372 of file group.\+c.



References Group\+\_\+c\+::close, Group\+\_\+c\+::closest, count\+\_\+close\+\_\+connected(), D\+E\+S\+I\+R\+E\+D\+\_\+\+C\+L\+O\+S\+E\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S, Group\+\_\+\+Chats\+::fr\+\_\+c, friend\+\_\+in\+\_\+close(), get\+\_\+group\+\_\+c(), get\+\_\+group\+\_\+num(), Group\+\_\+c\+::group\+\_\+number, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+N\+O\+N\+E, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+O\+N\+L\+I\+N\+E, Group\+\_\+c\+::identifier, kill\+\_\+friend\+\_\+connection(), Group\+\_\+c\+::number, Group\+\_\+c\+::number\+\_\+joined, O\+N\+L\+I\+N\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+D\+A\+T\+A\+\_\+\+S\+I\+Z\+E, send\+\_\+packet\+\_\+online(), send\+\_\+peer\+\_\+kill(), send\+\_\+peer\+\_\+query(), and Group\+\_\+c\+::type.



Referenced by handle\+\_\+packet().


\begin{DoxyCode}
1373 \{
1374     \textcolor{keywordflow}{if} (length != \hyperlink{toxcore_2group_8c_aa0532f23e69d332abb81b6d9d0564009}{ONLINE\_PACKET\_DATA\_SIZE})
1375         \textcolor{keywordflow}{return} -1;
1376 
1377     \textcolor{keywordtype}{int} groupnumber = \hyperlink{toxcore_2group_8c_a9915d747670099a44c1e14b939ea5363}{get\_group\_num}(g\_c, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + \textcolor{keyword}{sizeof}(uint16\_t));
1378     uint16\_t other\_groupnum;
1379     memcpy(&other\_groupnum, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}, \textcolor{keyword}{sizeof}(uint16\_t));
1380     other\_groupnum = ntohs(other\_groupnum);
1381 
1382     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
1383 
1384     \textcolor{keywordflow}{if} (!g)
1385         \textcolor{keywordflow}{return} -1;
1386 
1387     \textcolor{keywordtype}{int} index = \hyperlink{toxcore_2group_8c_ab33265ba89587d6be3a703043a9619c3}{friend\_in\_close}(g, friendcon\_id);
1388 
1389     \textcolor{keywordflow}{if} (index == -1)
1390         \textcolor{keywordflow}{return} -1;
1391 
1392     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[index].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} == \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2da375697d21bebe66381f9439c657ad7f4}{GROUPCHAT\_CLOSE\_ONLINE}) \{
1393         \textcolor{keywordflow}{return} -1;
1394     \}
1395 
1396     \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_a438c9dd8205d89633a55acdac6e1f6f7}{count\_close\_connected}(g) == 0) \{
1397         \hyperlink{toxcore_2group_8c_a1d102fdae79367ce06e55cda3cd9f441}{send\_peer\_query}(g\_c, friendcon\_id, other\_groupnum);
1398     \}
1399 
1400     g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[index].\hyperlink{struct_group__c_a60c6a6ce4c702d61048d0f38f3974ef8}{group\_number} = other\_groupnum;
1401     g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[index].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} = \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2da375697d21bebe66381f9439c657ad7f4}{GROUPCHAT\_CLOSE\_ONLINE};
1402     \hyperlink{toxcore_2group_8c_af7c31fe40ea58b07c87e38ef94f13eac}{send\_packet\_online}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, friendcon\_id, groupnumber, g->
      \hyperlink{struct_group__c_a590984b7f44686ea4892ffa2651b0cda}{identifier});
1403 
1404     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a50fa99a57ee7c9280fc90b7c33d760d0}{number\_joined} != -1 && \hyperlink{toxcore_2group_8c_a438c9dd8205d89633a55acdac6e1f6f7}{count\_close\_connected}(g) >= 
      \hyperlink{toxcore_2group_8h_ae49a7f6c02e0c31ee7e1a84b529f33d7}{DESIRED\_CLOSE\_CONNECTIONS}) \{
1405         \textcolor{keywordtype}{int} fr\_close\_index = \hyperlink{toxcore_2group_8c_ab33265ba89587d6be3a703043a9619c3}{friend\_in\_close}(g, g->\hyperlink{struct_group__c_a50fa99a57ee7c9280fc90b7c33d760d0}{number\_joined});
1406 
1407         \textcolor{keywordflow}{if} (fr\_close\_index == -1)
1408             \textcolor{keywordflow}{return} -1;
1409 
1410         \textcolor{keywordflow}{if} (!g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[fr\_close\_index].\hyperlink{struct_group__c_a8ff1adca518d82728e7d450f6d14e8db}{closest}) \{
1411             g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[fr\_close\_index].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} = \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2daec225048274e40e0a1517f1afc008834}{GROUPCHAT\_CLOSE\_NONE};
1412             \hyperlink{toxcore_2group_8c_a0f7888238b6e47dd9f4e80ab1f33312c}{send\_peer\_kill}(g\_c, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[fr\_close\_index].
      \hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number}, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[fr\_close\_index].\hyperlink{struct_group__c_a60c6a6ce4c702d61048d0f38f3974ef8}{group\_number});
1413             \hyperlink{friend__connection_8c_a5f311791c0ec4ecd8fdf5359cf7fb95a}{kill\_friend\_connection}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[fr\_close\_index].
      \hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number});
1414             g->\hyperlink{struct_group__c_a50fa99a57ee7c9280fc90b7c33d760d0}{number\_joined} = -1;
1415         \}
1416     \}
1417 
1418     \textcolor{keywordflow}{return} 0;
1419 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_aadd3b840d1ca411fc2345ec2c9f6bfe7_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_aadd3b840d1ca411fc2345ec2c9f6bfe7_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a759667e1dd1553a5ad8486c5165ec520}{\index{toxcore/group.\+c@{toxcore/group.\+c}!handle\+\_\+send\+\_\+peers@{handle\+\_\+send\+\_\+peers}}
\index{handle\+\_\+send\+\_\+peers@{handle\+\_\+send\+\_\+peers}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{handle\+\_\+send\+\_\+peers}]{\setlength{\rightskip}{0pt plus 5cm}static int handle\+\_\+send\+\_\+peers (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{const uint8\+\_\+t $\ast$}]{data, }
\item[{uint16\+\_\+t}]{length}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a759667e1dd1553a5ad8486c5165ec520}


Definition at line 1505 of file group.\+c.



References addpeer(), make-\/funny-\/savefile\+::data, get\+\_\+group\+\_\+c(), group\+\_\+name\+\_\+send(), G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+E\+D, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+V\+A\+L\+I\+D, Group\+\_\+\+Chats\+::m, M\+A\+X\+\_\+\+N\+A\+M\+E\+\_\+\+L\+E\+N\+G\+T\+H, Messenger\+::name, Messenger\+::name\+\_\+length, Messenger\+::net\+\_\+crypto, Group\+\_\+c\+::peer\+\_\+number, Net\+\_\+\+Crypto\+::self\+\_\+public\+\_\+key, setnick(), and Group\+\_\+c\+::status.



Referenced by handle\+\_\+direct\+\_\+packet().


\begin{DoxyCode}
1506 \{
1507     \textcolor{keywordflow}{if} (length == 0)
1508         \textcolor{keywordflow}{return} -1;
1509 
1510     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
1511 
1512     \textcolor{keywordflow}{if} (!g)
1513         \textcolor{keywordflow}{return} -1;
1514 
1515     \textcolor{keyword}{const} uint8\_t *d = \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data};
1516 
1517     \textcolor{keywordflow}{while} ((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})(length - (d - \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data})) >= \textcolor{keyword}{sizeof}(uint16\_t) + crypto\_box\_PUBLICKEYBYTES * 2 + 1)
       \{
1518         uint16\_t peer\_num;
1519         memcpy(&peer\_num, d, \textcolor{keyword}{sizeof}(peer\_num));
1520         peer\_num = ntohs(peer\_num);
1521         d += \textcolor{keyword}{sizeof}(uint16\_t);
1522         \textcolor{keywordtype}{int} peer\_index = \hyperlink{toxcore_2group_8c_ad3ec486d9923daaaa99164f1ea392615}{addpeer}(g\_c, groupnumber, d, d + crypto\_box\_PUBLICKEYBYTES, peer\_num);
1523 
1524         \textcolor{keywordflow}{if} (peer\_index == -1)
1525             \textcolor{keywordflow}{return} -1;
1526 
1527         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_ade818037fd6c985038ff29656089758d}{status} == \hyperlink{toxcore_2group_8h_a61dadd085c1777f559549e05962b2c9ea6449515dfdf789c9b02550bc408ca2cb}{GROUPCHAT\_STATUS\_VALID}
1528                 && memcmp(d, g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}->\hyperlink{struct_messenger_ab06a41217a1e9b5985555e19e088ae94}{net\_crypto}->\hyperlink{struct_net___crypto_ae726df8bdc26380e5a6c3187a00d6881}{self\_public\_key}, 
      crypto\_box\_PUBLICKEYBYTES) == 0) \{
1529             g->\hyperlink{struct_group__c_a264348ec1f724e05464ca97b7c432817}{peer\_number} = peer\_num;
1530             g->\hyperlink{struct_group__c_ade818037fd6c985038ff29656089758d}{status} = \hyperlink{toxcore_2group_8h_a61dadd085c1777f559549e05962b2c9ea168545b20e428420e53744787076c10e}{GROUPCHAT\_STATUS\_CONNECTED};
1531             \hyperlink{toxcore_2group_8c_afa6172f19b4153d866057d744bdf0a11}{group\_name\_send}(g\_c, groupnumber, g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}->\hyperlink{struct_messenger_a11b8cc6595eea79e65c978209278e683}{name}, g\_c->
      \hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}->\hyperlink{struct_messenger_a3573d7a906b26e9999cd74f2c4066601}{name\_length});
1532         \}
1533 
1534         d += crypto\_box\_PUBLICKEYBYTES * 2;
1535         uint8\_t name\_length = *d;
1536         d += 1;
1537 
1538         \textcolor{keywordflow}{if} (name\_length > (length - (d - \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data})) || name\_length > 
      \hyperlink{_messenger_8h_a0c397a708cec89c74029582574516b30}{MAX\_NAME\_LENGTH})
1539             \textcolor{keywordflow}{return} -1;
1540 
1541         \hyperlink{toxcore_2group_8c_a43eba3fa6d10b16fba5c35b6a1b55590}{setnick}(g\_c, groupnumber, peer\_index, d, name\_length);
1542         d += name\_length;
1543     \}
1544 
1545     \textcolor{keywordflow}{return} 0;
1546 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a759667e1dd1553a5ad8486c5165ec520_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a759667e1dd1553a5ad8486c5165ec520_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a9efe0d71e9ba46443367bc56788eb94c}{\index{toxcore/group.\+c@{toxcore/group.\+c}!handle\+\_\+status@{handle\+\_\+status}}
\index{handle\+\_\+status@{handle\+\_\+status}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{handle\+\_\+status}]{\setlength{\rightskip}{0pt plus 5cm}static int handle\+\_\+status (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{object, }
\item[{int}]{friendcon\+\_\+id, }
\item[{uint8\+\_\+t}]{status}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a9efe0d71e9ba46443367bc56788eb94c}


Definition at line 601 of file group.\+c.



References G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+O\+N\+L\+I\+N\+E, and set\+\_\+conns\+\_\+status\+\_\+groups().



Referenced by add\+\_\+conn\+\_\+to\+\_\+groupchat().


\begin{DoxyCode}
602 \{
603     \hyperlink{struct_group___chats}{Group\_Chats} *g\_c = object;
604 
605     \textcolor{keywordflow}{if} (status) \{ \textcolor{comment}{/* Went online */}
606         \hyperlink{toxcore_2group_8c_ae5e2dd522c8105af9203d908b7fb3f16}{set\_conns\_status\_groups}(g\_c, friendcon\_id, 
      \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2da375697d21bebe66381f9439c657ad7f4}{GROUPCHAT\_CLOSE\_ONLINE});
607     \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{/* Went offline */}
608         \hyperlink{toxcore_2group_8c_ae5e2dd522c8105af9203d908b7fb3f16}{set\_conns\_status\_groups}(g\_c, friendcon\_id, 
      \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2da59fc98d9e4ab0b97405e3f509b8e4b19}{GROUPCHAT\_CLOSE\_CONNECTION});
609         \textcolor{comment}{//TODO remove timedout connections?}
610     \}
611 
612     \textcolor{keywordflow}{return} 0;
613 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a9efe0d71e9ba46443367bc56788eb94c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a9efe0d71e9ba46443367bc56788eb94c_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_ab88ec06a4663a75e56afa84ae094df77}{\index{toxcore/group.\+c@{toxcore/group.\+c}!invite\+\_\+friend@{invite\+\_\+friend}}
\index{invite\+\_\+friend@{invite\+\_\+friend}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{invite\+\_\+friend}]{\setlength{\rightskip}{0pt plus 5cm}int invite\+\_\+friend (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int32\+\_\+t}]{friendnumber, }
\item[{int}]{groupnumber}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_ab88ec06a4663a75e56afa84ae094df77}


Definition at line 900 of file group.\+c.



References get\+\_\+group\+\_\+c(), G\+R\+O\+U\+P\+\_\+\+I\+D\+E\+N\+T\+I\+F\+I\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H, Group\+\_\+c\+::identifier, invite, I\+N\+V\+I\+T\+E\+\_\+\+I\+D, I\+N\+V\+I\+T\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E, Group\+\_\+\+Chats\+::m, send\+\_\+group\+\_\+invite\+\_\+packet(), and wipe\+\_\+group\+\_\+chat().



Referenced by tox\+\_\+invite\+\_\+friend().


\begin{DoxyCode}
901 \{
902     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
903 
904     \textcolor{keywordflow}{if} (!g)
905         \textcolor{keywordflow}{return} -1;
906 
907     uint8\_t \hyperlink{msi_8c_ae511d1f1e345bb77cd4120b39679f028a1626b80e8928e701cbf05e1794eb4504}{invite}[\hyperlink{toxcore_2group_8c_a44ccacb3c5ca314b5edf8295837b108a}{INVITE\_PACKET\_SIZE}];
908     invite[0] = \hyperlink{toxcore_2group_8c_af82a138924c6ee2d4a228d89f07992e2}{INVITE\_ID};
909     uint16\_t groupchat\_num = htons((uint16\_t)groupnumber);
910     memcpy(invite + 1, &groupchat\_num, \textcolor{keyword}{sizeof}(groupchat\_num));
911     memcpy(invite + 1 + \textcolor{keyword}{sizeof}(groupchat\_num), g->\hyperlink{struct_group__c_a590984b7f44686ea4892ffa2651b0cda}{identifier}, 
      \hyperlink{toxcore_2group_8h_abe67a1388deb599ec26ecae07a1d4e9e}{GROUP\_IDENTIFIER\_LENGTH});
912 
913     \textcolor{keywordflow}{if} (\hyperlink{_messenger_8c_a64b0347daadcf7ef303ab013481b1eb2}{send\_group\_invite\_packet}(g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}, friendnumber, invite, \textcolor{keyword}{sizeof}(invite))) \{
914         \textcolor{keywordflow}{return} 0;
915     \} \textcolor{keywordflow}{else} \{
916         \hyperlink{toxcore_2group_8c_a7dfafd474418e29ebd804200d0d4e6e3}{wipe\_group\_chat}(g\_c, groupnumber);
917         \textcolor{keywordflow}{return} -1;
918     \}
919 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ab88ec06a4663a75e56afa84ae094df77_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ab88ec06a4663a75e56afa84ae094df77_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a6f097de58345cf9500d0413198c583fc}{\index{toxcore/group.\+c@{toxcore/group.\+c}!join\+\_\+groupchat@{join\+\_\+groupchat}}
\index{join\+\_\+groupchat@{join\+\_\+groupchat}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{join\+\_\+groupchat}]{\setlength{\rightskip}{0pt plus 5cm}int join\+\_\+groupchat (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int32\+\_\+t}]{friendnumber, }
\item[{uint8\+\_\+t}]{expected\+\_\+type, }
\item[{const uint8\+\_\+t $\ast$}]{data, }
\item[{uint16\+\_\+t}]{length}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a6f097de58345cf9500d0413198c583fc}


Definition at line 930 of file group.\+c.



References add\+\_\+conn\+\_\+to\+\_\+groupchat(), Group\+\_\+\+Chats\+::chats, Group\+\_\+c\+::close, create\+\_\+group\+\_\+chat(), get\+\_\+group\+\_\+num(), getfriendcon\+\_\+id(), G\+R\+O\+U\+P\+\_\+\+I\+D\+E\+N\+T\+I\+F\+I\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H, Group\+\_\+c\+::group\+\_\+number, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+O\+N\+L\+I\+N\+E, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+N\+O\+N\+E, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+V\+A\+L\+I\+D, Group\+\_\+c\+::identifier, I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D, I\+N\+V\+I\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+S\+I\+Z\+E, Group\+\_\+\+Chats\+::m, Messenger\+::net\+\_\+crypto, Group\+\_\+c\+::number\+\_\+joined, Group\+\_\+c\+::real\+\_\+pk, Net\+\_\+\+Crypto\+::self\+\_\+public\+\_\+key, send\+\_\+group\+\_\+invite\+\_\+packet(), send\+\_\+peer\+\_\+query(), Group\+\_\+c\+::status, and Group\+\_\+c\+::type.



Referenced by join\+\_\+av\+\_\+groupchat(), and tox\+\_\+join\+\_\+groupchat().


\begin{DoxyCode}
931 \{
932     \textcolor{keywordflow}{if} (length != \textcolor{keyword}{sizeof}(uint16\_t) + \hyperlink{toxcore_2group_8h_abe67a1388deb599ec26ecae07a1d4e9e}{GROUP\_IDENTIFIER\_LENGTH})
933         \textcolor{keywordflow}{return} -1;
934 
935     \textcolor{keywordflow}{if} (\hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}[\textcolor{keyword}{sizeof}(uint16\_t)] != expected\_type)
936         \textcolor{keywordflow}{return} -1;
937 
938     \textcolor{keywordtype}{int} friendcon\_id = \hyperlink{_messenger_8c_adde4551a2e1898aab1de8e0b7f7c9792}{getfriendcon\_id}(g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}, friendnumber);
939 
940     \textcolor{keywordflow}{if} (friendcon\_id == -1)
941         \textcolor{keywordflow}{return} -1;
942 
943     \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_a9915d747670099a44c1e14b939ea5363}{get\_group\_num}(g\_c, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + \textcolor{keyword}{sizeof}(uint16\_t)) != -1)
944         \textcolor{keywordflow}{return} -1;
945 
946     \textcolor{keywordtype}{int} groupnumber = \hyperlink{toxcore_2group_8c_a0a739a733a50acd17a01b9bf0a173d2f}{create\_group\_chat}(g\_c);
947 
948     \textcolor{keywordflow}{if} (groupnumber == -1)
949         \textcolor{keywordflow}{return} -1;
950 
951     \hyperlink{struct_group__c}{Group\_c} *g = &g\_c->\hyperlink{struct_group___chats_a2a89a032b3d68d95f8cbecf4ecec9e74}{chats}[groupnumber];
952 
953     uint16\_t group\_num = htons(groupnumber);
954     g->\hyperlink{struct_group__c_ade818037fd6c985038ff29656089758d}{status} = \hyperlink{toxcore_2group_8h_a61dadd085c1777f559549e05962b2c9ea6449515dfdf789c9b02550bc408ca2cb}{GROUPCHAT\_STATUS\_VALID};
955     g->\hyperlink{struct_group__c_a50fa99a57ee7c9280fc90b7c33d760d0}{number\_joined} = -1;
956     memcpy(g->\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}->\hyperlink{struct_messenger_ab06a41217a1e9b5985555e19e088ae94}{net\_crypto}->\hyperlink{struct_net___crypto_ae726df8bdc26380e5a6c3187a00d6881}{self\_public\_key}, 
      crypto\_box\_PUBLICKEYBYTES);
957 
958     uint8\_t response[\hyperlink{toxcore_2group_8c_aeb689d94e5f56084849ac1112008c5bb}{INVITE\_RESPONSE\_PACKET\_SIZE}];
959     response[0] = \hyperlink{toxcore_2group_8c_a65b9964ee5301b98649e60114460ede8}{INVITE\_RESPONSE\_ID};
960     memcpy(response + 1, &group\_num, \textcolor{keyword}{sizeof}(uint16\_t));
961     memcpy(response + 1 + \textcolor{keyword}{sizeof}(uint16\_t), \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}, \textcolor{keyword}{sizeof}(uint16\_t) + 
      \hyperlink{toxcore_2group_8h_abe67a1388deb599ec26ecae07a1d4e9e}{GROUP\_IDENTIFIER\_LENGTH});
962 
963     \textcolor{keywordflow}{if} (\hyperlink{_messenger_8c_a64b0347daadcf7ef303ab013481b1eb2}{send\_group\_invite\_packet}(g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}, friendnumber, response, \textcolor{keyword}{sizeof}(response))
      ) \{
964         uint16\_t other\_groupnum;
965         memcpy(&other\_groupnum, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}, \textcolor{keyword}{sizeof}(other\_groupnum));
966         other\_groupnum = ntohs(other\_groupnum);
967         memcpy(g->\hyperlink{struct_group__c_a590984b7f44686ea4892ffa2651b0cda}{identifier}, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data} + \textcolor{keyword}{sizeof}(uint16\_t), 
      \hyperlink{toxcore_2group_8h_abe67a1388deb599ec26ecae07a1d4e9e}{GROUP\_IDENTIFIER\_LENGTH});
968         \textcolor{keywordtype}{int} close\_index = \hyperlink{toxcore_2group_8c_ab48e96a53cc90551754943ce3df01673}{add\_conn\_to\_groupchat}(g\_c, friendcon\_id, groupnumber, 0, 1);
969 
970         \textcolor{keywordflow}{if} (close\_index != -1) \{
971             g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[close\_index].\hyperlink{struct_group__c_a60c6a6ce4c702d61048d0f38f3974ef8}{group\_number} = other\_groupnum;
972             g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[close\_index].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} = \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2da375697d21bebe66381f9439c657ad7f4}{GROUPCHAT\_CLOSE\_ONLINE};
973             g->\hyperlink{struct_group__c_a50fa99a57ee7c9280fc90b7c33d760d0}{number\_joined} = friendcon\_id;
974         \}
975 
976         \hyperlink{toxcore_2group_8c_a1d102fdae79367ce06e55cda3cd9f441}{send\_peer\_query}(g\_c, friendcon\_id, other\_groupnum);
977         \textcolor{keywordflow}{return} groupnumber;
978     \} \textcolor{keywordflow}{else} \{
979         g->\hyperlink{struct_group__c_ade818037fd6c985038ff29656089758d}{status} = \hyperlink{toxcore_2group_8h_a61dadd085c1777f559549e05962b2c9ea3de12837ac42b1a52f94f44781442f78}{GROUPCHAT\_STATUS\_NONE};
980         \textcolor{keywordflow}{return} -1;
981     \}
982 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a6f097de58345cf9500d0413198c583fc_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a6f097de58345cf9500d0413198c583fc_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_af203efe57203e3b774d8e4f5e29cca81}{\index{toxcore/group.\+c@{toxcore/group.\+c}!kill\+\_\+groupchats@{kill\+\_\+groupchats}}
\index{kill\+\_\+groupchats@{kill\+\_\+groupchats}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{kill\+\_\+groupchats}]{\setlength{\rightskip}{0pt plus 5cm}void kill\+\_\+groupchats (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_af203efe57203e3b774d8e4f5e29cca81}


Definition at line 2262 of file group.\+c.



References del\+\_\+groupchat(), Messenger\+::group\+\_\+chat\+\_\+object, i, Group\+\_\+\+Chats\+::m, m\+\_\+callback\+\_\+group\+\_\+invite(), and Group\+\_\+\+Chats\+::num\+\_\+chats.



Referenced by tox\+\_\+kill().


\begin{DoxyCode}
2263 \{
2264     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
2265 
2266     \textcolor{keywordflow}{for} (i = 0; i < g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
2267         \hyperlink{toxcore_2group_8c_a526817b20616bdf13250e1020d2a1808}{del\_groupchat}(g\_c, i);
2268     \}
2269 
2270     \hyperlink{_messenger_8c_a8f44fb569e74f4612c53da8264d16aac}{m\_callback\_group\_invite}(g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}, NULL);
2271     g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}->\hyperlink{struct_messenger_accf717ba3e14c38e1611b17b78eed25c}{group\_chat\_object} = 0;
2272     free(g\_c);
2273 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_af203efe57203e3b774d8e4f5e29cca81_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=245pt]{df/de9/toxcore_2group_8c_af203efe57203e3b774d8e4f5e29cca81_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_abdb13333f67980a5f5842fe88ca55996}{\index{toxcore/group.\+c@{toxcore/group.\+c}!lossy\+\_\+packet\+\_\+not\+\_\+received@{lossy\+\_\+packet\+\_\+not\+\_\+received}}
\index{lossy\+\_\+packet\+\_\+not\+\_\+received@{lossy\+\_\+packet\+\_\+not\+\_\+received}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{lossy\+\_\+packet\+\_\+not\+\_\+received}]{\setlength{\rightskip}{0pt plus 5cm}static unsigned int lossy\+\_\+packet\+\_\+not\+\_\+received (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+c} $\ast$}]{g, }
\item[{int}]{peer\+\_\+index, }
\item[{uint16\+\_\+t}]{message\+\_\+number}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_abdb13333f67980a5f5842fe88ca55996}


Definition at line 1987 of file group.\+c.



References Group\+\_\+\+Peer\+::bottom\+\_\+lossy\+\_\+number, Group\+\_\+c\+::group, i, M\+A\+X\+\_\+\+L\+O\+S\+S\+Y\+\_\+\+C\+O\+U\+N\+T, Group\+\_\+\+Peer\+::recv\+\_\+lossy, and Group\+\_\+\+Peer\+::top\+\_\+lossy\+\_\+number.



Referenced by handle\+\_\+lossy().


\begin{DoxyCode}
1988 \{
1989     \textcolor{keywordflow}{if} (peer\_index == -1)
1990         \textcolor{keywordflow}{return} -1;
1991 
1992     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_ae3d9bdf641a1085fcb1bde6ec076b37d}{bottom\_lossy\_number} == g->
      \hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_a9af1180e5be1617fd013dee9ce29bf24}{top\_lossy\_number}) \{
1993         g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_a9af1180e5be1617fd013dee9ce29bf24}{top\_lossy\_number} = message\_number;
1994         g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_ae3d9bdf641a1085fcb1bde6ec076b37d}{bottom\_lossy\_number} = (message\_number - 
      \hyperlink{toxcore_2group_8h_a57c6265ee7c8d9829418dc7854749dad}{MAX\_LOSSY\_COUNT}) + 1;
1995         g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_acf8dd69bcbe4de0b5a2b78803925994d}{recv\_lossy}[message\_number % 
      \hyperlink{toxcore_2group_8h_a57c6265ee7c8d9829418dc7854749dad}{MAX\_LOSSY\_COUNT}] = 1;
1996         \textcolor{keywordflow}{return} 0;
1997     \}
1998 
1999     \textcolor{keywordflow}{if} ((uint16\_t)(message\_number - g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].
      \hyperlink{struct_group___peer_ae3d9bdf641a1085fcb1bde6ec076b37d}{bottom\_lossy\_number}) < \hyperlink{toxcore_2group_8h_a57c6265ee7c8d9829418dc7854749dad}{MAX\_LOSSY\_COUNT}) \{
2000         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_acf8dd69bcbe4de0b5a2b78803925994d}{recv\_lossy}[message\_number % 
      \hyperlink{toxcore_2group_8h_a57c6265ee7c8d9829418dc7854749dad}{MAX\_LOSSY\_COUNT}]) \{
2001             \textcolor{keywordflow}{return} 1;
2002         \}
2003 
2004         g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_acf8dd69bcbe4de0b5a2b78803925994d}{recv\_lossy}[message\_number % 
      \hyperlink{toxcore_2group_8h_a57c6265ee7c8d9829418dc7854749dad}{MAX\_LOSSY\_COUNT}] = 1;
2005         \textcolor{keywordflow}{return} 0;
2006     \}
2007 
2008     \textcolor{keywordflow}{if} ((uint16\_t)(message\_number - g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].
      \hyperlink{struct_group___peer_ae3d9bdf641a1085fcb1bde6ec076b37d}{bottom\_lossy\_number}) > (1 << 15))
2009         \textcolor{keywordflow}{return} -1;
2010 
2011     uint16\_t top\_distance = message\_number - g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].
      \hyperlink{struct_group___peer_a9af1180e5be1617fd013dee9ce29bf24}{top\_lossy\_number};
2012 
2013     \textcolor{keywordflow}{if} (top\_distance >= \hyperlink{toxcore_2group_8h_a57c6265ee7c8d9829418dc7854749dad}{MAX\_LOSSY\_COUNT}) \{
2014         memset(g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_acf8dd69bcbe4de0b5a2b78803925994d}{recv\_lossy}, 0, \textcolor{keyword}{sizeof}(g->
      \hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_acf8dd69bcbe4de0b5a2b78803925994d}{recv\_lossy}));
2015         g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_a9af1180e5be1617fd013dee9ce29bf24}{top\_lossy\_number} = message\_number;
2016         g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_ae3d9bdf641a1085fcb1bde6ec076b37d}{bottom\_lossy\_number} = (message\_number - 
      \hyperlink{toxcore_2group_8h_a57c6265ee7c8d9829418dc7854749dad}{MAX\_LOSSY\_COUNT}) + 1;
2017         g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_acf8dd69bcbe4de0b5a2b78803925994d}{recv\_lossy}[message\_number % 
      \hyperlink{toxcore_2group_8h_a57c6265ee7c8d9829418dc7854749dad}{MAX\_LOSSY\_COUNT}] = 1;
2018         \textcolor{keywordflow}{return} 0;
2019     \}
2020 
2021     \textcolor{keywordflow}{if} (top\_distance < \hyperlink{toxcore_2group_8h_a57c6265ee7c8d9829418dc7854749dad}{MAX\_LOSSY\_COUNT}) \{
2022         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
2023 
2024         \textcolor{keywordflow}{for} (i = g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_ae3d9bdf641a1085fcb1bde6ec076b37d}{bottom\_lossy\_number}; i != (g->
      \hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_ae3d9bdf641a1085fcb1bde6ec076b37d}{bottom\_lossy\_number} + top\_distance);
2025                 ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
2026             g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_acf8dd69bcbe4de0b5a2b78803925994d}{recv\_lossy}[i % \hyperlink{toxcore_2group_8h_a57c6265ee7c8d9829418dc7854749dad}{MAX\_LOSSY\_COUNT}] = 0;
2027         \}
2028 
2029         g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_a9af1180e5be1617fd013dee9ce29bf24}{top\_lossy\_number} = message\_number;
2030         g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_ae3d9bdf641a1085fcb1bde6ec076b37d}{bottom\_lossy\_number} = (message\_number - 
      \hyperlink{toxcore_2group_8h_a57c6265ee7c8d9829418dc7854749dad}{MAX\_LOSSY\_COUNT}) + 1;
2031         g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_acf8dd69bcbe4de0b5a2b78803925994d}{recv\_lossy}[message\_number % 
      \hyperlink{toxcore_2group_8h_a57c6265ee7c8d9829418dc7854749dad}{MAX\_LOSSY\_COUNT}] = 1;
2032         \textcolor{keywordflow}{return} 0;
2033     \}
2034 
2035     \textcolor{keywordflow}{return} -1;
2036 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_abdb13333f67980a5f5842fe88ca55996_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a16ac0b94fed484d710f76d390b7a85d8}{\index{toxcore/group.\+c@{toxcore/group.\+c}!new\+\_\+groupchats@{new\+\_\+groupchats}}
\index{new\+\_\+groupchats@{new\+\_\+groupchats}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{new\+\_\+groupchats}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Group\+\_\+\+Chats}$\ast$ new\+\_\+groupchats (
\begin{DoxyParamCaption}
\item[{{\bf Messenger} $\ast$}]{m}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a16ac0b94fed484d710f76d390b7a85d8}


Definition at line 2222 of file group.\+c.



References Group\+\_\+\+Chats\+::fr\+\_\+c, Messenger\+::fr\+\_\+c, Messenger\+::group\+\_\+chat\+\_\+object, handle\+\_\+friend\+\_\+invite\+\_\+packet(), m, Group\+\_\+\+Chats\+::m, and m\+\_\+callback\+\_\+group\+\_\+invite().



Referenced by tox\+\_\+new().


\begin{DoxyCode}
2223 \{
2224     \textcolor{keywordflow}{if} (!m)
2225         \textcolor{keywordflow}{return} NULL;
2226 
2227     \hyperlink{struct_group___chats}{Group\_Chats} *temp = calloc(1, \textcolor{keyword}{sizeof}(\hyperlink{struct_group___chats}{Group\_Chats}));
2228 
2229     \textcolor{keywordflow}{if} (temp == NULL)
2230         \textcolor{keywordflow}{return} NULL;
2231 
2232     temp->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m} = \hyperlink{messenger__test_8c_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m};
2233     temp->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c} = m->\hyperlink{struct_messenger_ae26eb43a606fff20fe70209d051c40f9}{fr\_c};
2234     m->\hyperlink{struct_messenger_accf717ba3e14c38e1611b17b78eed25c}{group\_chat\_object} = temp;
2235     \hyperlink{_messenger_8c_a8f44fb569e74f4612c53da8264d16aac}{m\_callback\_group\_invite}(m, &
      \hyperlink{toxcore_2group_8c_a5827237272acfda26ad786049a80e42a}{handle\_friend\_invite\_packet});
2236 
2237     \textcolor{keywordflow}{return} temp;
2238 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a16ac0b94fed484d710f76d390b7a85d8_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a16ac0b94fed484d710f76d390b7a85d8_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_ae26131e8118b841386363fb776dfbdc7}{\index{toxcore/group.\+c@{toxcore/group.\+c}!peer\+\_\+in\+\_\+chat@{peer\+\_\+in\+\_\+chat}}
\index{peer\+\_\+in\+\_\+chat@{peer\+\_\+in\+\_\+chat}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{peer\+\_\+in\+\_\+chat}]{\setlength{\rightskip}{0pt plus 5cm}static int peer\+\_\+in\+\_\+chat (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+c} $\ast$}]{chat, }
\item[{const uint8\+\_\+t $\ast$}]{real\+\_\+pk}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_ae26131e8118b841386363fb776dfbdc7}


Definition at line 141 of file group.\+c.



References Group\+\_\+c\+::group, i, id\+\_\+equal(), Group\+\_\+c\+::numpeers, and Group\+\_\+\+Peer\+::real\+\_\+pk.



Referenced by addpeer().


\begin{DoxyCode}
142 \{
143     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
144 
145     \textcolor{keywordflow}{for} (i = 0; i < chat->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i})
146         \textcolor{keywordflow}{if} (\hyperlink{util_8c_ada3d44b4f530d3c8c9cb69b732be94b1}{id\_equal}(chat->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[i].\hyperlink{struct_group___peer_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, real\_pk))
147             \textcolor{keywordflow}{return} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
148 
149     \textcolor{keywordflow}{return} -1;
150 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=241pt]{df/de9/toxcore_2group_8c_ae26131e8118b841386363fb776dfbdc7_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ae26131e8118b841386363fb776dfbdc7_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a1103873d88cad80582662eb863fa6c03}{\index{toxcore/group.\+c@{toxcore/group.\+c}!ping\+\_\+groupchat@{ping\+\_\+groupchat}}
\index{ping\+\_\+groupchat@{ping\+\_\+groupchat}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{ping\+\_\+groupchat}]{\setlength{\rightskip}{0pt plus 5cm}static int ping\+\_\+groupchat (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a1103873d88cad80582662eb863fa6c03}


Definition at line 2167 of file group.\+c.



References get\+\_\+group\+\_\+c(), G\+R\+O\+U\+P\+\_\+\+P\+I\+N\+G\+\_\+\+I\+N\+T\+E\+R\+V\+A\+L, group\+\_\+ping\+\_\+send(), is\+\_\+timeout(), Group\+\_\+c\+::last\+\_\+sent\+\_\+ping, and unix\+\_\+time().



Referenced by do\+\_\+groupchats().


\begin{DoxyCode}
2168 \{
2169     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
2170 
2171     \textcolor{keywordflow}{if} (!g)
2172         \textcolor{keywordflow}{return} -1;
2173 
2174     \textcolor{keywordflow}{if} (\hyperlink{util_8c_ab643c84141e04b54ba650c50165ba288}{is\_timeout}(g->\hyperlink{struct_group__c_a0137c615a93acf73b05a3d710231dd3d}{last\_sent\_ping}, 
      \hyperlink{toxcore_2group_8c_a52bc51b81a141d362631d64a80f28b78}{GROUP\_PING\_INTERVAL})) \{
2175         \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_a16a09a62aa63887e913d921b3b6860f1}{group\_ping\_send}(g\_c, groupnumber) != -1) \textcolor{comment}{/* Ping */}
2176             g->\hyperlink{struct_group__c_a0137c615a93acf73b05a3d710231dd3d}{last\_sent\_ping} = \hyperlink{util_8c_ac958d9f8847cb8039444bfa3d304233a}{unix\_time}();
2177     \}
2178 
2179     \textcolor{keywordflow}{return} 0;
2180 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a1103873d88cad80582662eb863fa6c03_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a1103873d88cad80582662eb863fa6c03_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_acca24c6bbacf8e09ca3e50f96be6fc28}{\index{toxcore/group.\+c@{toxcore/group.\+c}!pk\+\_\+in\+\_\+closest\+\_\+peers@{pk\+\_\+in\+\_\+closest\+\_\+peers}}
\index{pk\+\_\+in\+\_\+closest\+\_\+peers@{pk\+\_\+in\+\_\+closest\+\_\+peers}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{pk\+\_\+in\+\_\+closest\+\_\+peers}]{\setlength{\rightskip}{0pt plus 5cm}static unsigned int pk\+\_\+in\+\_\+closest\+\_\+peers (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+c} $\ast$}]{g, }
\item[{uint8\+\_\+t $\ast$}]{real\+\_\+pk}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_acca24c6bbacf8e09ca3e50f96be6fc28}


Definition at line 294 of file group.\+c.



References Group\+\_\+c\+::closest\+\_\+peers, D\+E\+S\+I\+R\+E\+D\+\_\+\+C\+L\+O\+S\+E\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S, Group\+\_\+c\+::entry, i, and Group\+\_\+c\+::real\+\_\+pk.



Referenced by connect\+\_\+to\+\_\+closest().


\begin{DoxyCode}
295 \{
296     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
297 
298     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{toxcore_2group_8h_ae49a7f6c02e0c31ee7e1a84b529f33d7}{DESIRED\_CLOSE\_CONNECTIONS}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
299         \textcolor{keywordflow}{if} (!g->\hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[i].\hyperlink{struct_group__c_adbdb38b7f14c384804844026547a276e}{entry})
300             \textcolor{keywordflow}{continue};
301 
302         \textcolor{keywordflow}{if} (memcmp(g->\hyperlink{struct_group__c_a8987e8417b5a1a5bc11ba79885c12590}{closest\_peers}[i].\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, real\_pk, crypto\_box\_PUBLICKEYBYTES) == 
      0)
303             \textcolor{keywordflow}{return} 1;
304 
305     \}
306 
307     \textcolor{keywordflow}{return} 0;
308 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_acca24c6bbacf8e09ca3e50f96be6fc28_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a7b1c78c20f59bf1cf3f0713f95d27853}{\index{toxcore/group.\+c@{toxcore/group.\+c}!realloc\+\_\+groupchats@{realloc\+\_\+groupchats}}
\index{realloc\+\_\+groupchats@{realloc\+\_\+groupchats}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{realloc\+\_\+groupchats}]{\setlength{\rightskip}{0pt plus 5cm}static int realloc\+\_\+groupchats (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{uint32\+\_\+t}]{num}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a7b1c78c20f59bf1cf3f0713f95d27853}


Definition at line 54 of file group.\+c.



References Group\+\_\+\+Chats\+::chats.



Referenced by create\+\_\+group\+\_\+chat(), and wipe\+\_\+group\+\_\+chat().


\begin{DoxyCode}
55 \{
56     \textcolor{keywordflow}{if} (\hyperlink{tox__test_8c_abea371f9030e15a5d2a4c181576833d8}{num} == 0) \{
57         free(g\_c->\hyperlink{struct_group___chats_a2a89a032b3d68d95f8cbecf4ecec9e74}{chats});
58         g\_c->\hyperlink{struct_group___chats_a2a89a032b3d68d95f8cbecf4ecec9e74}{chats} = NULL;
59         \textcolor{keywordflow}{return} 0;
60     \}
61 
62     \hyperlink{struct_group__c}{Group\_c} *newgroup\_chats = realloc(g\_c->\hyperlink{struct_group___chats_a2a89a032b3d68d95f8cbecf4ecec9e74}{chats}, \hyperlink{tox__test_8c_abea371f9030e15a5d2a4c181576833d8}{num} * \textcolor{keyword}{sizeof}(
      \hyperlink{struct_group__c}{Group\_c}));
63 
64     \textcolor{keywordflow}{if} (newgroup\_chats == NULL)
65         \textcolor{keywordflow}{return} -1;
66 
67     g\_c->\hyperlink{struct_group___chats_a2a89a032b3d68d95f8cbecf4ecec9e74}{chats} = newgroup\_chats;
68     \textcolor{keywordflow}{return} 0;
69 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a7b1c78c20f59bf1cf3f0713f95d27853_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a812cc4cdcdb4821a6624c886e71e2a6c}{\index{toxcore/group.\+c@{toxcore/group.\+c}!remove\+\_\+close\+\_\+conn@{remove\+\_\+close\+\_\+conn}}
\index{remove\+\_\+close\+\_\+conn@{remove\+\_\+close\+\_\+conn}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{remove\+\_\+close\+\_\+conn}]{\setlength{\rightskip}{0pt plus 5cm}static int remove\+\_\+close\+\_\+conn (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{int}]{friendcon\+\_\+id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a812cc4cdcdb4821a6624c886e71e2a6c}


Definition at line 437 of file group.\+c.



References Group\+\_\+c\+::close, Group\+\_\+\+Chats\+::fr\+\_\+c, get\+\_\+group\+\_\+c(), G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+N\+O\+N\+E, i, kill\+\_\+friend\+\_\+connection(), M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S, Group\+\_\+c\+::number, and Group\+\_\+c\+::type.



Referenced by delpeer().


\begin{DoxyCode}
438 \{
439     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
440 
441     \textcolor{keywordflow}{if} (!g)
442         \textcolor{keywordflow}{return} -1;
443 
444     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
445 
446     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{toxcore_2group_8h_ab4d6c744a36e49e0aa6cb3f1ea3de0f7}{MAX\_GROUP\_CONNECTIONS}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
447         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} == \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2daec225048274e40e0a1517f1afc008834}{GROUPCHAT\_CLOSE\_NONE})
448             \textcolor{keywordflow}{continue};
449 
450         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].\hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number} == (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})friendcon\_id) \{
451             g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} = \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2daec225048274e40e0a1517f1afc008834}{GROUPCHAT\_CLOSE\_NONE};
452             \hyperlink{friend__connection_8c_a5f311791c0ec4ecd8fdf5359cf7fb95a}{kill\_friend\_connection}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, friendcon\_id);
453             \textcolor{keywordflow}{return} 0;
454         \}
455     \}
456 
457     \textcolor{keywordflow}{return} -1;
458 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a812cc4cdcdb4821a6624c886e71e2a6c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a812cc4cdcdb4821a6624c886e71e2a6c_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a7e20618640c4b45fe7f863c87ec2dfda}{\index{toxcore/group.\+c@{toxcore/group.\+c}!send\+\_\+group\+\_\+lossy\+\_\+packet@{send\+\_\+group\+\_\+lossy\+\_\+packet}}
\index{send\+\_\+group\+\_\+lossy\+\_\+packet@{send\+\_\+group\+\_\+lossy\+\_\+packet}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{send\+\_\+group\+\_\+lossy\+\_\+packet}]{\setlength{\rightskip}{0pt plus 5cm}int send\+\_\+group\+\_\+lossy\+\_\+packet (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{const uint8\+\_\+t $\ast$}]{data, }
\item[{uint16\+\_\+t}]{length}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_a7e20618640c4b45fe7f863c87ec2dfda}


Definition at line 1782 of file group.\+c.



References get\+\_\+group\+\_\+c(), Group\+\_\+c\+::lossy\+\_\+message\+\_\+number, Group\+\_\+c\+::peer\+\_\+number, and send\+\_\+lossy\+\_\+all\+\_\+close().



Referenced by send\+\_\+audio\+\_\+packet().


\begin{DoxyCode}
1783 \{
1784     \textcolor{comment}{//TODO: length check here?}
1785     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
1786 
1787     \textcolor{keywordflow}{if} (!g)
1788         \textcolor{keywordflow}{return} -1;
1789 
1790     uint8\_t packet[\textcolor{keyword}{sizeof}(uint16\_t) * 2 + length];
1791     uint16\_t peer\_number = htons(g->\hyperlink{struct_group__c_a264348ec1f724e05464ca97b7c432817}{peer\_number});
1792     memcpy(packet, &peer\_number, \textcolor{keyword}{sizeof}(uint16\_t));
1793     uint16\_t message\_num = htons(g->\hyperlink{struct_group__c_acc475ae1ff50d43f08a2cc920a5d2ae5}{lossy\_message\_number});
1794     memcpy(packet + \textcolor{keyword}{sizeof}(uint16\_t), &message\_num, \textcolor{keyword}{sizeof}(uint16\_t));
1795     memcpy(packet + \textcolor{keyword}{sizeof}(uint16\_t) * 2, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}, length);
1796 
1797     \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_a593b5363a3865f21759df2ecc0a8c45a}{send\_lossy\_all\_close}(g\_c, groupnumber, packet, \textcolor{keyword}{sizeof}(packet), -1) == 0) \{
1798         \textcolor{keywordflow}{return} -1;
1799     \}
1800 
1801     ++g->\hyperlink{struct_group__c_acc475ae1ff50d43f08a2cc920a5d2ae5}{lossy\_message\_number};
1802     \textcolor{keywordflow}{return} 0;
1803 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a7e20618640c4b45fe7f863c87ec2dfda_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a7e20618640c4b45fe7f863c87ec2dfda_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a593b5363a3865f21759df2ecc0a8c45a}{\index{toxcore/group.\+c@{toxcore/group.\+c}!send\+\_\+lossy\+\_\+all\+\_\+close@{send\+\_\+lossy\+\_\+all\+\_\+close}}
\index{send\+\_\+lossy\+\_\+all\+\_\+close@{send\+\_\+lossy\+\_\+all\+\_\+close}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{send\+\_\+lossy\+\_\+all\+\_\+close}]{\setlength{\rightskip}{0pt plus 5cm}static unsigned int send\+\_\+lossy\+\_\+all\+\_\+close (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{const uint8\+\_\+t $\ast$}]{data, }
\item[{uint16\+\_\+t}]{length, }
\item[{int}]{receiver}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a593b5363a3865f21759df2ecc0a8c45a}


Definition at line 1631 of file group.\+c.



References calculate\+\_\+comp\+\_\+value(), Group\+\_\+c\+::close, Group\+\_\+c\+::closest, D\+E\+S\+I\+R\+E\+D\+\_\+\+C\+L\+O\+S\+E\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S, Group\+\_\+\+Chats\+::fr\+\_\+c, get\+\_\+friendcon\+\_\+public\+\_\+keys(), get\+\_\+group\+\_\+c(), Group\+\_\+c\+::group\+\_\+number, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+O\+N\+L\+I\+N\+E, i, M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S, Group\+\_\+c\+::number, P\+A\+C\+K\+E\+T\+\_\+\+I\+D\+\_\+\+L\+O\+S\+S\+Y\+\_\+\+G\+R\+O\+U\+P\+C\+H\+A\+T, Group\+\_\+c\+::real\+\_\+pk, send\+\_\+lossy\+\_\+group\+\_\+peer(), and Group\+\_\+c\+::type.



Referenced by handle\+\_\+lossy(), and send\+\_\+group\+\_\+lossy\+\_\+packet().


\begin{DoxyCode}
1633 \{
1634     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
1635 
1636     \textcolor{keywordflow}{if} (!g)
1637         \textcolor{keywordflow}{return} 0;
1638 
1639     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}, sent = 0, num\_connected\_closest = 0, connected\_closest[
      \hyperlink{toxcore_2group_8h_ae49a7f6c02e0c31ee7e1a84b529f33d7}{DESIRED\_CLOSE\_CONNECTIONS}];
1640 
1641     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{toxcore_2group_8h_ab4d6c744a36e49e0aa6cb3f1ea3de0f7}{MAX\_GROUP\_CONNECTIONS}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
1642         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} != \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2da375697d21bebe66381f9439c657ad7f4}{GROUPCHAT\_CLOSE\_ONLINE})
1643             \textcolor{keywordflow}{continue};
1644 
1645         \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int})i == receiver)
1646             \textcolor{keywordflow}{continue};
1647 
1648         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].\hyperlink{struct_group__c_a8ff1adca518d82728e7d450f6d14e8db}{closest}) \{
1649             connected\_closest[num\_connected\_closest] = \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
1650             ++num\_connected\_closest;
1651             \textcolor{keywordflow}{continue};
1652         \}
1653 
1654         \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_ae3bb029450c53089066ace620abfe971}{send\_lossy\_group\_peer}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].
      \hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number}, \hyperlink{_messenger_8h_a0c397f9547fd8141dcf8af7ff5951508}{PACKET\_ID\_LOSSY\_GROUPCHAT}, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].
      \hyperlink{struct_group__c_a60c6a6ce4c702d61048d0f38f3974ef8}{group\_number}, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data},
1655                                   length))
1656             ++sent;
1657     \}
1658 
1659     \textcolor{keywordflow}{if} (!num\_connected\_closest) \{
1660         \textcolor{keywordflow}{return} sent;
1661     \}
1662 
1663     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} to\_send = 0;
1664     uint64\_t comp\_val\_old = ~0;
1665 
1666     \textcolor{keywordflow}{for} (i = 0; i < num\_connected\_closest; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
1667         uint8\_t real\_pk[crypto\_box\_PUBLICKEYBYTES];
1668         uint8\_t dht\_temp\_pk[crypto\_box\_PUBLICKEYBYTES];
1669         \hyperlink{friend__connection_8c_a4605fa0bd8ff3f9bd217ee6dcadbfe5f}{get\_friendcon\_public\_keys}(real\_pk, dht\_temp\_pk, g\_c->
      \hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[connected\_closest[i]].\hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number});
1670         uint64\_t comp\_val = \hyperlink{toxcore_2group_8c_afb13bc1afd72ceb013653353d9a82ac8}{calculate\_comp\_value}(g->\hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, real\_pk);
1671 
1672         \textcolor{keywordflow}{if} (comp\_val < comp\_val\_old) \{
1673             to\_send = connected\_closest[\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}];
1674             comp\_val\_old = comp\_val;
1675         \}
1676     \}
1677 
1678     \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_ae3bb029450c53089066ace620abfe971}{send\_lossy\_group\_peer}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[to\_send].
      \hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number}, \hyperlink{_messenger_8h_a0c397f9547fd8141dcf8af7ff5951508}{PACKET\_ID\_LOSSY\_GROUPCHAT},
1679                               g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[to\_send].\hyperlink{struct_group__c_a60c6a6ce4c702d61048d0f38f3974ef8}{group\_number}, 
      \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}, length)) \{
1680         ++sent;
1681     \}
1682 
1683     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} to\_send\_other = 0;
1684     comp\_val\_old = ~0;
1685 
1686     \textcolor{keywordflow}{for} (i = 0; i < num\_connected\_closest; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
1687         uint8\_t real\_pk[crypto\_box\_PUBLICKEYBYTES];
1688         uint8\_t dht\_temp\_pk[crypto\_box\_PUBLICKEYBYTES];
1689         \hyperlink{friend__connection_8c_a4605fa0bd8ff3f9bd217ee6dcadbfe5f}{get\_friendcon\_public\_keys}(real\_pk, dht\_temp\_pk, g\_c->
      \hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[connected\_closest[i]].\hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number});
1690         uint64\_t comp\_val = \hyperlink{toxcore_2group_8c_afb13bc1afd72ceb013653353d9a82ac8}{calculate\_comp\_value}(real\_pk, g->
      \hyperlink{struct_group__c_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk});
1691 
1692         \textcolor{keywordflow}{if} (comp\_val < comp\_val\_old) \{
1693             to\_send\_other = connected\_closest[\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}];
1694             comp\_val\_old = comp\_val;
1695         \}
1696     \}
1697 
1698     \textcolor{keywordflow}{if} (to\_send\_other == to\_send) \{
1699         \textcolor{keywordflow}{return} sent;
1700     \}
1701 
1702     \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_ae3bb029450c53089066ace620abfe971}{send\_lossy\_group\_peer}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[to\_send\_other].
      \hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number}, \hyperlink{_messenger_8h_a0c397f9547fd8141dcf8af7ff5951508}{PACKET\_ID\_LOSSY\_GROUPCHAT},
1703                               g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[to\_send\_other].\hyperlink{struct_group__c_a60c6a6ce4c702d61048d0f38f3974ef8}{group\_number}, 
      \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}, length)) \{
1704         ++sent;
1705     \}
1706 
1707     \textcolor{keywordflow}{return} sent;
1708 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a593b5363a3865f21759df2ecc0a8c45a_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a593b5363a3865f21759df2ecc0a8c45a_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_ae3bb029450c53089066ace620abfe971}{\index{toxcore/group.\+c@{toxcore/group.\+c}!send\+\_\+lossy\+\_\+group\+\_\+peer@{send\+\_\+lossy\+\_\+group\+\_\+peer}}
\index{send\+\_\+lossy\+\_\+group\+\_\+peer@{send\+\_\+lossy\+\_\+group\+\_\+peer}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{send\+\_\+lossy\+\_\+group\+\_\+peer}]{\setlength{\rightskip}{0pt plus 5cm}static unsigned int send\+\_\+lossy\+\_\+group\+\_\+peer (
\begin{DoxyParamCaption}
\item[{{\bf Friend\+\_\+\+Connections} $\ast$}]{fr\+\_\+c, }
\item[{int}]{friendcon\+\_\+id, }
\item[{uint8\+\_\+t}]{packet\+\_\+id, }
\item[{uint16\+\_\+t}]{group\+\_\+num, }
\item[{const uint8\+\_\+t $\ast$}]{data, }
\item[{uint16\+\_\+t}]{length}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_ae3bb029450c53089066ace620abfe971}


Definition at line 875 of file group.\+c.



References friend\+\_\+connection\+\_\+crypt\+\_\+connection\+\_\+id(), M\+A\+X\+\_\+\+C\+R\+Y\+P\+T\+O\+\_\+\+D\+A\+T\+A\+\_\+\+S\+I\+Z\+E, Friend\+\_\+\+Connections\+::net\+\_\+crypto, and send\+\_\+lossy\+\_\+cryptpacket().



Referenced by send\+\_\+lossy\+\_\+all\+\_\+close().


\begin{DoxyCode}
877 \{
878     \textcolor{keywordflow}{if} (1 + \textcolor{keyword}{sizeof}(uint16\_t) + length > \hyperlink{net__crypto_8h_a1b6e5122f9fdc5ef548ccf920f0c246e}{MAX\_CRYPTO\_DATA\_SIZE})
879         \textcolor{keywordflow}{return} 0;
880 
881     group\_num = htons(group\_num);
882     uint8\_t packet[1 + \textcolor{keyword}{sizeof}(uint16\_t) + length];
883     packet[0] = packet\_id;
884     memcpy(packet + 1, &group\_num, \textcolor{keyword}{sizeof}(uint16\_t));
885     memcpy(packet + 1 + \textcolor{keyword}{sizeof}(uint16\_t), \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}, length);
886     \textcolor{keywordflow}{return} \hyperlink{net__crypto_8c_a7fcdf763c4a1b4b71e0de620b12f074c}{send\_lossy\_cryptpacket}(fr\_c->\hyperlink{struct_friend___connections_ab06a41217a1e9b5985555e19e088ae94}{net\_crypto}, 
      \hyperlink{friend__connection_8c_a8586e3dfb2047821c4214adf8d06a877}{friend\_connection\_crypt\_connection\_id}(fr\_c, friendcon\_id), packet,
887                                   \textcolor{keyword}{sizeof}(packet)) != -1;
888 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ae3bb029450c53089066ace620abfe971_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ae3bb029450c53089066ace620abfe971_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a8b14c71c58c2bd20999d0fb1ddd6b0bc}{\index{toxcore/group.\+c@{toxcore/group.\+c}!send\+\_\+message\+\_\+all\+\_\+close@{send\+\_\+message\+\_\+all\+\_\+close}}
\index{send\+\_\+message\+\_\+all\+\_\+close@{send\+\_\+message\+\_\+all\+\_\+close}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{send\+\_\+message\+\_\+all\+\_\+close}]{\setlength{\rightskip}{0pt plus 5cm}static unsigned int send\+\_\+message\+\_\+all\+\_\+close (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{const uint8\+\_\+t $\ast$}]{data, }
\item[{uint16\+\_\+t}]{length, }
\item[{int}]{receiver}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a8b14c71c58c2bd20999d0fb1ddd6b0bc}


Definition at line 1601 of file group.\+c.



References Group\+\_\+c\+::close, Group\+\_\+\+Chats\+::fr\+\_\+c, get\+\_\+group\+\_\+c(), Group\+\_\+c\+::group\+\_\+number, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+O\+N\+L\+I\+N\+E, i, M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S, Group\+\_\+c\+::number, P\+A\+C\+K\+E\+T\+\_\+\+I\+D\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+G\+R\+O\+U\+P\+C\+H\+A\+T, send\+\_\+packet\+\_\+group\+\_\+peer(), and Group\+\_\+c\+::type.



Referenced by handle\+\_\+message\+\_\+packet\+\_\+group(), and send\+\_\+message\+\_\+group().


\begin{DoxyCode}
1603 \{
1604     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
1605 
1606     \textcolor{keywordflow}{if} (!g)
1607         \textcolor{keywordflow}{return} 0;
1608 
1609     uint16\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}, sent = 0;
1610 
1611     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{toxcore_2group_8h_ab4d6c744a36e49e0aa6cb3f1ea3de0f7}{MAX\_GROUP\_CONNECTIONS}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
1612         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} != \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2da375697d21bebe66381f9439c657ad7f4}{GROUPCHAT\_CLOSE\_ONLINE})
1613             \textcolor{keywordflow}{continue};
1614 
1615         \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int})i == receiver)
1616             \textcolor{keywordflow}{continue};
1617 
1618         \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_a80236daa3393e2c93424b05ce6f63dcb}{send\_packet\_group\_peer}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].
      \hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number}, \hyperlink{_messenger_8h_a7d05c00a5b2c0a771cfff523935a2a0c}{PACKET\_ID\_MESSAGE\_GROUPCHAT}, g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].
      \hyperlink{struct_group__c_a60c6a6ce4c702d61048d0f38f3974ef8}{group\_number}, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data},
1619                                    length))
1620             ++sent;
1621     \}
1622 
1623     \textcolor{keywordflow}{return} sent;
1624 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a8b14c71c58c2bd20999d0fb1ddd6b0bc_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a8b14c71c58c2bd20999d0fb1ddd6b0bc_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_ac302cc1a014208e6d96dbb7c86dd9733}{\index{toxcore/group.\+c@{toxcore/group.\+c}!send\+\_\+message\+\_\+group@{send\+\_\+message\+\_\+group}}
\index{send\+\_\+message\+\_\+group@{send\+\_\+message\+\_\+group}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{send\+\_\+message\+\_\+group}]{\setlength{\rightskip}{0pt plus 5cm}static unsigned int send\+\_\+message\+\_\+group (
\begin{DoxyParamCaption}
\item[{const {\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{uint8\+\_\+t}]{message\+\_\+id, }
\item[{const uint8\+\_\+t $\ast$}]{data, }
\item[{uint16\+\_\+t}]{len}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_ac302cc1a014208e6d96dbb7c86dd9733}


Definition at line 1717 of file group.\+c.



References get\+\_\+group\+\_\+c(), G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+E\+D, M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+D\+A\+T\+A\+\_\+\+L\+E\+N, Group\+\_\+c\+::message\+\_\+number, Group\+\_\+c\+::peer\+\_\+number, send\+\_\+message\+\_\+all\+\_\+close(), and Group\+\_\+c\+::status.



Referenced by group\+\_\+action\+\_\+send(), group\+\_\+kill\+\_\+peer\+\_\+send(), group\+\_\+message\+\_\+send(), group\+\_\+name\+\_\+send(), group\+\_\+new\+\_\+peer\+\_\+send(), group\+\_\+ping\+\_\+send(), and group\+\_\+title\+\_\+send().


\begin{DoxyCode}
1719 \{
1720     \textcolor{keywordflow}{if} (len > \hyperlink{toxcore_2group_8c_ae298548dd34e339ece3580e2535afd84}{MAX\_GROUP\_MESSAGE\_DATA\_LEN})
1721         \textcolor{keywordflow}{return} 0;
1722 
1723     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
1724 
1725     \textcolor{keywordflow}{if} (!g)
1726         \textcolor{keywordflow}{return} 0;
1727 
1728     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_ade818037fd6c985038ff29656089758d}{status} != \hyperlink{toxcore_2group_8h_a61dadd085c1777f559549e05962b2c9ea168545b20e428420e53744787076c10e}{GROUPCHAT\_STATUS\_CONNECTED})
1729         \textcolor{keywordflow}{return} 0;
1730 
1731     uint8\_t packet[\textcolor{keyword}{sizeof}(uint16\_t) + \textcolor{keyword}{sizeof}(uint32\_t) + 1 + len];
1732     uint16\_t peer\_num = htons(g->\hyperlink{struct_group__c_a264348ec1f724e05464ca97b7c432817}{peer\_number});
1733     memcpy(packet, &peer\_num, \textcolor{keyword}{sizeof}(peer\_num));
1734 
1735     ++g->\hyperlink{struct_group__c_a1ecee33a5d6309a114891c3fb740b66c}{message\_number};
1736 
1737     \textcolor{keywordflow}{if} (!g->\hyperlink{struct_group__c_a1ecee33a5d6309a114891c3fb740b66c}{message\_number})
1738         ++g->\hyperlink{struct_group__c_a1ecee33a5d6309a114891c3fb740b66c}{message\_number};
1739 
1740     uint32\_t message\_num = htonl(g->\hyperlink{struct_group__c_a1ecee33a5d6309a114891c3fb740b66c}{message\_number});
1741     memcpy(packet + \textcolor{keyword}{sizeof}(uint16\_t), &message\_num, \textcolor{keyword}{sizeof}(message\_num));
1742 
1743     packet[\textcolor{keyword}{sizeof}(uint16\_t) + \textcolor{keyword}{sizeof}(uint32\_t)] = message\_id;
1744 
1745     \textcolor{keywordflow}{if} (len)
1746         memcpy(packet + \textcolor{keyword}{sizeof}(uint16\_t) + \textcolor{keyword}{sizeof}(uint32\_t) + 1, \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}, len);
1747 
1748     \textcolor{keywordflow}{return} \hyperlink{toxcore_2group_8c_a8b14c71c58c2bd20999d0fb1ddd6b0bc}{send\_message\_all\_close}(g\_c, groupnumber, packet, \textcolor{keyword}{sizeof}(packet), -1);
1749 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ac302cc1a014208e6d96dbb7c86dd9733_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ac302cc1a014208e6d96dbb7c86dd9733_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_aa79b54a63ec3831db2f92c5d52dc949f}{\index{toxcore/group.\+c@{toxcore/group.\+c}!send\+\_\+name\+\_\+all\+\_\+groups@{send\+\_\+name\+\_\+all\+\_\+groups}}
\index{send\+\_\+name\+\_\+all\+\_\+groups@{send\+\_\+name\+\_\+all\+\_\+groups}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{send\+\_\+name\+\_\+all\+\_\+groups}]{\setlength{\rightskip}{0pt plus 5cm}void send\+\_\+name\+\_\+all\+\_\+groups (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c}
\end{DoxyParamCaption}
)}}\label{toxcore_2group_8c_aa79b54a63ec3831db2f92c5d52dc949f}


Definition at line 2205 of file group.\+c.



References get\+\_\+group\+\_\+c(), group\+\_\+name\+\_\+send(), G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+E\+D, i, Group\+\_\+\+Chats\+::m, Messenger\+::name, Messenger\+::name\+\_\+length, Group\+\_\+\+Chats\+::num\+\_\+chats, and Group\+\_\+c\+::status.



Referenced by tox\+\_\+self\+\_\+set\+\_\+name().


\begin{DoxyCode}
2206 \{
2207     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
2208 
2209     \textcolor{keywordflow}{for} (i = 0; i < g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
2210         \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, i);
2211 
2212         \textcolor{keywordflow}{if} (!g)
2213             \textcolor{keywordflow}{continue};
2214 
2215         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_ade818037fd6c985038ff29656089758d}{status} == \hyperlink{toxcore_2group_8h_a61dadd085c1777f559549e05962b2c9ea168545b20e428420e53744787076c10e}{GROUPCHAT\_STATUS\_CONNECTED}) \{
2216             \hyperlink{toxcore_2group_8c_afa6172f19b4153d866057d744bdf0a11}{group\_name\_send}(g\_c, i, g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}->\hyperlink{struct_messenger_a11b8cc6595eea79e65c978209278e683}{name}, g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}->
      \hyperlink{struct_messenger_a3573d7a906b26e9999cd74f2c4066601}{name\_length});
2217         \}
2218     \}
2219 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_aa79b54a63ec3831db2f92c5d52dc949f_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_aa79b54a63ec3831db2f92c5d52dc949f_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a80236daa3393e2c93424b05ce6f63dcb}{\index{toxcore/group.\+c@{toxcore/group.\+c}!send\+\_\+packet\+\_\+group\+\_\+peer@{send\+\_\+packet\+\_\+group\+\_\+peer}}
\index{send\+\_\+packet\+\_\+group\+\_\+peer@{send\+\_\+packet\+\_\+group\+\_\+peer}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{send\+\_\+packet\+\_\+group\+\_\+peer}]{\setlength{\rightskip}{0pt plus 5cm}static unsigned int send\+\_\+packet\+\_\+group\+\_\+peer (
\begin{DoxyParamCaption}
\item[{{\bf Friend\+\_\+\+Connections} $\ast$}]{fr\+\_\+c, }
\item[{int}]{friendcon\+\_\+id, }
\item[{uint8\+\_\+t}]{packet\+\_\+id, }
\item[{uint16\+\_\+t}]{group\+\_\+num, }
\item[{const uint8\+\_\+t $\ast$}]{data, }
\item[{uint16\+\_\+t}]{length}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a80236daa3393e2c93424b05ce6f63dcb}


Definition at line 855 of file group.\+c.



References friend\+\_\+connection\+\_\+crypt\+\_\+connection\+\_\+id(), M\+A\+X\+\_\+\+C\+R\+Y\+P\+T\+O\+\_\+\+D\+A\+T\+A\+\_\+\+S\+I\+Z\+E, Friend\+\_\+\+Connections\+::net\+\_\+crypto, and write\+\_\+cryptpacket().



Referenced by send\+\_\+message\+\_\+all\+\_\+close(), send\+\_\+peer\+\_\+kill(), send\+\_\+peer\+\_\+query(), and send\+\_\+peers().


\begin{DoxyCode}
857 \{
858     \textcolor{keywordflow}{if} (1 + \textcolor{keyword}{sizeof}(uint16\_t) + length > \hyperlink{net__crypto_8h_a1b6e5122f9fdc5ef548ccf920f0c246e}{MAX\_CRYPTO\_DATA\_SIZE})
859         \textcolor{keywordflow}{return} 0;
860 
861     group\_num = htons(group\_num);
862     uint8\_t packet[1 + \textcolor{keyword}{sizeof}(uint16\_t) + length];
863     packet[0] = packet\_id;
864     memcpy(packet + 1, &group\_num, \textcolor{keyword}{sizeof}(uint16\_t));
865     memcpy(packet + 1 + \textcolor{keyword}{sizeof}(uint16\_t), \hyperlink{namespacemake-funny-savefile_aa7a0efb8690a34f61a95b00cc723ca27}{data}, length);
866     \textcolor{keywordflow}{return} \hyperlink{net__crypto_8c_ab17ccce6d503f75b7d98be214ebd7621}{write\_cryptpacket}(fr\_c->\hyperlink{struct_friend___connections_ab06a41217a1e9b5985555e19e088ae94}{net\_crypto}, 
      \hyperlink{friend__connection_8c_a8586e3dfb2047821c4214adf8d06a877}{friend\_connection\_crypt\_connection\_id}(fr\_c, friendcon\_id), packet,
867                              \textcolor{keyword}{sizeof}(packet), 0) != -1;
868 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a80236daa3393e2c93424b05ce6f63dcb_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a80236daa3393e2c93424b05ce6f63dcb_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_af7c31fe40ea58b07c87e38ef94f13eac}{\index{toxcore/group.\+c@{toxcore/group.\+c}!send\+\_\+packet\+\_\+online@{send\+\_\+packet\+\_\+online}}
\index{send\+\_\+packet\+\_\+online@{send\+\_\+packet\+\_\+online}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{send\+\_\+packet\+\_\+online}]{\setlength{\rightskip}{0pt plus 5cm}static int send\+\_\+packet\+\_\+online (
\begin{DoxyParamCaption}
\item[{{\bf Friend\+\_\+\+Connections} $\ast$}]{fr\+\_\+c, }
\item[{int}]{friendcon\+\_\+id, }
\item[{uint16\+\_\+t}]{group\+\_\+num, }
\item[{uint8\+\_\+t $\ast$}]{identifier}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_af7c31fe40ea58b07c87e38ef94f13eac}


Definition at line 1359 of file group.\+c.



References friend\+\_\+connection\+\_\+crypt\+\_\+connection\+\_\+id(), G\+R\+O\+U\+P\+\_\+\+I\+D\+E\+N\+T\+I\+F\+I\+E\+R\+\_\+\+L\+E\+N\+G\+T\+H, Friend\+\_\+\+Connections\+::net\+\_\+crypto, O\+N\+L\+I\+N\+E\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+D\+A\+T\+A\+\_\+\+S\+I\+Z\+E, P\+A\+C\+K\+E\+T\+\_\+\+I\+D\+\_\+\+O\+N\+L\+I\+N\+E\+\_\+\+P\+A\+C\+K\+E\+T, and write\+\_\+cryptpacket().



Referenced by connect\+\_\+to\+\_\+closest(), handle\+\_\+packet\+\_\+online(), and set\+\_\+conns\+\_\+type\+\_\+close().


\begin{DoxyCode}
1360 \{
1361     uint8\_t packet[1 + \hyperlink{toxcore_2group_8c_aa0532f23e69d332abb81b6d9d0564009}{ONLINE\_PACKET\_DATA\_SIZE}];
1362     group\_num = htons(group\_num);
1363     packet[0] = \hyperlink{_messenger_8h_aedd8bfcd33031d28cd00e0afe4cb3049}{PACKET\_ID\_ONLINE\_PACKET};
1364     memcpy(packet + 1, &group\_num, \textcolor{keyword}{sizeof}(uint16\_t));
1365     memcpy(packet + 1 + \textcolor{keyword}{sizeof}(uint16\_t), identifier, \hyperlink{toxcore_2group_8h_abe67a1388deb599ec26ecae07a1d4e9e}{GROUP\_IDENTIFIER\_LENGTH});
1366     \textcolor{keywordflow}{return} \hyperlink{net__crypto_8c_ab17ccce6d503f75b7d98be214ebd7621}{write\_cryptpacket}(fr\_c->\hyperlink{struct_friend___connections_ab06a41217a1e9b5985555e19e088ae94}{net\_crypto}, 
      \hyperlink{friend__connection_8c_a8586e3dfb2047821c4214adf8d06a877}{friend\_connection\_crypt\_connection\_id}(fr\_c, friendcon\_id), packet,
1367                              \textcolor{keyword}{sizeof}(packet), 0) != -1;
1368 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_af7c31fe40ea58b07c87e38ef94f13eac_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_af7c31fe40ea58b07c87e38ef94f13eac_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a0f7888238b6e47dd9f4e80ab1f33312c}{\index{toxcore/group.\+c@{toxcore/group.\+c}!send\+\_\+peer\+\_\+kill@{send\+\_\+peer\+\_\+kill}}
\index{send\+\_\+peer\+\_\+kill@{send\+\_\+peer\+\_\+kill}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{send\+\_\+peer\+\_\+kill}]{\setlength{\rightskip}{0pt plus 5cm}static unsigned int send\+\_\+peer\+\_\+kill (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{friendcon\+\_\+id, }
\item[{uint16\+\_\+t}]{group\+\_\+num}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a0f7888238b6e47dd9f4e80ab1f33312c}


Definition at line 1430 of file group.\+c.



References Group\+\_\+\+Chats\+::fr\+\_\+c, P\+A\+C\+K\+E\+T\+\_\+\+I\+D\+\_\+\+D\+I\+R\+E\+C\+T\+\_\+\+G\+R\+O\+U\+P\+C\+H\+A\+T, P\+E\+E\+R\+\_\+\+K\+I\+L\+L\+\_\+\+I\+D, and send\+\_\+packet\+\_\+group\+\_\+peer().



Referenced by handle\+\_\+packet\+\_\+online().


\begin{DoxyCode}
1431 \{
1432     uint8\_t packet[1];
1433     packet[0] = \hyperlink{toxcore_2group_8c_a0f1462cf292dc152074ef89d4e1bfd90}{PEER\_KILL\_ID};
1434     \textcolor{keywordflow}{return} \hyperlink{toxcore_2group_8c_a80236daa3393e2c93424b05ce6f63dcb}{send\_packet\_group\_peer}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, friendcon\_id, 
      \hyperlink{_messenger_8h_a924a8a2c833fef2c4e77892e9261c5df}{PACKET\_ID\_DIRECT\_GROUPCHAT}, group\_num, packet, \textcolor{keyword}{sizeof}(packet));
1435 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a0f7888238b6e47dd9f4e80ab1f33312c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a0f7888238b6e47dd9f4e80ab1f33312c_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a1d102fdae79367ce06e55cda3cd9f441}{\index{toxcore/group.\+c@{toxcore/group.\+c}!send\+\_\+peer\+\_\+query@{send\+\_\+peer\+\_\+query}}
\index{send\+\_\+peer\+\_\+query@{send\+\_\+peer\+\_\+query}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{send\+\_\+peer\+\_\+query}]{\setlength{\rightskip}{0pt plus 5cm}static unsigned int send\+\_\+peer\+\_\+query (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{friendcon\+\_\+id, }
\item[{uint16\+\_\+t}]{group\+\_\+num}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a1d102fdae79367ce06e55cda3cd9f441}


Definition at line 1441 of file group.\+c.



References Group\+\_\+\+Chats\+::fr\+\_\+c, P\+A\+C\+K\+E\+T\+\_\+\+I\+D\+\_\+\+D\+I\+R\+E\+C\+T\+\_\+\+G\+R\+O\+U\+P\+C\+H\+A\+T, P\+E\+E\+R\+\_\+\+Q\+U\+E\+R\+Y\+\_\+\+I\+D, and send\+\_\+packet\+\_\+group\+\_\+peer().



Referenced by handle\+\_\+message\+\_\+packet\+\_\+group(), handle\+\_\+packet\+\_\+online(), and join\+\_\+groupchat().


\begin{DoxyCode}
1442 \{
1443     uint8\_t packet[1];
1444     packet[0] = \hyperlink{toxcore_2group_8c_ababd738dd6d95870ee92fff9e41ec4a1}{PEER\_QUERY\_ID};
1445     \textcolor{keywordflow}{return} \hyperlink{toxcore_2group_8c_a80236daa3393e2c93424b05ce6f63dcb}{send\_packet\_group\_peer}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, friendcon\_id, 
      \hyperlink{_messenger_8h_a924a8a2c833fef2c4e77892e9261c5df}{PACKET\_ID\_DIRECT\_GROUPCHAT}, group\_num, packet, \textcolor{keyword}{sizeof}(packet));
1446 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a1d102fdae79367ce06e55cda3cd9f441_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a1d102fdae79367ce06e55cda3cd9f441_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a45538eb41a1837f5f6c76014cb18bf70}{\index{toxcore/group.\+c@{toxcore/group.\+c}!send\+\_\+peers@{send\+\_\+peers}}
\index{send\+\_\+peers@{send\+\_\+peers}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{send\+\_\+peers}]{\setlength{\rightskip}{0pt plus 5cm}static unsigned int send\+\_\+peers (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{int}]{friendcon\+\_\+id, }
\item[{uint16\+\_\+t}]{group\+\_\+num}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a45538eb41a1837f5f6c76014cb18bf70}


Definition at line 1451 of file group.\+c.



References Group\+\_\+\+Chats\+::fr\+\_\+c, get\+\_\+group\+\_\+c(), Group\+\_\+c\+::group, i, M\+A\+X\+\_\+\+C\+R\+Y\+P\+T\+O\+\_\+\+D\+A\+T\+A\+\_\+\+S\+I\+Z\+E, Group\+\_\+\+Peer\+::nick, Group\+\_\+\+Peer\+::nick\+\_\+len, Group\+\_\+c\+::numpeers, P\+A\+C\+K\+E\+T\+\_\+\+I\+D\+\_\+\+D\+I\+R\+E\+C\+T\+\_\+\+G\+R\+O\+U\+P\+C\+H\+A\+T, Group\+\_\+\+Peer\+::peer\+\_\+number, P\+E\+E\+R\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+I\+D, P\+E\+E\+R\+\_\+\+T\+I\+T\+L\+E\+\_\+\+I\+D, Group\+\_\+\+Peer\+::real\+\_\+pk, send\+\_\+packet\+\_\+group\+\_\+peer(), Group\+\_\+\+Peer\+::temp\+\_\+pk, Group\+\_\+c\+::title, and Group\+\_\+c\+::title\+\_\+len.



Referenced by handle\+\_\+direct\+\_\+packet().


\begin{DoxyCode}
1452 \{
1453     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
1454 
1455     \textcolor{keywordflow}{if} (!g)
1456         \textcolor{keywordflow}{return} -1;
1457 
1458     uint8\_t packet[\hyperlink{net__crypto_8h_a1b6e5122f9fdc5ef548ccf920f0c246e}{MAX\_CRYPTO\_DATA\_SIZE} - (1 + \textcolor{keyword}{sizeof}(uint16\_t))];
1459     packet[0] = \hyperlink{toxcore_2group_8c_a715adea5ec29b115f99fb959be32fe9a}{PEER\_RESPONSE\_ID};
1460     uint8\_t *p = packet + 1;
1461 
1462     uint16\_t sent = 0;
1463     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
1464 
1465     \textcolor{keywordflow}{for} (i = 0; i < g->\hyperlink{struct_group__c_a6c81294c96de8914431dbf825934b528}{numpeers}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
1466         \textcolor{keywordflow}{if} ((p - packet) + \textcolor{keyword}{sizeof}(uint16\_t) + crypto\_box\_PUBLICKEYBYTES * 2 + 1 + g->
      \hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[i].\hyperlink{struct_group___peer_aa316280abcd8913a502b56397dd13e23}{nick\_len} > \textcolor{keyword}{sizeof}(packet)) \{
1467             \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_a80236daa3393e2c93424b05ce6f63dcb}{send\_packet\_group\_peer}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, friendcon\_id, 
      \hyperlink{_messenger_8h_a924a8a2c833fef2c4e77892e9261c5df}{PACKET\_ID\_DIRECT\_GROUPCHAT}, group\_num, packet, (p - packet))) \{
1468                 sent = \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
1469             \} \textcolor{keywordflow}{else} \{
1470                 \textcolor{keywordflow}{return} sent;
1471             \}
1472 
1473             p = packet + 1;
1474         \}
1475 
1476         uint16\_t peer\_num = htons(g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[i].\hyperlink{struct_group___peer_a264348ec1f724e05464ca97b7c432817}{peer\_number});
1477         memcpy(p, &peer\_num, \textcolor{keyword}{sizeof}(peer\_num));
1478         p += \textcolor{keyword}{sizeof}(peer\_num);
1479         memcpy(p, g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[i].\hyperlink{struct_group___peer_ab42b4c90d81ac99b968c3edd1e21d706}{real\_pk}, crypto\_box\_PUBLICKEYBYTES);
1480         p += crypto\_box\_PUBLICKEYBYTES;
1481         memcpy(p, g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[i].\hyperlink{struct_group___peer_a46affbcc202b25e96fd1f5238e9e97e0}{temp\_pk}, crypto\_box\_PUBLICKEYBYTES);
1482         p += crypto\_box\_PUBLICKEYBYTES;
1483         *p = g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}].\hyperlink{struct_group___peer_aa316280abcd8913a502b56397dd13e23}{nick\_len};
1484         p += 1;
1485         memcpy(p, g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[i].\hyperlink{struct_group___peer_ae7cf3fd18e321fab5a711e72622301b9}{nick}, g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[i].\hyperlink{struct_group___peer_aa316280abcd8913a502b56397dd13e23}{nick\_len});
1486         p += g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}].\hyperlink{struct_group___peer_aa316280abcd8913a502b56397dd13e23}{nick\_len};
1487     \}
1488 
1489     \textcolor{keywordflow}{if} (sent != i) \{
1490         \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_a80236daa3393e2c93424b05ce6f63dcb}{send\_packet\_group\_peer}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, friendcon\_id, 
      \hyperlink{_messenger_8h_a924a8a2c833fef2c4e77892e9261c5df}{PACKET\_ID\_DIRECT\_GROUPCHAT}, group\_num, packet, (p - packet))) \{
1491             sent = \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
1492         \}
1493     \}
1494 
1495     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_ac32d4f2bb9021dfa0b7ce5f9537412d7}{title\_len}) \{
1496         uint8\_t Packet[1 + g->\hyperlink{struct_group__c_ac32d4f2bb9021dfa0b7ce5f9537412d7}{title\_len}];
1497         Packet[0] = \hyperlink{toxcore_2group_8c_a2bd87e226fa5d75452f77a9194a27ebc}{PEER\_TITLE\_ID};
1498         memcpy(Packet + 1, g->\hyperlink{struct_group__c_a9ace0499016685340a1f3009a7aa01e0}{title}, g->\hyperlink{struct_group__c_ac32d4f2bb9021dfa0b7ce5f9537412d7}{title\_len});
1499         \hyperlink{toxcore_2group_8c_a80236daa3393e2c93424b05ce6f63dcb}{send\_packet\_group\_peer}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, friendcon\_id, 
      \hyperlink{_messenger_8h_a924a8a2c833fef2c4e77892e9261c5df}{PACKET\_ID\_DIRECT\_GROUPCHAT}, group\_num, Packet, \textcolor{keyword}{sizeof}(Packet));
1500     \}
1501 
1502     \textcolor{keywordflow}{return} sent;
1503 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a45538eb41a1837f5f6c76014cb18bf70_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a45538eb41a1837f5f6c76014cb18bf70_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_ae5e2dd522c8105af9203d908b7fb3f16}{\index{toxcore/group.\+c@{toxcore/group.\+c}!set\+\_\+conns\+\_\+status\+\_\+groups@{set\+\_\+conns\+\_\+status\+\_\+groups}}
\index{set\+\_\+conns\+\_\+status\+\_\+groups@{set\+\_\+conns\+\_\+status\+\_\+groups}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{set\+\_\+conns\+\_\+status\+\_\+groups}]{\setlength{\rightskip}{0pt plus 5cm}static void set\+\_\+conns\+\_\+status\+\_\+groups (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{friendcon\+\_\+id, }
\item[{uint8\+\_\+t}]{type}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_ae5e2dd522c8105af9203d908b7fb3f16}


Definition at line 592 of file group.\+c.



References i, Group\+\_\+\+Chats\+::num\+\_\+chats, and set\+\_\+conns\+\_\+type\+\_\+close().



Referenced by handle\+\_\+status().


\begin{DoxyCode}
593 \{
594     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
595 
596     \textcolor{keywordflow}{for} (i = 0; i < g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
597         \hyperlink{toxcore_2group_8c_acd184cb8d897a453bde4b2a0ed5f37c1}{set\_conns\_type\_close}(g\_c, i, friendcon\_id, type);
598     \}
599 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ae5e2dd522c8105af9203d908b7fb3f16_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_ae5e2dd522c8105af9203d908b7fb3f16_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_acd184cb8d897a453bde4b2a0ed5f37c1}{\index{toxcore/group.\+c@{toxcore/group.\+c}!set\+\_\+conns\+\_\+type\+\_\+close@{set\+\_\+conns\+\_\+type\+\_\+close}}
\index{set\+\_\+conns\+\_\+type\+\_\+close@{set\+\_\+conns\+\_\+type\+\_\+close}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{set\+\_\+conns\+\_\+type\+\_\+close}]{\setlength{\rightskip}{0pt plus 5cm}static void set\+\_\+conns\+\_\+type\+\_\+close (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{int}]{friendcon\+\_\+id, }
\item[{uint8\+\_\+t}]{type}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_acd184cb8d897a453bde4b2a0ed5f37c1}


Definition at line 568 of file group.\+c.



References Group\+\_\+c\+::close, Group\+\_\+\+Chats\+::fr\+\_\+c, get\+\_\+group\+\_\+c(), G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+N\+O\+N\+E, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+C\+L\+O\+S\+E\+\_\+\+O\+N\+L\+I\+N\+E, i, Group\+\_\+c\+::identifier, M\+A\+X\+\_\+\+G\+R\+O\+U\+P\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+S, Group\+\_\+c\+::number, send\+\_\+packet\+\_\+online(), and Group\+\_\+c\+::type.



Referenced by set\+\_\+conns\+\_\+status\+\_\+groups().


\begin{DoxyCode}
569 \{
570     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
571 
572     \textcolor{keywordflow}{if} (!g)
573         \textcolor{keywordflow}{return};
574 
575     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
576 
577     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{toxcore_2group_8h_ab4d6c744a36e49e0aa6cb3f1ea3de0f7}{MAX\_GROUP\_CONNECTIONS}; ++\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}) \{
578         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} == \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2daec225048274e40e0a1517f1afc008834}{GROUPCHAT\_CLOSE\_NONE})
579             \textcolor{keywordflow}{continue};
580 
581         \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[i].\hyperlink{struct_group__c_ad50c630d233a71112a7df136970caefc}{number} != (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})friendcon\_id)
582             \textcolor{keywordflow}{continue};
583 
584         \textcolor{keywordflow}{if} (type == \hyperlink{toxcore_2group_8h_a0411cd49bb5b71852cecd93bcbf0ca2da375697d21bebe66381f9439c657ad7f4}{GROUPCHAT\_CLOSE\_ONLINE}) \{
585             \hyperlink{toxcore_2group_8c_af7c31fe40ea58b07c87e38ef94f13eac}{send\_packet\_online}(g\_c->\hyperlink{struct_group___chats_ae26eb43a606fff20fe70209d051c40f9}{fr\_c}, friendcon\_id, groupnumber, g->
      \hyperlink{struct_group__c_a590984b7f44686ea4892ffa2651b0cda}{identifier});
586         \} \textcolor{keywordflow}{else} \{
587             g->\hyperlink{struct_group__c_a6c24608383f70ad37f70307f492e3abc}{close}[\hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i}].\hyperlink{struct_group__c_a1d127017fb298b889f4ba24752d08b8e}{type} = type;
588         \}
589     \}
590 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_acd184cb8d897a453bde4b2a0ed5f37c1_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_acd184cb8d897a453bde4b2a0ed5f37c1_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a43eba3fa6d10b16fba5c35b6a1b55590}{\index{toxcore/group.\+c@{toxcore/group.\+c}!setnick@{setnick}}
\index{setnick@{setnick}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{setnick}]{\setlength{\rightskip}{0pt plus 5cm}static int setnick (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{int}]{peer\+\_\+index, }
\item[{const uint8\+\_\+t $\ast$}]{nick, }
\item[{uint16\+\_\+t}]{nick\+\_\+len}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a43eba3fa6d10b16fba5c35b6a1b55590}


Definition at line 519 of file group.\+c.



References C\+H\+A\+T\+\_\+\+C\+H\+A\+N\+G\+E\+\_\+\+P\+E\+E\+R\+\_\+\+N\+A\+M\+E, get\+\_\+group\+\_\+c(), Group\+\_\+c\+::group, Group\+\_\+\+Chats\+::group\+\_\+namelistchange\+\_\+userdata, Group\+\_\+\+Chats\+::m, M\+A\+X\+\_\+\+N\+A\+M\+E\+\_\+\+L\+E\+N\+G\+T\+H, Group\+\_\+\+Peer\+::nick, Group\+\_\+\+Peer\+::nick\+\_\+len, and Group\+\_\+\+Chats\+::peer\+\_\+namelistchange.



Referenced by add\+\_\+groupchat(), handle\+\_\+message\+\_\+packet\+\_\+group(), and handle\+\_\+send\+\_\+peers().


\begin{DoxyCode}
520 \{
521     \textcolor{keywordflow}{if} (nick\_len > \hyperlink{_messenger_8h_a0c397a708cec89c74029582574516b30}{MAX\_NAME\_LENGTH})
522         \textcolor{keywordflow}{return} -1;
523 
524     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
525 
526     \textcolor{keywordflow}{if} (!g)
527         \textcolor{keywordflow}{return} -1;
528 
529     \textcolor{comment}{/* same name as already stored? */}
530     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_aa316280abcd8913a502b56397dd13e23}{nick\_len} == nick\_len)
531         \textcolor{keywordflow}{if} (nick\_len == 0 || !memcmp(g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_ae7cf3fd18e321fab5a711e72622301b9}{nick}, nick, nick\_len))
532             \textcolor{keywordflow}{return} 0;
533 
534     \textcolor{keywordflow}{if} (nick\_len)
535         memcpy(g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_ae7cf3fd18e321fab5a711e72622301b9}{nick}, nick, nick\_len);
536 
537     g->\hyperlink{struct_group__c_a1f68599dc07252599a98f6d044a184e9}{group}[peer\_index].\hyperlink{struct_group___peer_aa316280abcd8913a502b56397dd13e23}{nick\_len} = nick\_len;
538 
539     \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_a3f11f69cf6d4e6d1ed57b5306b097baf}{peer\_namelistchange})
540         g\_c->\hyperlink{struct_group___chats_a3f11f69cf6d4e6d1ed57b5306b097baf}{peer\_namelistchange}(g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}, groupnumber, peer\_index, 
      \hyperlink{toxcore_2group_8h_abed82baf7f470b522273a3e37c24c600a2bbbcf7a2d323bc7e36f0a1ca4b47fe9}{CHAT\_CHANGE\_PEER\_NAME}, g\_c->\hyperlink{struct_group___chats_a4c6b98ab07da7e69ecb7ae245f765984}{group\_namelistchange\_userdata}
      );
541 
542     \textcolor{keywordflow}{return} 0;
543 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a43eba3fa6d10b16fba5c35b6a1b55590_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a43eba3fa6d10b16fba5c35b6a1b55590_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_aa09cb89734d556bc4b1410de31b7406e}{\index{toxcore/group.\+c@{toxcore/group.\+c}!settitle@{settitle}}
\index{settitle@{settitle}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{settitle}]{\setlength{\rightskip}{0pt plus 5cm}static int settitle (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber, }
\item[{int}]{peer\+\_\+index, }
\item[{const uint8\+\_\+t $\ast$}]{title, }
\item[{uint8\+\_\+t}]{title\+\_\+len}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_aa09cb89734d556bc4b1410de31b7406e}


Definition at line 545 of file group.\+c.



References get\+\_\+group\+\_\+c(), Group\+\_\+\+Chats\+::m, M\+A\+X\+\_\+\+N\+A\+M\+E\+\_\+\+L\+E\+N\+G\+T\+H, Group\+\_\+c\+::title, Group\+\_\+\+Chats\+::title\+\_\+callback, Group\+\_\+\+Chats\+::title\+\_\+callback\+\_\+userdata, and Group\+\_\+c\+::title\+\_\+len.



Referenced by handle\+\_\+direct\+\_\+packet(), and handle\+\_\+message\+\_\+packet\+\_\+group().


\begin{DoxyCode}
546 \{
547     \textcolor{keywordflow}{if} (title\_len > \hyperlink{_messenger_8h_a0c397a708cec89c74029582574516b30}{MAX\_NAME\_LENGTH} || title\_len == 0)
548         \textcolor{keywordflow}{return} -1;
549 
550     \hyperlink{struct_group__c}{Group\_c} *g = \hyperlink{toxcore_2group_8c_a11d3240a6755f36864ed2b072e826483}{get\_group\_c}(g\_c, groupnumber);
551 
552     \textcolor{keywordflow}{if} (!g)
553         \textcolor{keywordflow}{return} -1;
554 
555     \textcolor{comment}{/* same as already set? */}
556     \textcolor{keywordflow}{if} (g->\hyperlink{struct_group__c_ac32d4f2bb9021dfa0b7ce5f9537412d7}{title\_len} == title\_len && !memcmp(g->\hyperlink{struct_group__c_a9ace0499016685340a1f3009a7aa01e0}{title}, title, title\_len))
557         \textcolor{keywordflow}{return} 0;
558 
559     memcpy(g->\hyperlink{struct_group__c_a9ace0499016685340a1f3009a7aa01e0}{title}, title, title\_len);
560     g->\hyperlink{struct_group__c_ac32d4f2bb9021dfa0b7ce5f9537412d7}{title\_len} = title\_len;
561 
562     \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_a3a2940882c161941fd7f3274064bd594}{title\_callback})
563         g\_c->\hyperlink{struct_group___chats_a3a2940882c161941fd7f3274064bd594}{title\_callback}(g\_c->\hyperlink{struct_group___chats_aea6eb6c7c30a659f1b0dee83eaf03ea2}{m}, groupnumber, peer\_index, title, title\_len, g\_c->
      \hyperlink{struct_group___chats_a75c386ae84b59f8f38e02cd0f841ba8b}{title\_callback\_userdata});
564 
565     \textcolor{keywordflow}{return} 0;
566 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_aa09cb89734d556bc4b1410de31b7406e_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_aa09cb89734d556bc4b1410de31b7406e_icgraph}
\end{center}
\end{figure}


\hypertarget{toxcore_2group_8c_a7dfafd474418e29ebd804200d0d4e6e3}{\index{toxcore/group.\+c@{toxcore/group.\+c}!wipe\+\_\+group\+\_\+chat@{wipe\+\_\+group\+\_\+chat}}
\index{wipe\+\_\+group\+\_\+chat@{wipe\+\_\+group\+\_\+chat}!toxcore/group.\+c@{toxcore/group.\+c}}
\subsubsection[{wipe\+\_\+group\+\_\+chat}]{\setlength{\rightskip}{0pt plus 5cm}static int wipe\+\_\+group\+\_\+chat (
\begin{DoxyParamCaption}
\item[{{\bf Group\+\_\+\+Chats} $\ast$}]{g\+\_\+c, }
\item[{int}]{groupnumber}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{toxcore_2group_8c_a7dfafd474418e29ebd804200d0d4e6e3}


Definition at line 103 of file group.\+c.



References Group\+\_\+\+Chats\+::chats, G\+R\+O\+U\+P\+C\+H\+A\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+N\+O\+N\+E, groupnumber\+\_\+not\+\_\+valid(), i, Group\+\_\+\+Chats\+::num\+\_\+chats, realloc\+\_\+groupchats(), and Group\+\_\+c\+::status.



Referenced by del\+\_\+groupchat(), and invite\+\_\+friend().


\begin{DoxyCode}
104 \{
105     \textcolor{keywordflow}{if} (\hyperlink{toxcore_2group_8c_a4ffc6ae8485f94d9177baf65f777c72e}{groupnumber\_not\_valid}(g\_c, groupnumber))
106         \textcolor{keywordflow}{return} -1;
107 
108     uint32\_t \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
109     memset(&(g\_c->\hyperlink{struct_group___chats_a2a89a032b3d68d95f8cbecf4ecec9e74}{chats}[groupnumber]), 0 , \textcolor{keyword}{sizeof}(\hyperlink{struct_group__c}{Group\_c}));
110 
111     \textcolor{keywordflow}{for} (i = g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats}; i != 0; --i) \{
112         \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_a2a89a032b3d68d95f8cbecf4ecec9e74}{chats}[i - 1].\hyperlink{struct_group__c_ade818037fd6c985038ff29656089758d}{status} != \hyperlink{toxcore_2group_8h_a61dadd085c1777f559549e05962b2c9ea3de12837ac42b1a52f94f44781442f78}{GROUPCHAT\_STATUS\_NONE})
113             \textcolor{keywordflow}{break};
114     \}
115 
116     \textcolor{keywordflow}{if} (g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats} != i) \{
117         g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats} = \hyperlink{toxav__many__test_8c_acb559820d9ca11295b4500f179ef6392}{i};
118         \hyperlink{toxcore_2group_8c_a7b1c78c20f59bf1cf3f0713f95d27853}{realloc\_groupchats}(g\_c, g\_c->\hyperlink{struct_group___chats_af6dc2bcdf8d71e0faaa6601befa94d9b}{num\_chats});
119     \}
120 
121     \textcolor{keywordflow}{return} 0;
122 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=323pt]{df/de9/toxcore_2group_8c_a7dfafd474418e29ebd804200d0d4e6e3_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/de9/toxcore_2group_8c_a7dfafd474418e29ebd804200d0d4e6e3_icgraph}
\end{center}
\end{figure}


