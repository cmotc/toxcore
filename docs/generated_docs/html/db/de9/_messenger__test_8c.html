<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>libtoxcore: testing/Messenger_test.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../tox.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">libtoxcore
   </div>
   <div id="projectbrief">The future of instant messaging</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_64f94c193e4d03baf6e89b1053934749.html">testing</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Messenger_test.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d4/d30/_messenger_8h_source.html">../toxcore/Messenger.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/da3/misc__tools_8c_source.html">misc_tools.c</a>&quot;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;arpa/inet.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Messenger_test.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d6f/_messenger__test_8c__incl.png" border="0" usemap="#testing_2_messenger__test_8c" alt=""/></div>
<map name="testing_2_messenger__test_8c" id="testing_2_messenger__test_8c">
<area shape="rect" id="node2" href="../../d4/d30/_messenger_8h.html" title="../toxcore/Messenger.h" alt="" coords="638,80,794,107"/><area shape="rect" id="node34" href="../../d5/da3/misc__tools_8c.html" title="misc_tools.c" alt="" coords="176,901,272,928"/><area shape="rect" id="node3" href="../../d5/d24/friend__requests_8h.html" title="friend_requests.h" alt="" coords="655,155,777,181"/><area shape="rect" id="node4" href="../../d0/d08/friend__connection_8h.html" title="friend_connection.h" alt="" coords="550,229,685,256"/><area shape="rect" id="node5" href="../../de/d42/net__crypto_8h.html" title="net_crypto.h" alt="" coords="570,379,665,405"/><area shape="rect" id="node6" href="../../df/dad/_d_h_t_8h.html" title="DHT.h" alt="" coords="503,752,564,779"/><area shape="rect" id="node25" href="../../dd/db4/_l_a_n__discovery_8h.html" title="LAN_discovery.h" alt="" coords="405,453,528,480"/><area shape="rect" id="node32" href="../../d9/d26/onion__client_8h.html" title="onion_client.h" alt="" coords="713,304,815,331"/><area shape="rect" id="node26" href="../../da/d39/_t_c_p__connection_8h.html" title="TCP_connection.h" alt="" coords="552,453,683,480"/><area shape="rect" id="node7" href="../../dd/d3e/crypto__core_8h.html" title="crypto_core.h" alt="" coords="571,827,672,853"/><area shape="rect" id="node8" href="../../d9/d94/network_8h.html" title="network.h" alt="" coords="566,901,645,928"/><area shape="rect" id="node24" href="../../dd/dec/ping__array_8h.html" title="ping_array.h" alt="" coords="696,827,789,853"/><area shape="rect" id="node27" href="../../d0/df3/_t_c_p__client_8h.html" title="TCP_client.h" alt="" coords="656,528,755,555"/><area shape="rect" id="node28" href="../../d6/d03/_t_c_p__server_8h.html" title="TCP_server.h" alt="" coords="659,603,762,629"/><area shape="rect" id="node29" href="../../d3/db9/onion_8h.html" title="onion.h" alt="" coords="520,677,584,704"/><area shape="rect" id="node30" href="../../da/d23/list_8h.html" title="list.h" alt="" coords="101,901,152,928"/><area shape="rect" id="node33" href="../../d7/dfd/onion__announce_8h.html" title="onion_announce.h" alt="" coords="505,528,631,555"/></map>
</div>
</div>
<p><a href="../../db/de9/_messenger__test_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5d21ea3d7da27fbd9f40c59aaa04da62"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de9/_messenger__test_8c.html#a5d21ea3d7da27fbd9f40c59aaa04da62">c_sleep</a>(<a class="el" href="../../d2/d65/n_tox_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>)&#160;&#160;&#160;usleep(1000*<a class="el" href="../../d2/d65/n_tox_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>)</td></tr>
<tr class="separator:a5d21ea3d7da27fbd9f40c59aaa04da62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a614217d263be1fb1a5f76e2ff7be19a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de9/_messenger__test_8c.html#a614217d263be1fb1a5f76e2ff7be19a2">PORT</a>&#160;&#160;&#160;33445</td></tr>
<tr class="separator:a614217d263be1fb1a5f76e2ff7be19a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7a4fea32f3eb3f26cf343c951bbfae68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de9/_messenger__test_8c.html#a7a4fea32f3eb3f26cf343c951bbfae68">print_message</a> (<a class="el" href="../../d3/d79/struct_messenger.html">Messenger</a> *<a class="el" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>, uint32_t friendnumber, unsigned int type, const uint8_t *string, size_t length, void *userdata)</td></tr>
<tr class="separator:a7a4fea32f3eb3f26cf343c951bbfae68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38c8dd7be210f3e938afa8e6eb4cd562"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de9/_messenger__test_8c.html#a38c8dd7be210f3e938afa8e6eb4cd562">print_request</a> (<a class="el" href="../../d3/d79/struct_messenger.html">Messenger</a> *<a class="el" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>, const uint8_t *public_key, const uint8_t *data, size_t length, void *userdata)</td></tr>
<tr class="separator:a38c8dd7be210f3e938afa8e6eb4cd562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de9/_messenger__test_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aea6eb6c7c30a659f1b0dee83eaf03ea2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d79/struct_messenger.html">Messenger</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a></td></tr>
<tr class="separator:aea6eb6c7c30a659f1b0dee83eaf03ea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a5d21ea3d7da27fbd9f40c59aaa04da62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define c_sleep</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d2/d65/n_tox_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a></td><td>)</td>
          <td>&#160;&#160;&#160;usleep(1000*<a class="el" href="../../d2/d65/n_tox_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/de9/_messenger__test_8c_source.html#l00054">54</a> of file <a class="el" href="../../db/de9/_messenger__test_8c_source.html">Messenger_test.c</a>.</p>

<p>Referenced by <a class="el" href="../../db/de9/_messenger__test_8c_source.html#l00097">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a614217d263be1fb1a5f76e2ff7be19a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PORT&#160;&#160;&#160;33445</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/de9/_messenger__test_8c_source.html#l00055">55</a> of file <a class="el" href="../../db/de9/_messenger__test_8c_source.html">Messenger_test.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/de9/_messenger__test_8c_source.html#l00097">97</a> of file <a class="el" href="../../db/de9/_messenger__test_8c_source.html">Messenger_test.c</a>.</p>

<p>References <a class="el" href="../../db/de9/_messenger__test_8c_source.html#l00054">c_sleep</a>, <a class="el" href="../../d5/da3/misc__tools_8c_source.html#l00055">cmdline_parsefor_ipv46()</a>, <a class="el" href="../../d4/d30/_messenger_8h_source.html#l00215">Messenger::dht</a>, <a class="el" href="../../dc/dc1/_d_h_t_8c_source.html#l01434">DHT_bootstrap_from_address()</a>, <a class="el" href="../../d8/d8d/_messenger_8c_source.html#l02280">do_messenger()</a>, <a class="el" href="../../d4/d30/_messenger_8h_source.html#l00037">FRIEND_ADDRESS_SIZE</a>, <a class="el" href="../../d8/d8d/_messenger_8c_source.html#l00138">getaddress()</a>, <a class="el" href="../../d8/d8d/_messenger_8c_source.html#l00570">getname()</a>, <a class="el" href="../../d5/da3/misc__tools_8c_source.html#l00038">hex_string_to_bin()</a>, <a class="el" href="../../d6/dc0/toxav__many__test_8c_source.html#l00278">i</a>, <a class="el" href="../../d4/d30/_messenger_8h_source.html#l00069">Messenger_Options::ipv6enabled</a>, <a class="el" href="../../d8/d8d/_messenger_8c_source.html#l01848">kill_messenger()</a>, <a class="el" href="../../d8/d8d/_messenger_8c_source.html#l00226">m_addfriend()</a>, <a class="el" href="../../d8/d8d/_messenger_8c_source.html#l00773">m_callback_friendmessage()</a>, <a class="el" href="../../d8/d8d/_messenger_8c_source.html#l00765">m_callback_friendrequest()</a>, <a class="el" href="../../d8/d8d/_messenger_8c_source.html#l00454">m_send_message_generic()</a>, <a class="el" href="../../d4/d30/_messenger_8h_source.html#l00040">MESSAGE_NORMAL</a>, <a class="el" href="../../d8/d8d/_messenger_8c_source.html#l02744">messenger_load()</a>, <a class="el" href="../../d8/d8d/_messenger_8c_source.html#l02565">messenger_save()</a>, <a class="el" href="../../d8/d8d/_messenger_8c_source.html#l02540">messenger_size()</a>, <a class="el" href="../../d8/d8d/_messenger_8c_source.html#l01751">new_messenger()</a>, <a class="el" href="../../d9/d35/tox__test_8c_source.html#l00246">num</a>, <a class="el" href="../../db/d11/irc__syncbot_8c_source.html#l00031">port</a>, <a class="el" href="../../db/de9/_messenger__test_8c_source.html#l00059">print_message()</a>, <a class="el" href="../../db/de9/_messenger__test_8c_source.html#l00070">print_request()</a>, <a class="el" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf()</a>, <a class="el" href="../../d8/d8d/_messenger_8c_source.html#l00528">setname()</a>, and <a class="el" href="../../d9/d94/network_8h_source.html#l00177">TOX_ENABLE_IPV6_DEFAULT</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">/* let user override default by cmdline */</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    uint8_t ipv6enabled = <a class="code" href="../../d9/d94/network_8h.html#a5cba5a89816e720fa45984ad44859726">TOX_ENABLE_IPV6_DEFAULT</a>; <span class="comment">/* x */</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordtype">int</span> argvoffset = <a class="code" href="../../d5/da3/misc__tools_8c.html#a71e9fc36ac2daca56b990437704bd35f">cmdline_parsefor_ipv46</a>(argc, argv, &amp;ipv6enabled);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">if</span> (argvoffset &lt; 0)</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        exit(1);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">/* with optional --ipvx, now it can be 1-4 arguments... */</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> ((argc != argvoffset + 2) &amp;&amp; (argc != argvoffset + 4)) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;Usage: %s [--ipv4|--ipv6] ip port public_key (of the DHT bootstrap node)\n&quot;</span>, argv[0]);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;or\n&quot;</span>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;       %s [--ipv4|--ipv6] Save.bak (to read Save.bak as state file)\n&quot;</span>, argv[0]);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        exit(0);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="../../dc/d69/struct_messenger___options.html">Messenger_Options</a> options = {0};</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    options.<a class="code" href="../../dc/d69/struct_messenger___options.html#abf85a84f394474115b9f45f037ad3378">ipv6enabled</a> = ipv6enabled;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a> = <a class="code" href="../../d8/d8d/_messenger_8c.html#af015ea2e74c58196e0564719a6c6a112">new_messenger</a>(&amp;options, 0);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span> ( !<a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a> ) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        fputs(<span class="stringliteral">&quot;Failed to allocate messenger datastructure\n&quot;</span>, stderr);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        exit(0);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">if</span> (argc == argvoffset + 4) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        uint16_t <a class="code" href="../../db/d11/irc__syncbot_8c.html#a8e0798404bf2cf5dabb84c5ba9a4f236">port</a> = htons(atoi(argv[argvoffset + 2]));</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        uint8_t *bootstrap_key = <a class="code" href="../../d5/da3/misc__tools_8c.html#aff7dee3cea854d8a56b5a29f77910f96">hex_string_to_bin</a>(argv[argvoffset + 3]);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordtype">int</span> res = <a class="code" href="../../dc/dc1/_d_h_t_8c.html#af342c78837dbed569d4a75a0516455fc">DHT_bootstrap_from_address</a>(<a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>-&gt;<a class="code" href="../../d3/d79/struct_messenger.html#a8b3d6ce8745acc52695e252bdb1531b6">dht</a>, argv[argvoffset + 1],</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                                             ipv6enabled, port, bootstrap_key);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        free(bootstrap_key);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">if</span> (!res) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;Failed to convert \&quot;%s\&quot; into an IP address. Exiting...\n&quot;</span>, argv[argvoffset + 1]);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            exit(1);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        FILE *file = fopen(argv[argvoffset + 1], <span class="stringliteral">&quot;rb&quot;</span>);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">if</span> ( file == NULL ) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;Failed to open \&quot;%s\&quot; - does it exist?\n&quot;</span>, argv[argvoffset + 1]);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordtype">int</span> read;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        uint8_t buffer[128000];</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        read = fread(buffer, 1, 128000, file);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;Messenger loaded: %i\n&quot;</span>, <a class="code" href="../../d8/d8d/_messenger_8c.html#a4871cd41d2a53b07ee4b2467a844e17e">messenger_load</a>(<a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>, buffer, read));</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        fclose(file);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="../../d8/d8d/_messenger_8c.html#ac913636e02281cae396b1b7494cd760a">m_callback_friendrequest</a>(<a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>, <a class="code" href="../../db/de9/_messenger__test_8c.html#a38c8dd7be210f3e938afa8e6eb4cd562">print_request</a>, NULL);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="../../d8/d8d/_messenger_8c.html#a5bf6f3f6a919d32a34dbd8150f26ec1e">m_callback_friendmessage</a>(<a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>, <a class="code" href="../../db/de9/_messenger__test_8c.html#a7a4fea32f3eb3f26cf343c951bbfae68">print_message</a>, NULL);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;OUR ID: &quot;</span>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    uint32_t <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    uint8_t address[<a class="code" href="../../d4/d30/_messenger_8h.html#a22c0e97a4b45902742a86bba24cc5d5d">FRIEND_ADDRESS_SIZE</a>];</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="../../d8/d8d/_messenger_8c.html#a50d7f1102c25158f02b2943dcfe253c8">getaddress</a>(<a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>, address);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d4/d30/_messenger_8h.html#a22c0e97a4b45902742a86bba24cc5d5d">FRIEND_ADDRESS_SIZE</a>; i++) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">if</span> (address[i] &lt; 16)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;0&quot;</span>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;%hhX&quot;</span>, address[i]);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="../../d8/d8d/_messenger_8c.html#a74824e98cf3b2607cb8624d46cd2e227">setname</a>(<a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>, (uint8_t *)<span class="stringliteral">&quot;Anon&quot;</span>, 5);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordtype">char</span> temp_hex_id[128];</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;\nEnter the address of the friend you wish to add (38 bytes HEX format):\n&quot;</span>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (!fgets(temp_hex_id, <span class="keyword">sizeof</span>(temp_hex_id), stdin))</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        exit(0);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> ((strlen(temp_hex_id) &gt; 0) &amp;&amp; (temp_hex_id[strlen(temp_hex_id) - 1] == <span class="charliteral">&#39;\n&#39;</span>))</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        temp_hex_id[strlen(temp_hex_id) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    uint8_t *bin_id = <a class="code" href="../../d5/da3/misc__tools_8c.html#aff7dee3cea854d8a56b5a29f77910f96">hex_string_to_bin</a>(temp_hex_id);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d9/d35/tox__test_8c.html#abea371f9030e15a5d2a4c181576833d8">num</a> = <a class="code" href="../../d8/d8d/_messenger_8c.html#ac77431b1ab0b12af003657e11057bd9c">m_addfriend</a>(<a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>, bin_id, (uint8_t *)<span class="stringliteral">&quot;Install Gentoo&quot;</span>, <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;Install Gentoo&quot;</span>));</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    free(bin_id);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    perror(<span class="stringliteral">&quot;Initialization&quot;</span>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        uint8_t name[128];</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <a class="code" href="../../d8/d8d/_messenger_8c.html#a59c33c3a3b0e1dd9f86267f59c380bee">getname</a>(<a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>, num, name);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;%s\n&quot;</span>, name);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="../../d8/d8d/_messenger_8c.html#a23c8b52187d4ab113cce5497a19ac997">m_send_message_generic</a>(<a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>, num, <a class="code" href="../../d4/d30/_messenger_8h.html#ac36f475ca5b446f4fde4c9b90bec77c8a3b0309750c8c5bf0ad071cf382f10c67">MESSAGE_NORMAL</a>, (uint8_t *)<span class="stringliteral">&quot;Test&quot;</span>, 5, 0);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="../../d8/d8d/_messenger_8c.html#ae0686caa878183a98920aeb7486afcb6">do_messenger</a>(<a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <a class="code" href="../../db/de9/_messenger__test_8c.html#a5d21ea3d7da27fbd9f40c59aaa04da62">c_sleep</a>(30);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        FILE *file = fopen(<span class="stringliteral">&quot;Save.bak&quot;</span>, <span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">if</span> ( file == NULL ) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        uint8_t *buffer = malloc(<a class="code" href="../../d8/d8d/_messenger_8c.html#a4ae119dad636f15f1a5d628a13b107d8">messenger_size</a>(<a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>));</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="../../d8/d8d/_messenger_8c.html#af0dfac679b1b57a0036f6511e12fe777">messenger_save</a>(<a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>, buffer);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordtype">size_t</span> write_result = fwrite(buffer, 1, <a class="code" href="../../d8/d8d/_messenger_8c.html#a4ae119dad636f15f1a5d628a13b107d8">messenger_size</a>(<a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>), file);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">if</span> (write_result &lt; <a class="code" href="../../d8/d8d/_messenger_8c.html#a4ae119dad636f15f1a5d628a13b107d8">messenger_size</a>(<a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>)) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        free(buffer);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        fclose(file);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="../../d8/d8d/_messenger_8c.html#a771c65c3057d870b0653c2fdf0a12fb7">kill_messenger</a>(<a class="code" href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;}</div>
<div class="ttc" id="_messenger__test_8c_html_a5d21ea3d7da27fbd9f40c59aaa04da62"><div class="ttname"><a href="../../db/de9/_messenger__test_8c.html#a5d21ea3d7da27fbd9f40c59aaa04da62">c_sleep</a></div><div class="ttdeci">#define c_sleep(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de9/_messenger__test_8c_source.html#l00054">Messenger_test.c:54</a></div></div>
<div class="ttc" id="_messenger_8c_html_a771c65c3057d870b0653c2fdf0a12fb7"><div class="ttname"><a href="../../d8/d8d/_messenger_8c.html#a771c65c3057d870b0653c2fdf0a12fb7">kill_messenger</a></div><div class="ttdeci">void kill_messenger(Messenger *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/_messenger_8c_source.html#l01848">Messenger.c:1848</a></div></div>
<div class="ttc" id="_messenger_8c_html_a23c8b52187d4ab113cce5497a19ac997"><div class="ttname"><a href="../../d8/d8d/_messenger_8c.html#a23c8b52187d4ab113cce5497a19ac997">m_send_message_generic</a></div><div class="ttdeci">int m_send_message_generic(Messenger *m, int32_t friendnumber, uint8_t type, const uint8_t *message, uint32_t length, uint32_t *message_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/_messenger_8c_source.html#l00454">Messenger.c:454</a></div></div>
<div class="ttc" id="_messenger_8c_html_ac913636e02281cae396b1b7494cd760a"><div class="ttname"><a href="../../d8/d8d/_messenger_8c.html#ac913636e02281cae396b1b7494cd760a">m_callback_friendrequest</a></div><div class="ttdeci">void m_callback_friendrequest(Messenger *m, void(*function)(Messenger *m, const uint8_t *, const uint8_t *, size_t, void *), void *userdata)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/_messenger_8c_source.html#l00765">Messenger.c:765</a></div></div>
<div class="ttc" id="_messenger_8c_html_af0dfac679b1b57a0036f6511e12fe777"><div class="ttname"><a href="../../d8/d8d/_messenger_8c.html#af0dfac679b1b57a0036f6511e12fe777">messenger_save</a></div><div class="ttdeci">void messenger_save(const Messenger *m, uint8_t *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/_messenger_8c_source.html#l02565">Messenger.c:2565</a></div></div>
<div class="ttc" id="_messenger__test_8c_html_a38c8dd7be210f3e938afa8e6eb4cd562"><div class="ttname"><a href="../../db/de9/_messenger__test_8c.html#a38c8dd7be210f3e938afa8e6eb4cd562">print_request</a></div><div class="ttdeci">void print_request(Messenger *m, const uint8_t *public_key, const uint8_t *data, size_t length, void *userdata)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de9/_messenger__test_8c_source.html#l00070">Messenger_test.c:70</a></div></div>
<div class="ttc" id="toxav__many__test_8c_html_a1b88a4421cf9eef5af4895904ce2d905"><div class="ttname"><a href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a></div><div class="ttdeci">printf(&quot;All set after %llu seconds! Starting call...\n&quot;, time(NULL)-cur_time)</div></div>
<div class="ttc" id="struct_messenger___options_html"><div class="ttname"><a href="../../dc/d69/struct_messenger___options.html">Messenger_Options</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d30/_messenger_8h_source.html#l00068">Messenger.h:68</a></div></div>
<div class="ttc" id="_messenger_8c_html_a5bf6f3f6a919d32a34dbd8150f26ec1e"><div class="ttname"><a href="../../d8/d8d/_messenger_8c.html#a5bf6f3f6a919d32a34dbd8150f26ec1e">m_callback_friendmessage</a></div><div class="ttdeci">void m_callback_friendmessage(Messenger *m, void(*function)(Messenger *m, uint32_t, unsigned int, const uint8_t *, size_t, void *), void *userdata)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/_messenger_8c_source.html#l00773">Messenger.c:773</a></div></div>
<div class="ttc" id="_messenger_8c_html_a50d7f1102c25158f02b2943dcfe253c8"><div class="ttname"><a href="../../d8/d8d/_messenger_8c.html#a50d7f1102c25158f02b2943dcfe253c8">getaddress</a></div><div class="ttdeci">void getaddress(const Messenger *m, uint8_t *address)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/_messenger_8c_source.html#l00138">Messenger.c:138</a></div></div>
<div class="ttc" id="_d_h_t_8c_html_af342c78837dbed569d4a75a0516455fc"><div class="ttname"><a href="../../dc/dc1/_d_h_t_8c.html#af342c78837dbed569d4a75a0516455fc">DHT_bootstrap_from_address</a></div><div class="ttdeci">int DHT_bootstrap_from_address(DHT *dht, const char *address, uint8_t ipv6enabled, uint16_t port, const uint8_t *public_key)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc1/_d_h_t_8c_source.html#l01434">DHT.c:1434</a></div></div>
<div class="ttc" id="_messenger_8c_html_a59c33c3a3b0e1dd9f86267f59c380bee"><div class="ttname"><a href="../../d8/d8d/_messenger_8c.html#a59c33c3a3b0e1dd9f86267f59c380bee">getname</a></div><div class="ttdeci">int getname(const Messenger *m, int32_t friendnumber, uint8_t *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/_messenger_8c_source.html#l00570">Messenger.c:570</a></div></div>
<div class="ttc" id="_messenger_8c_html_a4ae119dad636f15f1a5d628a13b107d8"><div class="ttname"><a href="../../d8/d8d/_messenger_8c.html#a4ae119dad636f15f1a5d628a13b107d8">messenger_size</a></div><div class="ttdeci">uint32_t messenger_size(const Messenger *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/_messenger_8c_source.html#l02540">Messenger.c:2540</a></div></div>
<div class="ttc" id="network_8h_html_a5cba5a89816e720fa45984ad44859726"><div class="ttname"><a href="../../d9/d94/network_8h.html#a5cba5a89816e720fa45984ad44859726">TOX_ENABLE_IPV6_DEFAULT</a></div><div class="ttdeci">#define TOX_ENABLE_IPV6_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d94/network_8h_source.html#l00177">network.h:177</a></div></div>
<div class="ttc" id="tox__test_8c_html_abea371f9030e15a5d2a4c181576833d8"><div class="ttname"><a href="../../d9/d35/tox__test_8c.html#abea371f9030e15a5d2a4c181576833d8">num</a></div><div class="ttdeci">uint8_t num</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d35/tox__test_8c_source.html#l00246">tox_test.c:246</a></div></div>
<div class="ttc" id="misc__tools_8c_html_a71e9fc36ac2daca56b990437704bd35f"><div class="ttname"><a href="../../d5/da3/misc__tools_8c.html#a71e9fc36ac2daca56b990437704bd35f">cmdline_parsefor_ipv46</a></div><div class="ttdeci">int cmdline_parsefor_ipv46(int argc, char **argv, uint8_t *ipv6enabled)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da3/misc__tools_8c_source.html#l00055">misc_tools.c:55</a></div></div>
<div class="ttc" id="struct_messenger_html_a8b3d6ce8745acc52695e252bdb1531b6"><div class="ttname"><a href="../../d3/d79/struct_messenger.html#a8b3d6ce8745acc52695e252bdb1531b6">Messenger::dht</a></div><div class="ttdeci">DHT * dht</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d30/_messenger_8h_source.html#l00215">Messenger.h:215</a></div></div>
<div class="ttc" id="_messenger_8c_html_ac77431b1ab0b12af003657e11057bd9c"><div class="ttname"><a href="../../d8/d8d/_messenger_8c.html#ac77431b1ab0b12af003657e11057bd9c">m_addfriend</a></div><div class="ttdeci">int32_t m_addfriend(Messenger *m, const uint8_t *address, const uint8_t *data, uint16_t length)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/_messenger_8c_source.html#l00226">Messenger.c:226</a></div></div>
<div class="ttc" id="misc__tools_8c_html_aff7dee3cea854d8a56b5a29f77910f96"><div class="ttname"><a href="../../d5/da3/misc__tools_8c.html#aff7dee3cea854d8a56b5a29f77910f96">hex_string_to_bin</a></div><div class="ttdeci">uint8_t * hex_string_to_bin(char *hex_string)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da3/misc__tools_8c_source.html#l00038">misc_tools.c:38</a></div></div>
<div class="ttc" id="toxav__many__test_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../d6/dc0/toxav__many__test_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc0/toxav__many__test_8c_source.html#l00278">toxav_many_test.c:278</a></div></div>
<div class="ttc" id="_messenger_8h_html_ac36f475ca5b446f4fde4c9b90bec77c8a3b0309750c8c5bf0ad071cf382f10c67"><div class="ttname"><a href="../../d4/d30/_messenger_8h.html#ac36f475ca5b446f4fde4c9b90bec77c8a3b0309750c8c5bf0ad071cf382f10c67">MESSAGE_NORMAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d30/_messenger_8h_source.html#l00040">Messenger.h:40</a></div></div>
<div class="ttc" id="struct_messenger___options_html_abf85a84f394474115b9f45f037ad3378"><div class="ttname"><a href="../../dc/d69/struct_messenger___options.html#abf85a84f394474115b9f45f037ad3378">Messenger_Options::ipv6enabled</a></div><div class="ttdeci">uint8_t ipv6enabled</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d30/_messenger_8h_source.html#l00069">Messenger.h:69</a></div></div>
<div class="ttc" id="_messenger_8c_html_af015ea2e74c58196e0564719a6c6a112"><div class="ttname"><a href="../../d8/d8d/_messenger_8c.html#af015ea2e74c58196e0564719a6c6a112">new_messenger</a></div><div class="ttdeci">Messenger * new_messenger(Messenger_Options *options, unsigned int *error)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/_messenger_8c_source.html#l01751">Messenger.c:1751</a></div></div>
<div class="ttc" id="_messenger_8c_html_a74824e98cf3b2607cb8624d46cd2e227"><div class="ttname"><a href="../../d8/d8d/_messenger_8c.html#a74824e98cf3b2607cb8624d46cd2e227">setname</a></div><div class="ttdeci">int setname(Messenger *m, const uint8_t *name, uint16_t length)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/_messenger_8c_source.html#l00528">Messenger.c:528</a></div></div>
<div class="ttc" id="_messenger_8c_html_a4871cd41d2a53b07ee4b2467a844e17e"><div class="ttname"><a href="../../d8/d8d/_messenger_8c.html#a4871cd41d2a53b07ee4b2467a844e17e">messenger_load</a></div><div class="ttdeci">int messenger_load(Messenger *m, const uint8_t *data, uint32_t length)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/_messenger_8c_source.html#l02744">Messenger.c:2744</a></div></div>
<div class="ttc" id="irc__syncbot_8c_html_a8e0798404bf2cf5dabb84c5ba9a4f236"><div class="ttname"><a href="../../db/d11/irc__syncbot_8c.html#a8e0798404bf2cf5dabb84c5ba9a4f236">port</a></div><div class="ttdeci">uint16_t port</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d11/irc__syncbot_8c_source.html#l00031">irc_syncbot.c:31</a></div></div>
<div class="ttc" id="_messenger__test_8c_html_aea6eb6c7c30a659f1b0dee83eaf03ea2"><div class="ttname"><a href="../../db/de9/_messenger__test_8c.html#aea6eb6c7c30a659f1b0dee83eaf03ea2">m</a></div><div class="ttdeci">static Messenger * m</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de9/_messenger__test_8c_source.html#l00068">Messenger_test.c:68</a></div></div>
<div class="ttc" id="_messenger_8c_html_ae0686caa878183a98920aeb7486afcb6"><div class="ttname"><a href="../../d8/d8d/_messenger_8c.html#ae0686caa878183a98920aeb7486afcb6">do_messenger</a></div><div class="ttdeci">void do_messenger(Messenger *m)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/_messenger_8c_source.html#l02280">Messenger.c:2280</a></div></div>
<div class="ttc" id="_messenger__test_8c_html_a7a4fea32f3eb3f26cf343c951bbfae68"><div class="ttname"><a href="../../db/de9/_messenger__test_8c.html#a7a4fea32f3eb3f26cf343c951bbfae68">print_message</a></div><div class="ttdeci">void print_message(Messenger *m, uint32_t friendnumber, unsigned int type, const uint8_t *string, size_t length, void *userdata)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de9/_messenger__test_8c_source.html#l00059">Messenger_test.c:59</a></div></div>
<div class="ttc" id="_messenger_8h_html_a22c0e97a4b45902742a86bba24cc5d5d"><div class="ttname"><a href="../../d4/d30/_messenger_8h.html#a22c0e97a4b45902742a86bba24cc5d5d">FRIEND_ADDRESS_SIZE</a></div><div class="ttdeci">#define FRIEND_ADDRESS_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d30/_messenger_8h_source.html#l00037">Messenger.h:37</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/de9/_messenger__test_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph.png" border="0" usemap="#db/de9/_messenger__test_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph" alt=""/></div>
<map name="db/de9/_messenger__test_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph" id="db/de9/_messenger__test_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph">
<area shape="rect" id="node2" href="../../d5/da3/misc__tools_8c.html#a71e9fc36ac2daca56b990437704bd35f" title="cmdline_parsefor_ipv46" alt="" coords="115,70,273,97"/><area shape="rect" id="node3" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905" title="printf" alt="" coords="395,19,446,46"/><area shape="rect" id="node4" href="../../dc/dc1/_d_h_t_8c.html#af342c78837dbed569d4a75a0516455fc" title="DHT_bootstrap_from\l_address" alt="" coords="122,696,266,737"/><area shape="rect" id="node10" href="../../d8/d8d/_messenger_8c.html#ae0686caa878183a98920aeb7486afcb6" title="do_messenger" alt="" coords="141,1109,247,1135"/><area shape="rect" id="node24" href="../../d8/d8d/_messenger_8c.html#a50d7f1102c25158f02b2943dcfe253c8" title="getaddress" alt="" coords="151,1362,237,1389"/><area shape="rect" id="node28" href="../../d8/d8d/_messenger_8c.html#a59c33c3a3b0e1dd9f86267f59c380bee" title="getname" alt="" coords="158,311,230,338"/><area shape="rect" id="node30" href="../../d5/da3/misc__tools_8c.html#aff7dee3cea854d8a56b5a29f77910f96" title="hex_string_to_bin" alt="" coords="132,1514,256,1541"/><area shape="rect" id="node31" href="../../d8/d8d/_messenger_8c.html#a771c65c3057d870b0653c2fdf0a12fb7" title="kill_messenger" alt="" coords="139,374,249,401"/><area shape="rect" id="node40" href="../../d8/d8d/_messenger_8c.html#ac77431b1ab0b12af003657e11057bd9c" title="m_addfriend" alt="" coords="147,1311,241,1338"/><area shape="rect" id="node41" href="../../d8/d8d/_messenger_8c.html#a5bf6f3f6a919d32a34dbd8150f26ec1e" title="m_callback_friendmessage" alt="" coords="104,1565,284,1591"/><area shape="rect" id="node42" href="../../d8/d8d/_messenger_8c.html#ac913636e02281cae396b1b7494cd760a" title="m_callback_friendrequest" alt="" coords="109,1615,279,1642"/><area shape="rect" id="node43" href="../../d8/d8d/_messenger_8c.html#a23c8b52187d4ab113cce5497a19ac997" title="m_send_message_generic" alt="" coords="332,70,509,97"/><area shape="rect" id="node44" href="../../d8/d8d/_messenger_8c.html#a4871cd41d2a53b07ee4b2467a844e17e" title="messenger_load" alt="" coords="135,1666,253,1693"/><area shape="rect" id="node45" href="../../d8/d8d/_messenger_8c.html#af0dfac679b1b57a0036f6511e12fe777" title="messenger_save" alt="" coords="133,1413,255,1439"/><area shape="rect" id="node46" href="../../d8/d8d/_messenger_8c.html#a4ae119dad636f15f1a5d628a13b107d8" title="messenger_size" alt="" coords="362,1641,479,1667"/><area shape="rect" id="node47" href="../../d8/d8d/_messenger_8c.html#af015ea2e74c58196e0564719a6c6a112" title="new_messenger" alt="" coords="135,425,253,451"/><area shape="rect" id="node48" href="../../db/de9/_messenger__test_8c.html#a7a4fea32f3eb3f26cf343c951bbfae68" title="print_message" alt="" coords="141,171,247,198"/><area shape="rect" id="node49" href="../../db/de9/_messenger__test_8c.html#a38c8dd7be210f3e938afa8e6eb4cd562" title="print_request" alt="" coords="145,121,243,147"/><area shape="rect" id="node50" href="../../d8/d8d/_messenger_8c.html#a74824e98cf3b2607cb8624d46cd2e227" title="setname" alt="" coords="158,1717,230,1743"/><area shape="rect" id="node5" href="../../d6/d6e/network_8c.html#a6aa0dce9c25e370af93bf4a14f79c709" title="ip_init" alt="" coords="393,577,449,603"/><area shape="rect" id="node6" href="../../d6/d6e/network_8c.html#a2bfd1efbce5b035b10c879a7e85c08df" title="ip_reset" alt="" coords="387,627,455,654"/><area shape="rect" id="node7" href="../../d6/d6e/network_8c.html#a1c024648679209a12766fedc7e55d5e4" title="addr_resolve_or_parse_ip" alt="" coords="335,678,506,705"/><area shape="rect" id="node8" href="../../dc/dc1/_d_h_t_8c.html#ab6d732074bab2377a7884c41c219cf96" title="DHT_bootstrap" alt="" coords="365,729,476,755"/><area shape="rect" id="node9" href="../../d6/d6e/network_8c.html#ac56c677f4bc8bf8311370ee105ae7cbb" title="ip_isset" alt="" coords="387,779,454,806"/><area shape="rect" id="node11" href="../../d8/dc6/net__crypto_8c.html#a632021583d7dd2484614071a7080f311" title="add_tcp_relay" alt="" coords="369,982,472,1009"/><area shape="rect" id="node12" href="../../de/df1/util_8c.html#a849af10dd491723cf3abdef599846897" title="unix_time_update" alt="" coords="557,1083,681,1110"/><area shape="rect" id="node13" href="../../d6/d6e/network_8c.html#ab6765fe4b08536210a20ac728f991e13" title="networking_poll" alt="" coords="365,1134,477,1161"/><area shape="rect" id="node14" href="../../dc/dc1/_d_h_t_8c.html#a5be9dfb66fbf1fa7c267b016f3357534" title="do_DHT" alt="" coords="385,1185,456,1211"/><area shape="rect" id="node15" href="../../de/df1/util_8c.html#ac958d9f8847cb8039444bfa3d304233a" title="unix_time" alt="" coords="580,1286,659,1313"/><area shape="rect" id="node16" href="../../d4/d40/_t_c_p__server_8c.html#a40e8a0302a359dd4f712eb1e9c346fe5" title="do_TCP_server" alt="" coords="364,1033,477,1059"/><area shape="rect" id="node17" href="../../d8/dc6/net__crypto_8c.html#a6fa028eb320bf09ecd619c5053580436" title="do_net_crypto" alt="" coords="369,1083,473,1110"/><area shape="rect" id="node18" href="../../db/d79/onion__client_8c.html#aa1771a7c1ebf446973e8d2bbb7ea8c2d" title="do_onion_client" alt="" coords="365,1286,477,1313"/><area shape="rect" id="node19" href="../../d2/db1/friend__connection_8c.html#aea88c3aa2deff558e9b13ed5229cbb6b" title="do_friend_connections" alt="" coords="345,1337,497,1363"/><area shape="rect" id="node20" href="../../d8/d8d/_messenger_8c.html#a5e3bee5110a3531eedb8f92ffd600af8" title="do_friends" alt="" coords="379,1235,462,1262"/><area shape="rect" id="node21" href="../../d8/d8d/_messenger_8c.html#a65b3475ffdbddbf6aab3fd087c550f4b" title="connection_status_cb" alt="" coords="346,881,495,907"/><area shape="rect" id="node22" href="../../d6/d6e/network_8c.html#af71f49c78ce7b76ccf08785c6ec08706" title="ip_ntoa" alt="" coords="389,931,453,958"/><area shape="rect" id="node23" href="../../de/df1/util_8c.html#ada3d44b4f530d3c8c9cb69b732be94b1" title="id_equal" alt="" coords="385,1438,456,1465"/><area shape="rect" id="node25" href="../../de/df1/util_8c.html#aa30049b8c1d82c280d6d872feea3353b" title="id_copy" alt="" coords="387,1539,454,1566"/><area shape="rect" id="node26" href="../../d6/da4/friend__requests_8c.html#a1e61ffb4aba6cf8815238ccc2d18c794" title="get_nospam" alt="" coords="374,1590,467,1617"/><area shape="rect" id="node27" href="../../d8/d8d/_messenger_8c.html#a31c1f385ae903fdf82773998b54009fc" title="address_checksum" alt="" coords="353,1489,488,1515"/><area shape="rect" id="node29" href="../../d8/d8d/_messenger_8c.html#a36587bd583123730d702e5a4cb894e5f" title="friend_not_valid" alt="" coords="563,95,676,122"/><area shape="rect" id="node32" href="../../d4/d40/_t_c_p__server_8c.html#af6df6382ad309456dcf5b7b350313714" title="kill_TCP_server" alt="" coords="363,171,478,198"/><area shape="rect" id="node33" href="../../d2/db1/friend__connection_8c.html#a2ef8cdbd93f21f11ff0333a9527c2c02" title="kill_friend_connections" alt="" coords="343,222,498,249"/><area shape="rect" id="node34" href="../../d4/d18/onion_8c.html#a301c5cb9db2604dc1ea885c3a2cf8408" title="kill_onion" alt="" coords="383,273,459,299"/><area shape="rect" id="node35" href="../../df/d75/onion__announce_8c.html#ad21ecb14ae7a2a0d11a1d0523a459146" title="kill_onion_announce" alt="" coords="351,323,490,350"/><area shape="rect" id="node36" href="../../db/d79/onion__client_8c.html#a591041f85e43cf886ab4c72fb3b8d468" title="kill_onion_client" alt="" coords="363,374,478,401"/><area shape="rect" id="node37" href="../../d8/dc6/net__crypto_8c.html#abb3546495adde3f08c0474f31c5d3a37" title="kill_net_crypto" alt="" coords="367,425,474,451"/><area shape="rect" id="node38" href="../../dc/dc1/_d_h_t_8c.html#a816851e4f0f454c52b93d65544a2b2bb" title="kill_DHT" alt="" coords="384,475,457,502"/><area shape="rect" id="node39" href="../../d6/d6e/network_8c.html#a8a36a1ed29a0d5dfe1f0095823039627" title="kill_networking" alt="" coords="367,526,475,553"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7a4fea32f3eb3f26cf343c951bbfae68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d79/struct_messenger.html">Messenger</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>friendnumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/de9/_messenger__test_8c_source.html#l00059">59</a> of file <a class="el" href="../../db/de9/_messenger__test_8c_source.html">Messenger_test.c</a>.</p>

<p>References <a class="el" href="../../d8/d8d/_messenger_8c_source.html#l00454">m_send_message_generic()</a>, and <a class="el" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf()</a>.</p>

<p>Referenced by <a class="el" href="../../db/de9/_messenger__test_8c_source.html#l00097">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;Message with length %lu received from %u: %s \n&quot;</span>, length, friendnumber, <span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="../../d8/d8d/_messenger_8c.html#a23c8b52187d4ab113cce5497a19ac997">m_send_message_generic</a>(m, friendnumber, type, (uint8_t *)<span class="stringliteral">&quot;Test1&quot;</span>, 6, 0);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div>
<div class="ttc" id="_messenger_8c_html_a23c8b52187d4ab113cce5497a19ac997"><div class="ttname"><a href="../../d8/d8d/_messenger_8c.html#a23c8b52187d4ab113cce5497a19ac997">m_send_message_generic</a></div><div class="ttdeci">int m_send_message_generic(Messenger *m, int32_t friendnumber, uint8_t type, const uint8_t *message, uint32_t length, uint32_t *message_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/_messenger_8c_source.html#l00454">Messenger.c:454</a></div></div>
<div class="ttc" id="toxav__many__test_8c_html_a1b88a4421cf9eef5af4895904ce2d905"><div class="ttname"><a href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a></div><div class="ttdeci">printf(&quot;All set after %llu seconds! Starting call...\n&quot;, time(NULL)-cur_time)</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/de9/_messenger__test_8c_a7a4fea32f3eb3f26cf343c951bbfae68_cgraph.png" border="0" usemap="#db/de9/_messenger__test_8c_a7a4fea32f3eb3f26cf343c951bbfae68_cgraph" alt=""/></div>
<map name="db/de9/_messenger__test_8c_a7a4fea32f3eb3f26cf343c951bbfae68_cgraph" id="db/de9/_messenger__test_8c_a7a4fea32f3eb3f26cf343c951bbfae68_cgraph">
<area shape="rect" id="node2" href="../../d8/d8d/_messenger_8c.html#a23c8b52187d4ab113cce5497a19ac997" title="m_send_message_generic" alt="" coords="160,597,337,624"/><area shape="rect" id="node40" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905" title="printf" alt="" coords="223,648,274,675"/><area shape="rect" id="node3" href="../../d8/d8d/_messenger_8c.html#a36587bd583123730d702e5a4cb894e5f" title="friend_not_valid" alt="" coords="612,521,725,548"/><area shape="rect" id="node4" href="../../d8/dc6/net__crypto_8c.html#ab17ccce6d503f75b7d98be214ebd7621" title="write_cryptpacket" alt="" coords="403,623,528,649"/><area shape="rect" id="node36" href="../../d2/db1/friend__connection_8c.html#a8586e3dfb2047821c4214adf8d06a877" title="friend_connection_crypt\l_connection_id" alt="" coords="385,707,545,749"/><area shape="rect" id="node39" href="../../d8/d8d/_messenger_8c.html#a669d4111f5309184034fcbbe4ee1372c" title="add_receipt" alt="" coords="421,572,510,599"/><area shape="rect" id="node5" href="../../d8/dc6/net__crypto_8c.html#a909daa4b6d420cbd028f2c956a8642db" title="get_crypto_connection" alt="" coords="1823,493,1976,520"/><area shape="rect" id="node7" href="../../d8/dc6/net__crypto_8c.html#a06c8bdc27b9865d1b7d775b654f44d1a" title="send_lossless_packet" alt="" coords="593,572,744,599"/><area shape="rect" id="node6" href="../../d8/dc6/net__crypto_8c.html#a8aae93bf17f0b4a4305b88334e820310" title="crypt_connection_id\l_not_valid" alt="" coords="2046,486,2185,527"/><area shape="rect" id="node8" href="../../d8/dc6/net__crypto_8c.html#abb8a6ea2bdfb75eb366cc0a026649e2c" title="reset_max_speed_reached" alt="" coords="792,496,971,523"/><area shape="rect" id="node9" href="../../d8/dc6/net__crypto_8c.html#a1e36bfc22078fc52c29d90e8ab79295d" title="get_data_pointer" alt="" coords="1045,547,1163,573"/><area shape="rect" id="node10" href="../../d8/dc6/net__crypto_8c.html#a572e703b36ffafdc4cf9dafd31a279d7" title="send_data_packet_helper" alt="" coords="1019,395,1189,421"/><area shape="rect" id="node33" href="../../db/d11/irc__syncbot_8c.html#ae8ecaef140b786a2720eadbb85918e81" title="current_time_monotonic" alt="" coords="1023,445,1185,472"/><area shape="rect" id="node34" href="../../d8/dc6/net__crypto_8c.html#af55d3f30f6b07366883f01a8fa09d866" title="add_data_end_of_buffer" alt="" coords="801,597,962,624"/><area shape="rect" id="node11" href="../../d8/dc6/net__crypto_8c.html#a507dd998c297ff5a666bd08121dd4143" title="send_data_packet" alt="" coords="1237,319,1365,345"/><area shape="rect" id="node12" href="../../dc/d85/crypto__core_8c.html#a81efc0a4a6e0efe372651e26e342a6e5" title="encrypt_data_symmetric" alt="" coords="2471,5,2636,32"/><area shape="rect" id="node13" href="../../dc/d85/crypto__core_8c.html#ab953f1e92b8a9a193f69f02323b9c980" title="increment_nonce" alt="" coords="2493,68,2614,95"/><area shape="rect" id="node14" href="../../d8/dc6/net__crypto_8c.html#a94d4c99b16cb7bd2dd61f9a7a8caf94a" title="send_packet_to" alt="" coords="1413,319,1528,345"/><area shape="rect" id="node15" href="../../d8/dc6/net__crypto_8c.html#afb5c59e6df7f38fe0bdf9e0f6c459869" title="crypto_connection_status" alt="" coords="1586,293,1757,320"/><area shape="rect" id="node21" href="../../d6/d6e/network_8c.html#a7b90f87f3ba60cc5c66dd6dd77cd5cb1" title="sendpacket" alt="" coords="1627,344,1716,371"/><area shape="rect" id="node22" href="../../d5/d26/_t_c_p__connection_8c.html#a455e955e01d34ff3db0b22b8f6d49d98" title="send_packet_tcp_connection" alt="" coords="1576,243,1767,269"/><area shape="rect" id="node16" href="../../de/df1/util_8c.html#ac958d9f8847cb8039444bfa3d304233a" title="unix_time" alt="" coords="1860,420,1939,447"/><area shape="rect" id="node17" href="../../d5/d26/_t_c_p__connection_8c.html#ae843b0b4c8041f08bf9c18f68cae8a61" title="tcp_connection_to_online\l_tcp_relays" alt="" coords="1815,354,1984,395"/><area shape="rect" id="node18" href="../../d5/d26/_t_c_p__connection_8c.html#a95c3e01ee87339f2dc2e87646f464b51" title="get_connection" alt="" coords="2060,363,2171,389"/><area shape="rect" id="node20" href="../../d5/d26/_t_c_p__connection_8c.html#a255916e82a74ad6c617216af786ec335" title="online_tcp_connection\l_from_conn" alt="" coords="2040,414,2191,455"/><area shape="rect" id="node19" href="../../d5/d26/_t_c_p__connection_8c.html#aafa7b2a7f56b8f6bb0c1e44b9aec7262" title="connections_number\l_not_valid" alt="" coords="2263,355,2406,397"/><area shape="rect" id="node23" href="../../d5/d26/_t_c_p__connection_8c.html#ab051b2158958b954824dbed361ec588a" title="get_tcp_connection" alt="" coords="1832,247,1967,273"/><area shape="rect" id="node25" href="../../da/da1/_t_c_p__client_8c.html#aea842652030d00bd8302e3c0201f95b9" title="send_data" alt="" coords="1858,195,1941,221"/><area shape="rect" id="node32" href="../../da/da1/_t_c_p__client_8c.html#a7818a314434c2bb01c3ea406744f076b" title="send_oob_packet" alt="" coords="1837,119,1961,145"/><area shape="rect" id="node24" href="../../d5/d26/_t_c_p__connection_8c.html#ae8f5b59977d8d4221ff8da3922d257a5" title="tcp_connections_number\l_not_valid" alt="" coords="2032,297,2199,338"/><area shape="rect" id="node26" href="../../da/da1/_t_c_p__client_8c.html#a8e1ca90aa8db34a58b3b38cfcb1bb9de" title="send_ping_response" alt="" coords="2045,195,2186,221"/><area shape="rect" id="node27" href="../../da/da1/_t_c_p__client_8c.html#ab959397449cc23b5811168e4395bdaea" title="write_packet_TCP_secure\l_connection" alt="" coords="2247,130,2423,171"/><area shape="rect" id="node31" href="../../da/da1/_t_c_p__client_8c.html#a5aad81831c1333b763c9fd5eaf41603f" title="send_ping_request" alt="" coords="2050,144,2181,171"/><area shape="rect" id="node28" href="../../da/da1/_t_c_p__client_8c.html#a878656cc36ac482c8063082d0d86850f" title="send_pending_data" alt="" coords="2486,131,2621,157"/><area shape="rect" id="node30" href="../../da/da1/_t_c_p__client_8c.html#a87e67ddfe8fdabe9f2d32080097c3970" title="add_priority" alt="" coords="2509,181,2598,208"/><area shape="rect" id="node29" href="../../da/da1/_t_c_p__client_8c.html#a531708d11982cfb4c8d31ac915c25386" title="send_pending_data_nonpriority" alt="" coords="2684,131,2885,157"/><area shape="rect" id="node35" href="../../d8/dc6/net__crypto_8c.html#abbe1101e6464100c19aea7cde5c1d3a0" title="num_packets_array" alt="" coords="1036,597,1172,624"/><area shape="rect" id="node37" href="../../d2/db1/friend__connection_8c.html#a0c0c32645b094058a6e6d6bcab4ed718" title="get_conn" alt="" coords="631,749,706,776"/><area shape="rect" id="node38" href="../../d2/db1/friend__connection_8c.html#abecf42b27a016431837ee0b8a4ac5a5e" title="friendconn_id_not_valid" alt="" coords="802,749,961,776"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/de9/_messenger__test_8c_a7a4fea32f3eb3f26cf343c951bbfae68_icgraph.png" border="0" usemap="#db/de9/_messenger__test_8c_a7a4fea32f3eb3f26cf343c951bbfae68_icgraph" alt=""/></div>
<map name="db/de9/_messenger__test_8c_a7a4fea32f3eb3f26cf343c951bbfae68_icgraph" id="db/de9/_messenger__test_8c_a7a4fea32f3eb3f26cf343c951bbfae68_icgraph">
<area shape="rect" id="node2" href="../../db/de9/_messenger__test_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="160,5,211,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a38c8dd7be210f3e938afa8e6eb4cd562"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d79/struct_messenger.html">Messenger</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>public_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/de9/_messenger__test_8c_source.html#l00070">70</a> of file <a class="el" href="../../db/de9/_messenger__test_8c_source.html">Messenger_test.c</a>.</p>

<p>References <a class="el" href="../../d8/d8d/_messenger_8c_source.html#l00279">m_addfriend_norequest()</a>, and <a class="el" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf()</a>.</p>

<p>Referenced by <a class="el" href="../../db/de9/_messenger__test_8c_source.html#l00097">main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;Friend request received from: \n&quot;</span>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;ClientID: &quot;</span>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    uint32_t j;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">for</span> (j = 0; j &lt; 32; j++) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/db5/namespacemake-funny-savefile.html#a6734667aeff5c30ad9e5624ccb556a87">public_key</a>[j] &lt; 16)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;0&quot;</span>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;%hhX&quot;</span>, <a class="code" href="../../df/db5/namespacemake-funny-savefile.html#a6734667aeff5c30ad9e5624ccb556a87">public_key</a>[j]);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;\nOf length: %lu with data: %s \n&quot;</span>, length, <a class="code" href="../../df/db5/namespacemake-funny-savefile.html#aa7a0efb8690a34f61a95b00cc723ca27">data</a>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">if</span> (length != <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;Install Gentoo&quot;</span>)) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (memcmp(<a class="code" href="../../df/db5/namespacemake-funny-savefile.html#aa7a0efb8690a34f61a95b00cc723ca27">data</a> , <span class="stringliteral">&quot;Install Gentoo&quot;</span>, <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;Install Gentoo&quot;</span>)) == 0 )</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="comment">//if the request contained the message of peace the person is obviously a friend so we add him.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <a class="code" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a>(<span class="stringliteral">&quot;Friend request accepted.\n&quot;</span>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <a class="code" href="../../d8/d8d/_messenger_8c.html#a2f7aa06733a25e8c0edc8f31a22a78dc">m_addfriend_norequest</a>(m, <a class="code" href="../../df/db5/namespacemake-funny-savefile.html#a6734667aeff5c30ad9e5624ccb556a87">public_key</a>);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
<div class="ttc" id="toxav__many__test_8c_html_a1b88a4421cf9eef5af4895904ce2d905"><div class="ttname"><a href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905">printf</a></div><div class="ttdeci">printf(&quot;All set after %llu seconds! Starting call...\n&quot;, time(NULL)-cur_time)</div></div>
<div class="ttc" id="namespacemake-funny-savefile_html_a6734667aeff5c30ad9e5624ccb556a87"><div class="ttname"><a href="../../df/db5/namespacemake-funny-savefile.html#a6734667aeff5c30ad9e5624ccb556a87">make-funny-savefile.public_key</a></div><div class="ttdeci">list public_key</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d01/make-funny-savefile_8py_source.html#l00068">make-funny-savefile.py:68</a></div></div>
<div class="ttc" id="namespacemake-funny-savefile_html_aa7a0efb8690a34f61a95b00cc723ca27"><div class="ttname"><a href="../../df/db5/namespacemake-funny-savefile.html#aa7a0efb8690a34f61a95b00cc723ca27">make-funny-savefile.data</a></div><div class="ttdeci">tuple data</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d01/make-funny-savefile_8py_source.html#l00098">make-funny-savefile.py:98</a></div></div>
<div class="ttc" id="_messenger_8c_html_a2f7aa06733a25e8c0edc8f31a22a78dc"><div class="ttname"><a href="../../d8/d8d/_messenger_8c.html#a2f7aa06733a25e8c0edc8f31a22a78dc">m_addfriend_norequest</a></div><div class="ttdeci">int32_t m_addfriend_norequest(Messenger *m, const uint8_t *real_pk)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8d/_messenger_8c_source.html#l00279">Messenger.c:279</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/de9/_messenger__test_8c_a38c8dd7be210f3e938afa8e6eb4cd562_cgraph.png" border="0" usemap="#db/de9/_messenger__test_8c_a38c8dd7be210f3e938afa8e6eb4cd562_cgraph" alt=""/></div>
<map name="db/de9/_messenger__test_8c_a38c8dd7be210f3e938afa8e6eb4cd562_cgraph" id="db/de9/_messenger__test_8c_a38c8dd7be210f3e938afa8e6eb4cd562_cgraph">
<area shape="rect" id="node2" href="../../d8/d8d/_messenger_8c.html#a2f7aa06733a25e8c0edc8f31a22a78dc" title="m_addfriend_norequest" alt="" coords="151,208,308,235"/><area shape="rect" id="node24" href="../../d6/dc0/toxav__many__test_8c.html#a1b88a4421cf9eef5af4895904ce2d905" title="printf" alt="" coords="1280,216,1331,243"/><area shape="rect" id="node3" href="../../d8/d8d/_messenger_8c.html#a32203f86be17e650ef0f7e5b7eff66bc" title="getfriend_id" alt="" coords="371,208,460,235"/><area shape="rect" id="node4" href="../../de/df1/util_8c.html#ada3d44b4f530d3c8c9cb69b732be94b1" title="id_equal" alt="" coords="581,157,651,184"/><area shape="rect" id="node5" href="../../dc/d85/crypto__core_8c.html#ab4a996d3466879a493cc6496acb6cd7e" title="public_key_valid" alt="" coords="356,528,475,555"/><area shape="rect" id="node6" href="../../d8/d8d/_messenger_8c.html#aa3be5ad998d2b0ced07aceab765eaa2f" title="init_new_friend" alt="" coords="361,477,470,504"/><area shape="rect" id="node7" href="../../d8/d8d/_messenger_8c.html#ade10ae2516f68845c8b2e0c5eb95bd41" title="realloc_friendlist" alt="" coords="558,427,674,453"/><area shape="rect" id="node8" href="../../d2/db1/friend__connection_8c.html#a613a80a004fccd616de2a67d84a25d3c" title="new_friend_connection" alt="" coords="539,477,693,504"/><area shape="rect" id="node29" href="../../de/df1/util_8c.html#aa30049b8c1d82c280d6d872feea3353b" title="id_copy" alt="" coords="583,376,649,403"/><area shape="rect" id="node30" href="../../d2/db1/friend__connection_8c.html#a15c404d517b4a4fb3976f4d85bfbaef0" title="friend_connection_callbacks" alt="" coords="523,705,709,732"/><area shape="rect" id="node33" href="../../d8/d8d/_messenger_8c.html#a2be56d7329b8b89d95918eba9b692c71" title="handle_status" alt="" coords="565,832,667,859"/><area shape="rect" id="node34" href="../../d8/d8d/_messenger_8c.html#a3bf115e8b97c037d1d40faa946905b3b" title="send_online_packet" alt="" coords="776,883,913,909"/><area shape="rect" id="node40" href="../../d8/d8d/_messenger_8c.html#a8fce9b8564a3a552ff2b77a9f81914ad" title="handle_packet" alt="" coords="563,984,669,1011"/><area shape="rect" id="node49" href="../../d8/d8d/_messenger_8c.html#a24c5719d515558a6e9d768a861d6dc22" title="handle_custom_lossy\l_packet" alt="" coords="542,1141,690,1182"/><area shape="rect" id="node50" href="../../d2/db1/friend__connection_8c.html#ae5c94f8543c84506c85faac6d2b3a9dd" title="friend_con_connected" alt="" coords="1231,5,1380,32"/><area shape="rect" id="node9" href="../../d2/db1/friend__connection_8c.html#a97c5d86b2475e17f2cda62ad13df1bea" title="getfriend_conn_id_pk" alt="" coords="1233,553,1378,580"/><area shape="rect" id="node12" href="../../d2/db1/friend__connection_8c.html#ad22b76facda79873a4cde9562c8cd663" title="create_friend_conn" alt="" coords="779,477,911,504"/><area shape="rect" id="node14" href="../../db/d79/onion__client_8c.html#a4dd8a80061f115daba3ffb2a3f611b38" title="onion_addfriend" alt="" coords="788,528,901,555"/><area shape="rect" id="node17" href="../../db/d79/onion__client_8c.html#a7bb680d62616d0dfbb6f7d2ff097107c" title="recv_tcp_relay_handler" alt="" coords="767,272,923,299"/><area shape="rect" id="node18" href="../../d2/db1/friend__connection_8c.html#a9360ec098f2b1082b480b4e36b0a5f07" title="tcp_relay_node_callback" alt="" coords="999,56,1164,83"/><area shape="rect" id="node21" href="../../db/d79/onion__client_8c.html#a08895281211a01749ee466338fedbeec" title="onion_dht_pk_callback" alt="" coords="767,325,922,352"/><area shape="rect" id="node22" href="../../d2/db1/friend__connection_8c.html#a53d1bd9e6126683e05e0e14cc70d1a8a" title="dht_pk_callback" alt="" coords="787,376,903,403"/><area shape="rect" id="node10" href="../../d2/db1/friend__connection_8c.html#a0c0c32645b094058a6e6d6bcab4ed718" title="get_conn" alt="" coords="1428,351,1503,377"/><area shape="rect" id="node11" href="../../d2/db1/friend__connection_8c.html#abecf42b27a016431837ee0b8a4ac5a5e" title="friendconn_id_not_valid" alt="" coords="1551,351,1709,377"/><area shape="rect" id="node13" href="../../d2/db1/friend__connection_8c.html#a7560121d48da253e4b63df88bfc47e55" title="realloc_friendconns" alt="" coords="1014,477,1149,504"/><area shape="rect" id="node15" href="../../db/d79/onion__client_8c.html#a5c2b07b25a5892051b8e132361c54d53" title="onion_friend_num" alt="" coords="1019,528,1143,555"/><area shape="rect" id="node16" href="../../db/d79/onion__client_8c.html#aa5f27f182606ab701dfc948bfb3a1b42" title="realloc_onion_friends" alt="" coords="1009,579,1153,605"/><area shape="rect" id="node19" href="../../d2/db1/friend__connection_8c.html#ac89688f7660c1cb5fb664ecc09bab460" title="friend_add_tcp_relay" alt="" coords="1234,161,1377,188"/><area shape="rect" id="node20" href="../../d8/dc6/net__crypto_8c.html#a632021583d7dd2484614071a7080f311" title="add_tcp_relay" alt="" coords="1254,56,1357,83"/><area shape="rect" id="node23" href="../../d2/db1/friend__connection_8c.html#aa293768f213199a635ce0b4a94489cdf" title="change_dht_pk" alt="" coords="1026,275,1137,301"/><area shape="rect" id="node25" href="../../d8/dc6/net__crypto_8c.html#a16c3a0008512675dad8eb00ff1822763" title="crypto_kill" alt="" coords="1041,157,1122,184"/><area shape="rect" id="node26" href="../../d2/db1/friend__connection_8c.html#abf73eaa3805a863ab454fb4afe0fb49f" title="handle_status" alt="" coords="1254,325,1357,352"/><area shape="rect" id="node27" href="../../d2/db1/friend__connection_8c.html#ac2af058fd8684e6abc7b136889f5f4e5" title="friend_new_connection" alt="" coords="1004,376,1159,403"/><area shape="rect" id="node28" href="../../db/d79/onion__client_8c.html#a1c5dc5e030ac14db475a4b45214f2a88" title="onion_set_friend_DHT\l_pubkey" alt="" coords="1005,209,1157,250"/><area shape="rect" id="node31" href="../../d2/d8d/_t_c_p__test_8c.html#ae4f12b6805a17277d33e73ac030d7aca" title="status_callback" alt="" coords="788,731,901,757"/><area shape="rect" id="node32" href="../../d2/d8d/_t_c_p__test_8c.html#a36ed22ce4a6bec3fb113a4eaf29df5e1" title="data_callback" alt="" coords="793,781,896,808"/><area shape="rect" id="node38" href="../../d8/d8d/_messenger_8c.html#a2e422bac86f120965227703f1930c8e6" title="set_friend_status" alt="" coords="783,832,906,859"/><area shape="rect" id="node35" href="../../d8/d8d/_messenger_8c.html#a36587bd583123730d702e5a4cb894e5f" title="friend_not_valid" alt="" coords="1025,1093,1138,1120"/><area shape="rect" id="node36" href="../../d8/dc6/net__crypto_8c.html#ab17ccce6d503f75b7d98be214ebd7621" title="write_cryptpacket" alt="" coords="1019,849,1144,876"/><area shape="rect" id="node37" href="../../d2/db1/friend__connection_8c.html#a8586e3dfb2047821c4214adf8d06a877" title="friend_connection_crypt\l_connection_id" alt="" coords="1001,901,1161,942"/><area shape="rect" id="node39" href="../../d8/d8d/_messenger_8c.html#a961f02c4cb668e9932894d0f8969dbb1" title="check_friend_connectionstatus" alt="" coords="980,799,1183,825"/><area shape="rect" id="node41" href="../../d8/d8d/_messenger_8c.html#ad317d62e3ddf9894af11093d30cae31b" title="set_friend_statusmessage" alt="" coords="757,1152,932,1179"/><area shape="rect" id="node42" href="../../d8/d8d/_messenger_8c.html#a57a114bf07876ef46d27c7cfee31137f" title="set_friend_userstatus" alt="" coords="771,984,918,1011"/><area shape="rect" id="node43" href="../../d8/d8d/_messenger_8c.html#abed35de4c690ded50f67fdaf5e96324c" title="set_friend_typing" alt="" coords="784,1035,905,1061"/><area shape="rect" id="node44" href="../../d8/d8d/_messenger_8c.html#a56b6a138fb4522b859fda806c8ca4c20" title="handle_filecontrol" alt="" coords="783,1203,906,1229"/><area shape="rect" id="node46" href="../../d8/d8d/_messenger_8c.html#a2d94ca52e2129848ab7b137edb049eb4" title="file_data" alt="" coords="809,933,880,960"/><area shape="rect" id="node48" href="../../d8/d8d/_messenger_8c.html#a4816c8b0bbf3b241f07654a2b6593fee" title="handle_custom_lossless\l_packet" alt="" coords="762,1086,927,1127"/><area shape="rect" id="node45" href="../../d8/d8d/_messenger_8c.html#a573ae5677a4dc9958bcec9bd3c9af6df" title="send_file_control_packet" alt="" coords="998,1203,1165,1229"/><area shape="rect" id="node47" href="../../d8/dc6/net__crypto_8c.html#a4680603c9714e8742ad580b74ff1d891" title="crypto_num_free_sendqueue\l_slots" alt="" coords="987,966,1176,1007"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/de9/_messenger__test_8c_a38c8dd7be210f3e938afa8e6eb4cd562_icgraph.png" border="0" usemap="#db/de9/_messenger__test_8c_a38c8dd7be210f3e938afa8e6eb4cd562_icgraph" alt=""/></div>
<map name="db/de9/_messenger__test_8c_a38c8dd7be210f3e938afa8e6eb4cd562_icgraph" id="db/de9/_messenger__test_8c_a38c8dd7be210f3e938afa8e6eb4cd562_icgraph">
<area shape="rect" id="node2" href="../../db/de9/_messenger__test_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="151,5,201,32"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="aea6eb6c7c30a659f1b0dee83eaf03ea2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d79/struct_messenger.html">Messenger</a>* m</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/de9/_messenger__test_8c_source.html#l00068">68</a> of file <a class="el" href="../../db/de9/_messenger__test_8c_source.html">Messenger_test.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 2 2015 23:41:17 for libtoxcore by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
